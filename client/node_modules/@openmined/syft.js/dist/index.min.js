!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@tensorflow/tfjs-core")):"function"==typeof define&&define.amd?define(["exports","@tensorflow/tfjs-core"],r):r((t=t||self).syft={},t.tf)}(this,(function(exports,tf){"use strict";var SOCKET_STATUS="socket-status",SOCKET_PING="socket-ping",GET_PROTOCOL="get-protocol",CYCLE_STATUS_ACCEPTED="accepted",CYCLE_STATUS_REJECTED="rejected",WEBRTC_JOIN_ROOM="webrtc: join-room",WEBRTC_INTERNAL_MESSAGE="webrtc: internal-message",WEBRTC_PEER_LEFT="webrtc: peer-left",WEBRTC_DATACHANNEL_CHUNK_SIZE=65536,WEBRTC_DATACHANNEL_MAX_BUFFER=4194304,WEBRTC_DATACHANNEL_BUFFER_TIMEOUT=2e3,WEBRTC_DATACHANNEL_MAX_BUFFER_TIMEOUTS=5,WEBRTC_PEER_CONFIG={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}]},WEBRTC_PEER_OPTIONS={optional:[{DtlsSrtpKeyAgreement:!0}]};function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var classCallCheck=_classCallCheck;function _defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,o){return r&&_defineProperties(t.prototype,r),o&&_defineProperties(t,o),t}var createClass=_createClass,EventObserver=function(){function EventObserver(){classCallCheck(this,EventObserver),this.observers=[]}return createClass(EventObserver,[{key:"subscribe",value:function subscribe(t,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.observers.push({type:t,func:r,expires:o})}},{key:"unsubscribe",value:function unsubscribe(t,r){this.observers=this.observers.filter((function(o){return t!==o.type&&r!==o.func}))}},{key:"broadcast",value:function broadcast(t,r){this.observers.forEach((function(o){t===o.type&&(!1===o.expires||o.expires>0)&&("number"==typeof o.expires&&o.expires--,o.func(r))})),this.observers=this.observers.filter((function(t){return t.expires>0||!1===t.expires}))}}]),EventObserver}(),Logger=function(){function Logger(t,r){return classCallCheck(this,Logger),Logger.instance||(this.system=t,this.verbose=r,Logger.instance=this),Logger.instance}return createClass(Logger,[{key:"log",value:function log(t,r){if(this.verbose){var o="".concat(Date.now(),": ").concat(this.system," - ").concat(t);r?console.log(o,r):console.log(o)}}}]),Logger}();function _arrayWithHoles(t){if(Array.isArray(t))return t}var arrayWithHoles=_arrayWithHoles;function _iterableToArrayLimit(t,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var o=[],i=!0,a=!1,c=void 0;try{for(var l,p=t[Symbol.iterator]();!(i=(l=p.next()).done)&&(o.push(l.value),!r||o.length!==r);i=!0);}catch(t){a=!0,c=t}finally{try{i||null==p.return||p.return()}finally{if(a)throw c}}return o}}var iterableToArrayLimit=_iterableToArrayLimit;function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}var arrayLikeToArray=_arrayLikeToArray;function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?arrayLikeToArray(t,r):void 0}}var unsupportedIterableToArray=_unsupportedIterableToArray;function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var nonIterableRest=_nonIterableRest;function _slicedToArray(t,r){return arrayWithHoles(t)||iterableToArrayLimit(t,r)||unsupportedIterableToArray(t,r)||nonIterableRest()}var slicedToArray=_slicedToArray,commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,r,o){return t(o={path:r,exports:{},require:function(t,r){return commonjsRequire(t,null==r?o.path:r)}},o.exports),o.exports}function getCjsExportFromNamespace(t){return t&&t.default||t}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var runtime_1=createCommonjsModule((function(t){var r=function(t){var r,o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",p=a.toStringTag||"@@toStringTag";function wrap(t,r,o,i){var a=r&&r.prototype instanceof Generator?r:Generator,c=Object.create(a.prototype),l=new Context(i||[]);return c._invoke=function makeInvokeMethod(t,r,o){var i=u;return function invoke(a,c){if(i===y)throw new Error("Generator is already running");if(i===_){if("throw"===a)throw c;return doneResult()}for(o.method=a,o.arg=c;;){var l=o.delegate;if(l){var p=maybeInvokeDelegate(l,o);if(p){if(p===h)continue;return p}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===u)throw i=_,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=y;var g=tryCatch(t,r,o);if("normal"===g.type){if(i=o.done?_:d,g.arg===h)continue;return{value:g.arg,done:o.done}}"throw"===g.type&&(i=_,o.method="throw",o.arg=g.arg)}}}(t,o,l),c}function tryCatch(t,r,o){try{return{type:"normal",arg:t.call(r,o)}}catch(t){return{type:"throw",arg:t}}}t.wrap=wrap;var u="suspendedStart",d="suspendedYield",y="executing",_="completed",h={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var g={};g[c]=function(){return this};var m=Object.getPrototypeOf,b=m&&m(m(values([])));function ensureDefaultToStringTag(t,r){return p in t?t[p]:t[p]=r}b&&b!==o&&i.call(b,c)&&(g=b);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(g);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){t[r]=function(t){return this._invoke(r,t)}}))}function AsyncIterator(t,r){function invoke(o,a,c,l){var p=tryCatch(t[o],t,a);if("throw"!==p.type){var u=p.arg,d=u.value;return d&&"object"==typeof d&&i.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,c,l)}),(function(t){invoke("throw",t,c,l)})):r.resolve(d).then((function(t){u.value=t,c(u)}),(function(t){return invoke("throw",t,c,l)}))}l(p.arg)}var o;this._invoke=function enqueue(t,i){function callInvokeWithMethodAndArg(){return new r((function(r,o){invoke(t,i,r,o)}))}return o=o?o.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,o){var i=t.iterator[o.method];if(i===r){if(o.delegate=null,"throw"===o.method){if(t.iterator.return&&(o.method="return",o.arg=r,maybeInvokeDelegate(t,o),"throw"===o.method))return h;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=tryCatch(i,t.iterator,o.arg);if("throw"===a.type)return o.method="throw",o.arg=a.arg,o.delegate=null,h;var c=a.arg;return c?c.done?(o[t.resultName]=c.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=r),o.delegate=null,h):c:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,h)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var o=t[c];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,l=function next(){for(;++a<t.length;)if(i.call(t,a))return next.value=t[a],next.done=!1,next;return next.value=r,next.done=!0,next};return l.next=l}}return{next:doneResult}}function doneResult(){return{value:r,done:!0}}return GeneratorFunction.prototype=v.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunction.displayName=ensureDefaultToStringTag(GeneratorFunctionPrototype,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,ensureDefaultToStringTag(t,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[l]=function(){return this},t.AsyncIterator=AsyncIterator,t.async=function(r,o,i,a,c){void 0===c&&(c=Promise);var l=new AsyncIterator(wrap(r,o,i,a),c);return t.isGeneratorFunction(o)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},defineIteratorMethods(v),ensureDefaultToStringTag(v,"Generator"),v[c]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var o in t)r.push(o);return r.reverse(),function next(){for(;r.length;){var o=r.pop();if(o in t)return next.value=o,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(resetTryEntry),!t)for(var o in this)"t"===o.charAt(0)&&i.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function handle(i,a){return l.type="throw",l.arg=t,o.next=i,a&&(o.method="next",o.arg=r),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var c=this.tryEntries[a],l=c.completion;if("root"===c.tryLoc)return handle("end");if(c.tryLoc<=this.prev){var p=i.call(c,"catchLoc"),u=i.call(c,"finallyLoc");if(p&&u){if(this.prev<c.catchLoc)return handle(c.catchLoc,!0);if(this.prev<c.finallyLoc)return handle(c.finallyLoc)}else if(p){if(this.prev<c.catchLoc)return handle(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return handle(c.finallyLoc)}}}},abrupt:function(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var c=a;break}}c&&("break"===t||"continue"===t)&&c.tryLoc<=r&&r<=c.finallyLoc&&(c=null);var l=c?c.completion:{};return l.type=t,l.arg=r,c?(this.method="next",this.next=c.finallyLoc,h):this.complete(l)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),h},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),resetTryEntry(o),h}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc===t){var i=o.completion;if("throw"===i.type){var a=i.arg;resetTryEntry(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,i){return this.delegate={iterator:values(t),resultName:o,nextLoc:i},"next"===this.method&&(this.arg=r),h}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}})),regenerator=runtime_1;function asyncGeneratorStep(t,r,o,i,a,c,l){try{var p=t[c](l),u=p.value}catch(t){return void o(t)}p.done?r(u):Promise.resolve(u).then(i,a)}function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(i,a){var c=t.apply(r,o);function _next(t){asyncGeneratorStep(c,i,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,a,_next,_throw,"throw",t)}_next(void 0)}))}}var asyncToGenerator=_asyncToGenerator,createRandomBuffer=function(){var t=asyncToGenerator(regenerator.mark((function _callee(t){return regenerator.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r){var o=Math.ceil(t/4),i=new Uint32Array(o),a=Math.pow(2,32),c=function randomInt32(){return Math.random()*a},l=262144;setTimeout((function fillNextChunk(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=Math.min(t+l,o),p=t;p<a;p++)i[p]=c();a!==o?setTimeout(fillNextChunk,0,t+l):r(i.buffer)}),0)})));case 1:case"end":return r.stop()}}),_callee)})));return function createRandomBuffer(r){return t.apply(this,arguments)}}(),SpeedTest=function(){function SpeedTest(t){var r=t.downloadUrl,o=t.uploadUrl,i=t.pingUrl,a=t.maxUploadSizeMb,c=void 0===a?64:a,l=t.maxTestTimeSec,p=void 0===l?10:l;classCallCheck(this,SpeedTest),this.downloadUrl=r,this.uploadUrl=o,this.pingUrl=i,this.maxUploadSizeMb=c,this.maxTestTimeSec=p,this.bwAvgWindow=5,this.bwLowJitterThreshold=.05,this.bwMaxLowJitterConsecutiveMeasures=5}var t,r,o,i;return createClass(SpeedTest,[{key:"meterXhr",value:(i=asyncToGenerator(regenerator.mark((function _callee(t){var r,o=this,i=arguments;return regenerator.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],a.abrupt("return",new Promise((function(i,a){var c=null,l=0,p=0,u=new AvgCollector({avgWindow:o.bwAvgWindow,lowJitterThreshold:o.bwLowJitterThreshold,maxLowJitterConsecutiveMeasures:o.bwMaxLowJitterConsecutiveMeasures}),d=r?t.upload:t,y=function finish(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c&&clearTimeout(c),d.onprogress=null,d.onload=null,d.onerror=null,t.abort(),r?a(new Error(r)):i(u.getAvg())};d.onreadystatechange=function(){1===t.readyState&&(c=setTimeout(y,1e3*o.maxTestTimeSec),l||(l=Date.now()/1e3,p=0))},d.onprogress=function(t){var r=8*t.loaded/1048576,o=Date.now()/1e3;if(!l)return l=o,void(p=r);var i=o-l,a=(r-p)/i;0!==i&&Number.isFinite(a)||(a=1e3),u.collect(a)&&y(),p=r,l=o},d.onload=function(){y()},d.onerror=function(t){y(t)}})));case 2:case"end":return a.stop()}}),_callee)}))),function meterXhr(t){return i.apply(this,arguments)})},{key:"getDownloadSpeed",value:(o=asyncToGenerator(regenerator.mark((function _callee2(){var t,r;return regenerator.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return t=new XMLHttpRequest,r=this.meterXhr(t),t.open("GET",this.downloadUrl+"?"+Math.random(),!0),t.send(),o.abrupt("return",r);case 5:case"end":return o.stop()}}),_callee2,this)}))),function getDownloadSpeed(){return o.apply(this,arguments)})},{key:"getUploadSpeed",value:(r=asyncToGenerator(regenerator.mark((function _callee3(){var t,r,o;return regenerator.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return t=new XMLHttpRequest,r=this.meterXhr(t,!0),i.next=4,createRandomBuffer(1024*this.maxUploadSizeMb*1024);case 4:return o=i.sent,t.open("POST",this.uploadUrl,!0),t.send(o),i.abrupt("return",r);case 8:case"end":return i.stop()}}),_callee3,this)}))),function getUploadSpeed(){return r.apply(this,arguments)})},{key:"getPing",value:(t=asyncToGenerator(regenerator.mark((function _callee4(){var t=this;return regenerator.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,o){var i,a,c=new AvgCollector({}),l=function finish(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a&&clearTimeout(a),t.onprogress=null,t.onload=null,t.onerror=null,t.abort(),i?o(new Error(i)):r(c.getAvg())};a=setTimeout((function(){l(i)}),1e3*t.maxTestTimeSec),function runPing(){var r=new XMLHttpRequest;i=r;var o=Date.now();r.onload=function(){var t=Date.now()-o;c.collect(t)?l(r):setTimeout(runPing,0)},r.onerror=function(t){l(r,t)},r.open("GET",t.pingUrl+"?"+Math.random(),!0),r.send()}()})));case 1:case"end":return r.stop()}}),_callee4)}))),function getPing(){return t.apply(this,arguments)})}]),SpeedTest}(),AvgCollector=function(){function AvgCollector(t){var r=t.avgWindow,o=void 0===r?5:r,i=t.lowJitterThreshold,a=void 0===i?.05:i,c=t.maxLowJitterConsecutiveMeasures,l=void 0===c?5:c;classCallCheck(this,AvgCollector),this.measuresCount=0,this.prevAvg=0,this.avg=0,this.lowJitterConsecutiveMeasures=0,this.avgWindow=o,this.lowJitterThreshold=a,this.maxLowJitterConsecutiveMeasures=l,this.name=name}return createClass(AvgCollector,[{key:"collect",value:function collect(t){this.prevAvg=this.avg;var r=Math.min(this.measuresCount,this.avgWindow);return this.avg=(this.avg*r+t)/(r+1),this.measuresCount++,this.prevAvg>0&&this.avg<this.prevAvg*(1+this.lowJitterThreshold)&&this.avg>this.prevAvg*(1-this.lowJitterThreshold)?this.lowJitterConsecutiveMeasures++:this.lowJitterConsecutiveMeasures=0,this.lowJitterConsecutiveMeasures>=this.maxLowJitterConsecutiveMeasures}},{key:"getAvg",value:function getAvg(){return this.avg}}]),AvgCollector}(),setPrototypeOf=createCommonjsModule((function(t){function _setPrototypeOf(r,o){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(r,o)}t.exports=_setPrototypeOf}));function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&setPrototypeOf(t,r)}var inherits=_inherits,_typeof_1=createCommonjsModule((function(t){function _typeof(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=_typeof=function _typeof(t){return typeof t}:t.exports=_typeof=function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(r)}t.exports=_typeof}));function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var assertThisInitialized=_assertThisInitialized;function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof_1(r)&&"function"!=typeof r?assertThisInitialized(t):r}var possibleConstructorReturn=_possibleConstructorReturn,getPrototypeOf=createCommonjsModule((function(t){function _getPrototypeOf(r){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(r)}t.exports=_getPrototypeOf}));function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}var isNativeFunction=_isNativeFunction;function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var isNativeReflectConstruct=_isNativeReflectConstruct,construct=createCommonjsModule((function(t){function _construct(r,o,i){return isNativeReflectConstruct()?t.exports=_construct=Reflect.construct:t.exports=_construct=function _construct(t,r,o){var i=[null];i.push.apply(i,r);var a=new(Function.bind.apply(t,i));return o&&setPrototypeOf(a,o.prototype),a},_construct.apply(null,arguments)}t.exports=_construct})),wrapNativeSuper=createCommonjsModule((function(t){function _wrapNativeSuper(r){var o="function"==typeof Map?new Map:void 0;return t.exports=_wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,Wrapper)}function Wrapper(){return construct(t,arguments,getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),setPrototypeOf(Wrapper,t)},_wrapNativeSuper(r)}t.exports=_wrapNativeSuper}));function _createSuper(t){var r=_isNativeReflectConstruct$1();return function _createSuperInternal(){var o,i=getPrototypeOf(t);if(r){var a=getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return possibleConstructorReturn(this,o)}}function _isNativeReflectConstruct$1(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var NoDetailerError=function(t){inherits(NoDetailerError,t);var r=_createSuper(NoDetailerError);function NoDetailerError(t){var o;return classCallCheck(this,NoDetailerError),(o=r.call(this,"Serialized object contains type that may exist in PySyft, but is not currently supported in syft.js. Please file a feature request (https://github.com/OpenMined/syft.js/issues) for type ".concat(t,"."))).name="NoDetailerError",o}return NoDetailerError}(wrapNativeSuper(Error)),NotEnoughArgsError=function(t){inherits(NotEnoughArgsError,t);var r=_createSuper(NotEnoughArgsError);function NotEnoughArgsError(t,o){var i;return classCallCheck(this,NotEnoughArgsError),(i=r.call(this,"You have passed ".concat(t," argument(s) when the plan requires ").concat(o," argument(s)."))).name="NotEnoughArgsError",i}return NotEnoughArgsError}(wrapNativeSuper(Error)),MissingVariableError=function(t){inherits(MissingVariableError,t);var r=_createSuper(MissingVariableError);function MissingVariableError(){var t;return classCallCheck(this,MissingVariableError),(t=r.call(this,"Command requires variable that is missing.")).name="MissingVariableError",t}return MissingVariableError}(wrapNativeSuper(Error)),CannotFindCommandError=function(t){inherits(CannotFindCommandError,t);var r=_createSuper(CannotFindCommandError);function CannotFindCommandError(t){var o;return classCallCheck(this,CannotFindCommandError),(o=r.call(this,"Command ".concat(t," not found in in TensorFlow.js."))).name="CannotFindCommandError",o}return CannotFindCommandError}(wrapNativeSuper(Error)),GridUnknownCycleStatusError=function(t){inherits(GridUnknownCycleStatusError,t);var r=_createSuper(GridUnknownCycleStatusError);function GridUnknownCycleStatusError(t){var o;return classCallCheck(this,GridUnknownCycleStatusError),(o=r.call(this,"Unknown cycle status: ".concat(t))).name="GridUnknownCycleStatusError",o}return GridUnknownCycleStatusError}(wrapNativeSuper(Error)),GridError=function(t){inherits(GridError,t);var r=_createSuper(GridError);function GridError(t){var o;return classCallCheck(this,GridError),(o=r.call(this,"Grid error: ".concat(t))).name="GridError",o}return GridError}(wrapNativeSuper(Error)),ModelLoadFailedError=function(t){inherits(ModelLoadFailedError,t);var r=_createSuper(ModelLoadFailedError);function ModelLoadFailedError(t){var o;return classCallCheck(this,ModelLoadFailedError),(o=r.call(this,"Failed to load Model: ".concat(t))).name="ModelLoadFailedError",o}return ModelLoadFailedError}(wrapNativeSuper(Error)),PlanLoadFailedError=function(t){inherits(PlanLoadFailedError,t);var r=_createSuper(PlanLoadFailedError);function PlanLoadFailedError(t,o){var i;return classCallCheck(this,PlanLoadFailedError),(i=r.call(this,"Failed to load '".concat(t,"' Plan: ").concat(o))).name="PlanLoadFailedError",i}return PlanLoadFailedError}(wrapNativeSuper(Error)),ProtobufUnserializeFailedError=function(t){inherits(ProtobufUnserializeFailedError,t);var r=_createSuper(ProtobufUnserializeFailedError);function ProtobufUnserializeFailedError(t,o){var i;return classCallCheck(this,ProtobufUnserializeFailedError),(i=r.call(this,"Failed to unserialize binary protobuf data into ".concat(t,": ").concat(o))).name="ProtobufUnserializeFailedError",i}return ProtobufUnserializeFailedError}(wrapNativeSuper(Error)),base64Arraybuffer=createCommonjsModule((function(t,r){!function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(256),i=0;i<t.length;i++)o[t.charCodeAt(i)]=i;r.encode=function(r){var o,i=new Uint8Array(r),a=i.length,c="";for(o=0;o<a;o+=3)c+=t[i[o]>>2],c+=t[(3&i[o])<<4|i[o+1]>>4],c+=t[(15&i[o+1])<<2|i[o+2]>>6],c+=t[63&i[o+2]];return a%3==2?c=c.substring(0,c.length-1)+"=":a%3==1&&(c=c.substring(0,c.length-2)+"=="),c},r.decode=function(t){var r,i,a,c,l,p=.75*t.length,u=t.length,d=0;"="===t[t.length-1]&&(p--,"="===t[t.length-2]&&p--);var y=new ArrayBuffer(p),_=new Uint8Array(y);for(r=0;r<u;r+=4)i=o[t.charCodeAt(r)],a=o[t.charCodeAt(r+1)],c=o[t.charCodeAt(r+2)],l=o[t.charCodeAt(r+3)],_[d++]=i<<2|a>>4,_[d++]=(15&a)<<4|c>>2,_[d++]=(3&c)<<6|63&l;return y}}()})),base64Decode=function base64Decode(t){return new Uint8Array(base64Arraybuffer.decode(t))},base64Encode=function base64Encode(t){return base64Arraybuffer.encode(t)},HTTP_PATH_VERB={"model-centric/get-plan":"GET","model-centric/get-model":"GET","model-centric/get-protocol":"GET","model-centric/cycle-request":"POST","model-centric/report":"POST","model-centric/authenticate":"POST"},GridAPIClient=function(){function GridAPIClient(t){var r=t.url,o=t.allowInsecureUrl,i=void 0!==o&&o;classCallCheck(this,GridAPIClient),this.transport=r.match(/^ws/i)?"ws":"http","ws"===this.transport?(this.wsUrl=r,this.httpUrl=r.replace(/^ws(s)?/i,"http$1")):(this.httpUrl=r,this.wsUrl=r.replace(/^http(s)?/i,"ws$1")),i||(this.wsUrl=this.wsUrl.replace("ws","wss"),this.httpUrl=this.httpUrl.replace("http","https")),this.ws=null,this.observer=new EventObserver,this.wsMessages={},this.logger=new Logger("grid",!0),this.responseTimeout=1e4,this._handleWsMessage=this._handleWsMessage.bind(this),this._handleWsError=this._handleWsError.bind(this),this._handleWsClose=this._handleWsClose.bind(this)}var t,r,o,i,a,c,l,p,u;return createClass(GridAPIClient,[{key:"authenticate",value:(u=asyncToGenerator(regenerator.mark((function _callee(t,r,o){var i;return regenerator.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return this.logger.log("Authenticating against ".concat(t," ").concat(r," with ").concat(o,"...")),a.next=3,this._send("model-centric/authenticate",{model_name:t,model_version:r,auth_token:o});case 3:return i=a.sent,a.abrupt("return",i);case 5:case"end":return a.stop()}}),_callee,this)}))),function authenticate(t,r,o){return u.apply(this,arguments)})},{key:"requestCycle",value:function requestCycle(t,r,o,i,a,c){return this.logger.log("[WID: ".concat(t,"] Requesting cycle for model ").concat(r," v.").concat(o," [").concat(i,", ").concat(a,", ").concat(c,"]...")),this._send("model-centric/cycle-request",{worker_id:t,model:r,version:o,ping:i,download:a,upload:c})}},{key:"getModel",value:(p=asyncToGenerator(regenerator.mark((function _callee2(t,r,o){var i;return regenerator.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return this.logger.log("[WID: ".concat(t,", KEY: ").concat(r,"] Requesting model ").concat(o,"...")),a.next=3,this._sendHttp("model-centric/get-model",{worker_id:t,request_key:r,model_id:o},"arrayBuffer");case 3:return i=a.sent,a.abrupt("return",i);case 5:case"end":return a.stop()}}),_callee2,this)}))),function getModel(t,r,o){return p.apply(this,arguments)})},{key:"getPlan",value:(l=asyncToGenerator(regenerator.mark((function _callee3(t,r,o){var i;return regenerator.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return this.logger.log("[WID: ".concat(t,", KEY: ").concat(r,"] Requesting plan ").concat(o,"...")),a.next=3,this._sendHttp("model-centric/get-plan",{worker_id:t,request_key:r,plan_id:o,receive_operations_as:"tfjs"},"arrayBuffer");case 3:return i=a.sent,a.abrupt("return",i);case 5:case"end":return a.stop()}}),_callee3,this)}))),function getPlan(t,r,o){return l.apply(this,arguments)})},{key:"getProtocol",value:function getProtocol(t,r,o){return this.logger.log("[WID: ".concat(t,", KEY: ").concat(r,"] Requesting protocol ").concat(o,"...")),Promise.resolve("CgYIjcivoCUqEwoGCIHIr6AlEgkSB3dvcmtlcjEqEwoGCIXIr6AlEgkSB3dvcmtlcjIqEwoGCInIr6AlEgkSB3dvcmtlcjM=")}},{key:"submitReport",value:(c=asyncToGenerator(regenerator.mark((function _callee4(t,r,o){var i;return regenerator.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return this.logger.log("[WID: ".concat(t,", KEY: ").concat(r,"] Submitting report...")),a.next=3,this._send("model-centric/report",{worker_id:t,request_key:r,diff:o});case 3:return i=a.sent,a.abrupt("return",i);case 5:case"end":return a.stop()}}),_callee4,this)}))),function submitReport(t,r,o){return c.apply(this,arguments)})},{key:"getConnectionSpeed",value:(a=asyncToGenerator(regenerator.mark((function _callee5(t){var r,o,i,a,c,l;return regenerator.wrap((function _callee5$(p){for(;;)switch(p.prev=p.next){case 0:return r=new SpeedTest({downloadUrl:this.httpUrl+"/model-centric/speed-test?worker_id="+encodeURIComponent(t)+"&random="+Math.random(),uploadUrl:this.httpUrl+"/model-centric/speed-test?worker_id="+encodeURIComponent(t)+"&random="+Math.random(),pingUrl:this.httpUrl+"/model-centric/speed-test?is_ping=1&worker_id="+encodeURIComponent(t)+"&random="+Math.random()}),p.next=3,r.getPing();case 3:return o=p.sent,p.next=6,Promise.all([r.getDownloadSpeed(),r.getUploadSpeed()]);case 6:return i=p.sent,a=slicedToArray(i,2),c=a[0],l=a[1],p.abrupt("return",{ping:o,download:c,upload:l});case 11:case"end":return p.stop()}}),_callee5,this)}))),function getConnectionSpeed(t){return a.apply(this,arguments)})},{key:"_send",value:(i=asyncToGenerator(regenerator.mark((function _callee6(t,r){var o;return regenerator.wrap((function _callee6$(i){for(;;)switch(i.prev=i.next){case 0:if("ws"!==this.transport){i.next=6;break}return i.next=3,this._sendWs(t,r);case 3:i.t0=i.sent,i.next=9;break;case 6:return i.next=8,this._sendHttp(t,r);case 8:i.t0=i.sent;case 9:if(!(o=i.t0).error){i.next=12;break}throw new Error(o.error);case 12:return i.abrupt("return",o);case 13:case"end":return i.stop()}}),_callee6,this)}))),function _send(t,r){return i.apply(this,arguments)})},{key:"_sendHttp",value:(o=asyncToGenerator(regenerator.mark((function _callee7(t,r){var o,i,a,c,l,p=arguments;return regenerator.wrap((function _callee7$(u){for(;;)switch(u.prev=u.next){case 0:if(o=p.length>2&&void 0!==p[2]?p[2]:"json","GET"!==(HTTP_PATH_VERB[t]||"GET")){u.next=9;break}return a=Object.keys(r).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(r[t])})).join("&"),u.next=6,fetch(this.httpUrl+"/"+t+"?"+a,{method:"GET",mode:"cors"});case 6:i=u.sent,u.next=12;break;case 9:return u.next=11,fetch(this.httpUrl+"/"+t,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 11:i=u.sent;case 12:if(i.ok){u.next=24;break}return c="".concat(i.status," ").concat(i.statusText),u.prev=14,u.next=17,i.json();case 17:(l=u.sent).error&&(c=l.error),u.next=23;break;case 21:u.prev=21,u.t0=u.catch(14);case 23:throw new GridError(c);case 24:return u.abrupt("return",i[o]());case 25:case"end":return u.stop()}}),_callee7,this,[[14,21]])}))),function _sendHttp(t,r){return o.apply(this,arguments)})},{key:"_sendWs",value:(r=asyncToGenerator(regenerator.mark((function _callee8(t,r){var o,i,a=this;return regenerator.wrap((function _callee8$(c){for(;;)switch(c.prev=c.next){case 0:if(this.ws){c.next=3;break}return c.next=3,this._initWs();case 3:return c.t0=base64Encode,c.next=6,createRandomBuffer(32);case 6:return c.t1=c.sent,o=(0,c.t0)(c.t1),i={request_id:o,type:t,data:r},this.logger.log("Sending WS message",o,t),c.abrupt("return",new Promise((function(t,r){a.ws.send(JSON.stringify(i));var c=function cleanUp(){delete a.wsMessages[o],a.observer.unsubscribe("ws-error",p),a.observer.unsubscribe("ws-close",u),clearTimeout(l)},l=setTimeout((function(){c(),r(new Error("Response timeout"))}),a.responseTimeout),p=function onError(t){c(),r(new Error(t))},u=function onClose(){c(),r(new Error("WS connection closed"))};a.wsMessages[o]=function onMessage(r){c(),t(r.data)},a.observer.subscribe("ws-error",p),a.observer.subscribe("ws-close",u)})));case 11:case"end":return c.stop()}}),_callee8,this)}))),function _sendWs(t,o){return r.apply(this,arguments)})},{key:"_initWs",value:(t=asyncToGenerator(regenerator.mark((function _callee9(){var t=this;return regenerator.wrap((function _callee9$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,o){var i=new WebSocket(t.wsUrl);i.onopen=function(){i.onerror=t._handleWsError,i.onclose=t._handleWsClose,i.onmessage=t._handleWsMessage,t.ws=i,r()},i.onerror=function(r){t._handleWsError(r),o(new Error(r))},i.onclose=function(r){t._handleWsClose(r),o(new Error("WS connection closed during connect"))}})));case 1:case"end":return r.stop()}}),_callee9)}))),function _initWs(){return t.apply(this,arguments)})},{key:"_handleWsMessage",value:function _handleWsMessage(t){var r;this.logger.log("Received message",t.data);try{r=JSON.parse(t.data)}catch(t){this.logger.log("Message is not valid JSON!")}var o=r.request_id;o&&Object.hasOwnProperty.call(this.wsMessages,o)?(0,this.wsMessages[o])(r):this.logger.log("Message with unknown request_id")}},{key:"_handleWsError",value:function _handleWsError(t){this.logger.log("WS connection error",t),this.observer.broadcast("ws-error",t),this.ws=null}},{key:"_handleWsClose",value:function _handleWsClose(t){this.logger.log("WS connection closed",t),this.observer.broadcast("ws-close",t),this.ws=null}}]),GridAPIClient}();function _defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}var defineProperty=_defineProperty,_DOC="This file defines PySyft protocol serialization constants",VERSION=0,TYPES={dict:{code:0},list:{code:1},range:{code:2},set:{code:3},slice:{code:4},str:{code:5},tuple:{code:6},ellipsis:{code:7},"numpy.ndarray":{code:8},"numpy.float32":{code:9},"numpy.float64":{code:9},"numpy.int32":{code:9},"numpy.int64":{code:9},"torch.device":{code:10},"torch.Size":{code:11},"torch.jit.ScriptModule":{code:12},"torch._C.Function":{code:12},"torch.jit.ScriptFunction":{code:12},"torch.jit.TopLevelTracedModule":{code:12},"torch.nn.parameter.Parameter":{code:13},"torch.Tensor":{code:14},"syft.frameworks.torch.tensors.interpreters.additive_shared.AdditiveSharingTensor":{code:15},"syft.frameworks.torch.tensors.interpreters.precision.FixedPrecisionTensor":{code:16},"syft.frameworks.torch.tensors.interpreters.crt_precision.CRTPrecisionTensor":{code:17},"syft.frameworks.torch.tensors.decorators.logging.LoggingTensor":{code:18},"syft.generic.pointers.multi_pointer.MultiPointerTensor":{code:19},"syft.generic.pointers.object_pointer.ObjectPointer":{code:20},"syft.execution.plan.Plan":{code:21},"syft.execution.state.State":{code:22},"syft.execution.procedure.Procedure":{code:23},"syft.execution.protocol.Protocol":{code:24},"syft.generic.pointers.pointer_tensor.PointerTensor":{code:25},"syft.generic.pointers.pointer_plan.PointerPlan":{code:26},"syft.generic.pointers.pointer_protocol.PointerProtocol":{code:27},"syft.generic.pointers.object_wrapper.ObjectWrapper":{code:28},"syft.federated.train_config.TrainConfig":{code:29},"syft.workers.base.BaseWorker":{code:30,forced_code:43},"syft.frameworks.torch.tensors.interpreters.autograd.AutogradTensor":{code:31},"syft.messaging.message.Message":{code:32},"syft.messaging.message.TensorCommandMessage":{code:33},"syft.messaging.message.ObjectMessage":{code:34},"syft.messaging.message.ObjectRequestMessage":{code:35},"syft.messaging.message.IsNoneMessage":{code:36},"syft.messaging.message.GetShapeMessage":{code:37},"syft.messaging.message.ForceObjectDeleteMessage":{code:38},"syft.messaging.message.SearchMessage":{code:39},"syft.messaging.message.PlanCommandMessage":{code:40},"syft.exceptions.GetNotPermittedError":{code:41},"syft.exceptions.ResponseSignatureError":{code:42},"syft.generic.string.String":{code:44},"syft.frameworks.torch.tensors.interpreters.promise.PromiseTensor":{code:45},"syft.frameworks.torch.tensors.interpreters.private.PrivateTensor":{code:46},"syft.frameworks.torch.tensors.interpreters.gradients_core.GradFunc":{code:47},"syft.execution.placeholder.PlaceHolder":{code:48},"torch.memory_format":{code:49},"syft.messaging.message.CryptenInitPlan":{code:50},"syft.frameworks.torch.fl.dataset.BaseDataset":{code:51},"torch.dtype":{code:52},"syft.messaging.message.WorkerCommandMessage":{code:53},"syft.execution.computation.ComputationAction":{code:54},"syft.execution.communication.CommunicationAction":{code:55},"syft.execution.placeholder_id.PlaceholderId":{code:56},"syft.generic.pointers.pointer_dataset.PointerDataset":{code:57},"syft.execution.role.Role":{code:58},"syft.frameworks.torch.tensors.interpreters.paillier.PaillierTensor":{code:59},"syft.messaging.message.CryptenInitJail":{code:60},type:{code:61},"syft.execution.type_wrapper.NestedTypeWrapper":{code:62},"syft.workers.virtual.VirtualWorker":{code:63,forced_code:64},"syft.execution.role_assignments.RoleAssignments":{code:65},"syft.frameworks.torch.tensors.interpreters.fv.FVTensor":{code:66},"syft.execution.storage_actions.StorageAction":{code:67}},proto={_DOC:_DOC,VERSION:VERSION,TYPES:TYPES},proto$1=Object.freeze({__proto__:null,_DOC:_DOC,VERSION:VERSION,TYPES:TYPES,default:proto}),aspromise=asPromise;function asPromise(t,r){for(var o=new Array(arguments.length-1),i=0,a=2,c=!0;a<arguments.length;)o[i++]=arguments[a++];return new Promise((function executor(a,l){o[i]=function callback(t){if(c)if(c=!1,t)l(t);else{for(var r=new Array(arguments.length-1),o=0;o<r.length;)r[o++]=arguments[o];a.apply(null,r)}};try{t.apply(r||null,o)}catch(t){c&&(c=!1,l(t))}}))}var base64_1=createCommonjsModule((function(t,r){var o=r;o.length=function length(t){var r=t.length;if(!r)return 0;for(var o=0;--r%4>1&&"="===t.charAt(r);)++o;return Math.ceil(3*t.length)/4-o};for(var i=new Array(64),a=new Array(123),c=0;c<64;)a[i[c]=c<26?c+65:c<52?c+71:c<62?c-4:c-59|43]=c++;o.encode=function encode(t,r,o){for(var a,c=null,l=[],p=0,u=0;r<o;){var d=t[r++];switch(u){case 0:l[p++]=i[d>>2],a=(3&d)<<4,u=1;break;case 1:l[p++]=i[a|d>>4],a=(15&d)<<2,u=2;break;case 2:l[p++]=i[a|d>>6],l[p++]=i[63&d],u=0}p>8191&&((c||(c=[])).push(String.fromCharCode.apply(String,l)),p=0)}return u&&(l[p++]=i[a],l[p++]=61,1===u&&(l[p++]=61)),c?(p&&c.push(String.fromCharCode.apply(String,l.slice(0,p))),c.join("")):String.fromCharCode.apply(String,l.slice(0,p))};var l="invalid encoding";o.decode=function decode(t,r,o){for(var i,c=o,p=0,u=0;u<t.length;){var d=t.charCodeAt(u++);if(61===d&&p>1)break;if(void 0===(d=a[d]))throw Error(l);switch(p){case 0:i=d,p=1;break;case 1:r[o++]=i<<2|(48&d)>>4,i=d,p=2;break;case 2:r[o++]=(15&i)<<4|(60&d)>>2,i=d,p=3;break;case 3:r[o++]=(3&i)<<6|d,p=0}}if(1===p)throw Error(l);return o-c},o.test=function test(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}})),eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function on(t,r,o){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:o||this}),this},EventEmitter.prototype.off=function off(t,r){if(void 0===t)this._listeners={};else if(void 0===r)this._listeners[t]=[];else for(var o=this._listeners[t],i=0;i<o.length;)o[i].fn===r?o.splice(i,1):++i;return this},EventEmitter.prototype.emit=function emit(t){var r=this._listeners[t];if(r){for(var o=[],i=1;i<arguments.length;)o.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,o)}return this};var float_1=factory(factory);function factory(t){return"undefined"!=typeof Float32Array?function(){var r=new Float32Array([-0]),o=new Uint8Array(r.buffer),i=128===o[3];function writeFloat_f32_cpy(t,i,a){r[0]=t,i[a]=o[0],i[a+1]=o[1],i[a+2]=o[2],i[a+3]=o[3]}function writeFloat_f32_rev(t,i,a){r[0]=t,i[a]=o[3],i[a+1]=o[2],i[a+2]=o[1],i[a+3]=o[0]}function readFloat_f32_cpy(t,i){return o[0]=t[i],o[1]=t[i+1],o[2]=t[i+2],o[3]=t[i+3],r[0]}function readFloat_f32_rev(t,i){return o[3]=t[i],o[2]=t[i+1],o[1]=t[i+2],o[0]=t[i+3],r[0]}t.writeFloatLE=i?writeFloat_f32_cpy:writeFloat_f32_rev,t.writeFloatBE=i?writeFloat_f32_rev:writeFloat_f32_cpy,t.readFloatLE=i?readFloat_f32_cpy:readFloat_f32_rev,t.readFloatBE=i?readFloat_f32_rev:readFloat_f32_cpy}():function(){function writeFloat_ieee754(t,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)t(1/r>0?0:2147483648,o,i);else if(isNaN(r))t(2143289344,o,i);else if(r>34028234663852886e22)t((a<<31|2139095040)>>>0,o,i);else if(r<11754943508222875e-54)t((a<<31|Math.round(r/1401298464324817e-60))>>>0,o,i);else{var c=Math.floor(Math.log(r)/Math.LN2);t((a<<31|c+127<<23|8388607&Math.round(r*Math.pow(2,-c)*8388608))>>>0,o,i)}}function readFloat_ieee754(t,r,o){var i=t(r,o),a=2*(i>>31)+1,c=i>>>23&255,l=8388607&i;return 255===c?l?NaN:a*(1/0):0===c?1401298464324817e-60*a*l:a*Math.pow(2,c-150)*(l+8388608)}t.writeFloatLE=writeFloat_ieee754.bind(null,writeUintLE),t.writeFloatBE=writeFloat_ieee754.bind(null,writeUintBE),t.readFloatLE=readFloat_ieee754.bind(null,readUintLE),t.readFloatBE=readFloat_ieee754.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var r=new Float64Array([-0]),o=new Uint8Array(r.buffer),i=128===o[7];function writeDouble_f64_cpy(t,i,a){r[0]=t,i[a]=o[0],i[a+1]=o[1],i[a+2]=o[2],i[a+3]=o[3],i[a+4]=o[4],i[a+5]=o[5],i[a+6]=o[6],i[a+7]=o[7]}function writeDouble_f64_rev(t,i,a){r[0]=t,i[a]=o[7],i[a+1]=o[6],i[a+2]=o[5],i[a+3]=o[4],i[a+4]=o[3],i[a+5]=o[2],i[a+6]=o[1],i[a+7]=o[0]}function readDouble_f64_cpy(t,i){return o[0]=t[i],o[1]=t[i+1],o[2]=t[i+2],o[3]=t[i+3],o[4]=t[i+4],o[5]=t[i+5],o[6]=t[i+6],o[7]=t[i+7],r[0]}function readDouble_f64_rev(t,i){return o[7]=t[i],o[6]=t[i+1],o[5]=t[i+2],o[4]=t[i+3],o[3]=t[i+4],o[2]=t[i+5],o[1]=t[i+6],o[0]=t[i+7],r[0]}t.writeDoubleLE=i?writeDouble_f64_cpy:writeDouble_f64_rev,t.writeDoubleBE=i?writeDouble_f64_rev:writeDouble_f64_cpy,t.readDoubleLE=i?readDouble_f64_cpy:readDouble_f64_rev,t.readDoubleBE=i?readDouble_f64_rev:readDouble_f64_cpy}():function(){function writeDouble_ieee754(t,r,o,i,a,c){var l=i<0?1:0;if(l&&(i=-i),0===i)t(0,a,c+r),t(1/i>0?0:2147483648,a,c+o);else if(isNaN(i))t(0,a,c+r),t(2146959360,a,c+o);else if(i>17976931348623157e292)t(0,a,c+r),t((l<<31|2146435072)>>>0,a,c+o);else{var p;if(i<22250738585072014e-324)t((p=i/5e-324)>>>0,a,c+r),t((l<<31|p/4294967296)>>>0,a,c+o);else{var u=Math.floor(Math.log(i)/Math.LN2);1024===u&&(u=1023),t(4503599627370496*(p=i*Math.pow(2,-u))>>>0,a,c+r),t((l<<31|u+1023<<20|1048576*p&1048575)>>>0,a,c+o)}}}function readDouble_ieee754(t,r,o,i,a){var c=t(i,a+r),l=t(i,a+o),p=2*(l>>31)+1,u=l>>>20&2047,d=4294967296*(1048575&l)+c;return 2047===u?d?NaN:p*(1/0):0===u?5e-324*p*d:p*Math.pow(2,u-1075)*(d+4503599627370496)}t.writeDoubleLE=writeDouble_ieee754.bind(null,writeUintLE,0,4),t.writeDoubleBE=writeDouble_ieee754.bind(null,writeUintBE,4,0),t.readDoubleLE=readDouble_ieee754.bind(null,readUintLE,0,4),t.readDoubleBE=readDouble_ieee754.bind(null,readUintBE,4,0)}(),t}function writeUintLE(t,r,o){r[o]=255&t,r[o+1]=t>>>8&255,r[o+2]=t>>>16&255,r[o+3]=t>>>24}function writeUintBE(t,r,o){r[o]=t>>>24,r[o+1]=t>>>16&255,r[o+2]=t>>>8&255,r[o+3]=255&t}function readUintLE(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24)>>>0}function readUintBE(t,r){return(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}var utf8_1=createCommonjsModule((function(t,r){var o=r;o.length=function utf8_length(t){for(var r=0,o=0,i=0;i<t.length;++i)(o=t.charCodeAt(i))<128?r+=1:o<2048?r+=2:55296==(64512&o)&&56320==(64512&t.charCodeAt(i+1))?(++i,r+=4):r+=3;return r},o.read=function utf8_read(t,r,o){if(o-r<1)return"";for(var i,a=null,c=[],l=0;r<o;)(i=t[r++])<128?c[l++]=i:i>191&&i<224?c[l++]=(31&i)<<6|63&t[r++]:i>239&&i<365?(i=((7&i)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536,c[l++]=55296+(i>>10),c[l++]=56320+(1023&i)):c[l++]=(15&i)<<12|(63&t[r++])<<6|63&t[r++],l>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,c)),l=0);return a?(l&&a.push(String.fromCharCode.apply(String,c.slice(0,l))),a.join("")):String.fromCharCode.apply(String,c.slice(0,l))},o.write=function utf8_write(t,r,o){for(var i,a,c=o,l=0;l<t.length;++l)(i=t.charCodeAt(l))<128?r[o++]=i:i<2048?(r[o++]=i>>6|192,r[o++]=63&i|128):55296==(64512&i)&&56320==(64512&(a=t.charCodeAt(l+1)))?(i=65536+((1023&i)<<10)+(1023&a),++l,r[o++]=i>>18|240,r[o++]=i>>12&63|128,r[o++]=i>>6&63|128,r[o++]=63&i|128):(r[o++]=i>>12|224,r[o++]=i>>6&63|128,r[o++]=63&i|128);return o-c}})),pool_1=pool;function pool(t,r,o){var i=o||8192,a=i>>>1,c=null,l=i;return function pool_alloc(o){if(o<1||o>a)return t(o);l+o>i&&(c=t(i),l=0);var p=r.call(c,l,l+=o);return 7&l&&(l=1+(7|l)),p}}var longbits=LongBits;function LongBits(t,r){this.lo=t>>>0,this.hi=r>>>0}var zero=LongBits.zero=new LongBits(0,0);zero.toNumber=function(){return 0},zero.zzEncode=zero.zzDecode=function(){return this},zero.length=function(){return 1};var zeroHash=LongBits.zeroHash="\0\0\0\0\0\0\0\0";LongBits.fromNumber=function fromNumber(t){if(0===t)return zero;var r=t<0;r&&(t=-t);var o=t>>>0,i=(t-o)/4294967296>>>0;return r&&(i=~i>>>0,o=~o>>>0,++o>4294967295&&(o=0,++i>4294967295&&(i=0))),new LongBits(o,i)},LongBits.from=function from(t){if("number"==typeof t)return LongBits.fromNumber(t);if(minimal.isString(t)){if(!minimal.Long)return LongBits.fromNumber(parseInt(t,10));t=minimal.Long.fromString(t)}return t.low||t.high?new LongBits(t.low>>>0,t.high>>>0):zero},LongBits.prototype.toNumber=function toNumber(t){if(!t&&this.hi>>>31){var r=1+~this.lo>>>0,o=~this.hi>>>0;return r||(o=o+1>>>0),-(r+4294967296*o)}return this.lo+4294967296*this.hi},LongBits.prototype.toLong=function toLong(t){return minimal.Long?new minimal.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var charCodeAt=String.prototype.charCodeAt;LongBits.fromHash=function fromHash(t){return t===zeroHash?zero:new LongBits((charCodeAt.call(t,0)|charCodeAt.call(t,1)<<8|charCodeAt.call(t,2)<<16|charCodeAt.call(t,3)<<24)>>>0,(charCodeAt.call(t,4)|charCodeAt.call(t,5)<<8|charCodeAt.call(t,6)<<16|charCodeAt.call(t,7)<<24)>>>0)},LongBits.prototype.toHash=function toHash(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits.prototype.zzEncode=function zzEncode(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},LongBits.prototype.zzDecode=function zzDecode(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},LongBits.prototype.length=function length(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return 0===o?0===r?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:o<128?9:10};var minimal=createCommonjsModule((function(t,r){var o=r;function merge(t,r,o){for(var i=Object.keys(r),a=0;a<i.length;++a)void 0!==t[i[a]]&&o||(t[i[a]]=r[i[a]]);return t}function newError(t){function CustomError(t,r){if(!(this instanceof CustomError))return new CustomError(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,CustomError):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&merge(this,r)}return(CustomError.prototype=Object.create(Error.prototype)).constructor=CustomError,Object.defineProperty(CustomError.prototype,"name",{get:function(){return t}}),CustomError.prototype.toString=function toString(){return this.name+": "+this.message},CustomError}o.asPromise=aspromise,o.base64=base64_1,o.EventEmitter=eventemitter,o.float=float_1,o.inquire=inquire_1,o.utf8=utf8_1,o.pool=pool_1,o.LongBits=longbits,o.global="undefined"!=typeof window&&window||void 0!==commonjsGlobal&&commonjsGlobal||"undefined"!=typeof self&&self||commonjsGlobal,o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isNode=Boolean(o.global.process&&o.global.process.versions&&o.global.process.versions.node),o.isInteger=Number.isInteger||function isInteger(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},o.isString=function isString(t){return"string"==typeof t||t instanceof String},o.isObject=function isObject(t){return t&&"object"==typeof t},o.isset=o.isSet=function isSet(t,r){var o=t[r];return!(null==o||!t.hasOwnProperty(r))&&("object"!=typeof o||(Array.isArray(o)?o.length:Object.keys(o).length)>0)},o.Buffer=function(){try{var t=o.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function newBuffer(t){return"number"==typeof t?o.Buffer?o._Buffer_allocUnsafe(t):new o.Array(t):o.Buffer?o._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},o.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function longToHash(t){return t?o.LongBits.from(t).toHash():o.LongBits.zeroHash},o.longFromHash=function longFromHash(t,r){var i=o.LongBits.fromHash(t);return o.Long?o.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))},o.merge=merge,o.lcFirst=function lcFirst(t){return t.charAt(0).toLowerCase()+t.substring(1)},o.newError=newError,o.ProtocolError=newError("ProtocolError"),o.oneOfGetter=function getOneOf(t){for(var r={},o=0;o<t.length;++o)r[t[o]]=1;return function(){for(var t=Object.keys(this),o=t.length-1;o>-1;--o)if(1===r[t[o]]&&void 0!==this[t[o]]&&null!==this[t[o]])return t[o]}},o.oneOfSetter=function setOneOf(t){return function(r){for(var o=0;o<t.length;++o)t[o]!==r&&delete this[t[o]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var t=o.Buffer;t?(o._Buffer_from=t.from!==Uint8Array.from&&t.from||function Buffer_from(r,o){return new t(r,o)},o._Buffer_allocUnsafe=t.allocUnsafe||function Buffer_allocUnsafe(r){return new t(r)}):o._Buffer_from=o._Buffer_allocUnsafe=null}})),writer=Writer,BufferWriter,LongBits$1=minimal.LongBits,base64=minimal.base64,utf8=minimal.utf8;function Op(t,r,o){this.fn=t,this.len=r,this.next=void 0,this.val=o}function noop(){}function State(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Writer(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}function writeByte(t,r,o){r[o]=255&t}function writeVarint32(t,r,o){for(;t>127;)r[o++]=127&t|128,t>>>=7;r[o]=t}function VarintOp(t,r){this.len=t,this.next=void 0,this.val=r}function writeVarint64(t,r,o){for(;t.hi;)r[o++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)r[o++]=127&t.lo|128,t.lo=t.lo>>>7;r[o++]=t.lo}function writeFixed32(t,r,o){r[o]=255&t,r[o+1]=t>>>8&255,r[o+2]=t>>>16&255,r[o+3]=t>>>24}Writer.create=minimal.Buffer?function create_buffer_setup(){return(Writer.create=function create_buffer(){return new BufferWriter})()}:function create_array(){return new Writer},Writer.alloc=function alloc(t){return new minimal.Array(t)},minimal.Array!==Array&&(Writer.alloc=minimal.pool(Writer.alloc,minimal.Array.prototype.subarray)),Writer.prototype._push=function push(t,r,o){return this.tail=this.tail.next=new Op(t,r,o),this.len+=r,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer.prototype.uint32=function write_uint32(t){return this.len+=(this.tail=this.tail.next=new VarintOp((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},Writer.prototype.int32=function write_int32(t){return t<0?this._push(writeVarint64,10,LongBits$1.fromNumber(t)):this.uint32(t)},Writer.prototype.sint32=function write_sint32(t){return this.uint32((t<<1^t>>31)>>>0)},Writer.prototype.uint64=function write_uint64(t){var r=LongBits$1.from(t);return this._push(writeVarint64,r.length(),r)},Writer.prototype.int64=Writer.prototype.uint64,Writer.prototype.sint64=function write_sint64(t){var r=LongBits$1.from(t).zzEncode();return this._push(writeVarint64,r.length(),r)},Writer.prototype.bool=function write_bool(t){return this._push(writeByte,1,t?1:0)},Writer.prototype.fixed32=function write_fixed32(t){return this._push(writeFixed32,4,t>>>0)},Writer.prototype.sfixed32=Writer.prototype.fixed32,Writer.prototype.fixed64=function write_fixed64(t){var r=LongBits$1.from(t);return this._push(writeFixed32,4,r.lo)._push(writeFixed32,4,r.hi)},Writer.prototype.sfixed64=Writer.prototype.fixed64,Writer.prototype.float=function write_float(t){return this._push(minimal.float.writeFloatLE,4,t)},Writer.prototype.double=function write_double(t){return this._push(minimal.float.writeDoubleLE,8,t)};var writeBytes=minimal.Array.prototype.set?function writeBytes_set(t,r,o){r.set(t,o)}:function writeBytes_for(t,r,o){for(var i=0;i<t.length;++i)r[o+i]=t[i]};Writer.prototype.bytes=function write_bytes(t){var r=t.length>>>0;if(!r)return this._push(writeByte,1,0);if(minimal.isString(t)){var o=Writer.alloc(r=base64.length(t));base64.decode(t,o,0),t=o}return this.uint32(r)._push(writeBytes,r,t)},Writer.prototype.string=function write_string(t){var r=utf8.length(t);return r?this.uint32(r)._push(utf8.write,r,t):this._push(writeByte,1,0)},Writer.prototype.fork=function fork(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer.prototype.reset=function reset(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer.prototype.ldelim=function ldelim(){var t=this.head,r=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=t.next,this.tail=r,this.len+=o),this},Writer.prototype.finish=function finish(){for(var t=this.head.next,r=this.constructor.alloc(this.len),o=0;t;)t.fn(t.val,r,o),o+=t.len,t=t.next;return r},Writer._configure=function(t){BufferWriter=t};var writer_buffer=BufferWriter$1;(BufferWriter$1.prototype=Object.create(writer.prototype)).constructor=BufferWriter$1;var Buffer=minimal.Buffer;function BufferWriter$1(){writer.call(this)}BufferWriter$1.alloc=function alloc_buffer(t){return(BufferWriter$1.alloc=minimal._Buffer_allocUnsafe)(t)};var writeBytesBuffer=Buffer&&Buffer.prototype instanceof Uint8Array&&"set"===Buffer.prototype.set.name?function writeBytesBuffer_set(t,r,o){r.set(t,o)}:function writeBytesBuffer_copy(t,r,o){if(t.copy)t.copy(r,o,0,t.length);else for(var i=0;i<t.length;)r[o++]=t[i++]};function writeStringBuffer(t,r,o){t.length<40?minimal.utf8.write(t,r,o):r.utf8Write(t,o)}BufferWriter$1.prototype.bytes=function write_bytes_buffer(t){minimal.isString(t)&&(t=minimal._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(writeBytesBuffer,r,t),this},BufferWriter$1.prototype.string=function write_string_buffer(t){var r=Buffer.byteLength(t);return this.uint32(r),r&&this._push(writeStringBuffer,r,t),this};var reader=Reader,BufferReader,LongBits$2=minimal.LongBits,utf8$1=minimal.utf8;function indexOutOfRange(t,r){return RangeError("index out of range: "+t.pos+" + "+(r||1)+" > "+t.len)}function Reader(t){this.buf=t,this.pos=0,this.len=t.length}var create_array="undefined"!=typeof Uint8Array?function create_typed_array(t){if(t instanceof Uint8Array||Array.isArray(t))return new Reader(t);throw Error("illegal buffer")}:function create_array(t){if(Array.isArray(t))return new Reader(t);throw Error("illegal buffer")};function readLongVarint(){var t=new LongBits$2(0,0),r=0;if(!(this.len-this.pos>4)){for(;r<3;++r){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*r)>>>0,t}for(;r<4;++r)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(r=0,this.len-this.pos>4){for(;r<5;++r)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}else for(;r<5;++r){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function readFixed32_end(t,r){return(t[r-4]|t[r-3]<<8|t[r-2]<<16|t[r-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits$2(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader.create=minimal.Buffer?function create_buffer_setup(t){return(Reader.create=function create_buffer(t){return minimal.Buffer.isBuffer(t)?new BufferReader(t):create_array(t)})(t)}:create_array,Reader.prototype._slice=minimal.Array.prototype.subarray||minimal.Array.prototype.slice,Reader.prototype.uint32=function read_uint32_setup(){var t=4294967295;return function read_uint32(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return t}}(),Reader.prototype.int32=function read_int32(){return 0|this.uint32()},Reader.prototype.sint32=function read_sint32(){var t=this.uint32();return t>>>1^-(1&t)|0},Reader.prototype.bool=function read_bool(){return 0!==this.uint32()},Reader.prototype.fixed32=function read_fixed32(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.sfixed32=function read_sfixed32(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.float=function read_float(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var t=minimal.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},Reader.prototype.double=function read_double(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var t=minimal.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},Reader.prototype.bytes=function read_bytes(){var t=this.uint32(),r=this.pos,o=this.pos+t;if(o>this.len)throw indexOutOfRange(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,o):r===o?new this.buf.constructor(0):this._slice.call(this.buf,r,o)},Reader.prototype.string=function read_string(){var t=this.bytes();return utf8$1.read(t,0,t.length)},Reader.prototype.skip=function skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw indexOutOfRange(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},Reader._configure=function(t){BufferReader=t;var r=minimal.Long?"toLong":"toNumber";minimal.merge(Reader.prototype,{int64:function read_int64(){return readLongVarint.call(this)[r](!1)},uint64:function read_uint64(){return readLongVarint.call(this)[r](!0)},sint64:function read_sint64(){return readLongVarint.call(this).zzDecode()[r](!1)},fixed64:function read_fixed64(){return readFixed64.call(this)[r](!0)},sfixed64:function read_sfixed64(){return readFixed64.call(this)[r](!1)}})};var reader_buffer=BufferReader$1;function BufferReader$1(t){reader.call(this,t)}(BufferReader$1.prototype=Object.create(reader.prototype)).constructor=BufferReader$1,minimal.Buffer&&(BufferReader$1.prototype._slice=minimal.Buffer.prototype.slice),BufferReader$1.prototype.string=function read_string_buffer(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))};var service=Service;function Service(t,r,o){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");minimal.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(r),this.responseDelimited=Boolean(o)}(Service.prototype=Object.create(minimal.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function rpcCall(t,r,o,i,a){if(!i)throw TypeError("request must be specified");var c=this;if(!a)return minimal.asPromise(rpcCall,c,t,r,o,i);if(c.rpcImpl)try{return c.rpcImpl(t,r[c.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function rpcCallback(r,i){if(r)return c.emit("error",r,t),a(r);if(null!==i){if(!(i instanceof o))try{i=o[c.responseDelimited?"decodeDelimited":"decode"](i)}catch(r){return c.emit("error",r,t),a(r)}return c.emit("data",i,t),a(null,i)}c.end(!0)}))}catch(r){return c.emit("error",r,t),void setTimeout((function(){a(r)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},Service.prototype.end=function end(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var rpc_1=createCommonjsModule((function(t,r){r.Service=service})),roots={},indexMinimal=createCommonjsModule((function(t,r){var o=r;function configure(){o.Reader._configure(o.BufferReader),o.util._configure()}o.build="minimal",o.Writer=writer,o.BufferWriter=writer_buffer,o.Reader=reader,o.BufferReader=reader_buffer,o.util=minimal,o.rpc=rpc_1,o.roots=roots,o.configure=configure,o.Writer._configure(o.BufferWriter),configure()})),minimal$1=indexMinimal,$Reader=minimal$1.Reader,$Writer=minimal$1.Writer,$util=minimal$1.util,$root=minimal$1.roots.default||(minimal$1.roots.default={}),v1,execution,syft,torch,types,pointers,generic,frameworks,messaging,syft_proto,google;$root.syft_proto=(syft_proto={},syft_proto.execution=((execution={}).v1=((v1={}).CommunicationAction=function(){function CommunicationAction(t){if(this.args=[],this.kwargs={},this.return_ids=[],this.return_placeholder_ids=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return CommunicationAction.prototype.command="",CommunicationAction.prototype.target_id=null,CommunicationAction.prototype.target_pointer=null,CommunicationAction.prototype.target_placeholder_id=null,CommunicationAction.prototype.target_tensor=null,CommunicationAction.prototype.args=$util.emptyArray,CommunicationAction.prototype.kwargs=$util.emptyObject,CommunicationAction.prototype.return_ids=$util.emptyArray,CommunicationAction.prototype.return_placeholder_ids=$util.emptyArray,Object.defineProperty(CommunicationAction.prototype,"target",{get:$util.oneOfGetter(t=["target_id","target_pointer","target_placeholder_id","target_tensor"]),set:$util.oneOfSetter(t)}),CommunicationAction.create=function create(t){return new CommunicationAction(t)},CommunicationAction.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.command&&t.hasOwnProperty("command")&&r.uint32(10).string(t.command),null!=t.target_pointer&&t.hasOwnProperty("target_pointer")&&$root.syft_proto.generic.pointers.v1.PointerTensor.encode(t.target_pointer,r.uint32(18).fork()).ldelim(),null!=t.target_placeholder_id&&t.hasOwnProperty("target_placeholder_id")&&$root.syft_proto.execution.v1.PlaceholderId.encode(t.target_placeholder_id,r.uint32(26).fork()).ldelim(),null!=t.target_tensor&&t.hasOwnProperty("target_tensor")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.target_tensor,r.uint32(34).fork()).ldelim(),null!=t.args&&t.args.length)for(var o=0;o<t.args.length;++o)$root.syft_proto.types.syft.v1.Arg.encode(t.args[o],r.uint32(42).fork()).ldelim();if(null!=t.kwargs&&t.hasOwnProperty("kwargs")){var i=Object.keys(t.kwargs);for(o=0;o<i.length;++o)r.uint32(50).fork().uint32(10).string(i[o]),$root.syft_proto.types.syft.v1.Arg.encode(t.kwargs[i[o]],r.uint32(18).fork()).ldelim().ldelim()}if(null!=t.return_ids&&t.return_ids.length)for(o=0;o<t.return_ids.length;++o)$root.syft_proto.types.syft.v1.Id.encode(t.return_ids[o],r.uint32(58).fork()).ldelim();if(null!=t.return_placeholder_ids&&t.return_placeholder_ids.length)for(o=0;o<t.return_placeholder_ids.length;++o)$root.syft_proto.execution.v1.PlaceholderId.encode(t.return_placeholder_ids[o],r.uint32(66).fork()).ldelim();return null!=t.target_id&&t.hasOwnProperty("target_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.target_id,r.uint32(74).fork()).ldelim(),r},CommunicationAction.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},CommunicationAction.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o,i=void 0===r?t.len:t.pos+r,a=new $root.syft_proto.execution.v1.CommunicationAction;t.pos<i;){var c=t.uint32();switch(c>>>3){case 1:a.command=t.string();break;case 9:a.target_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:a.target_pointer=$root.syft_proto.generic.pointers.v1.PointerTensor.decode(t,t.uint32());break;case 3:a.target_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.decode(t,t.uint32());break;case 4:a.target_tensor=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 5:a.args&&a.args.length||(a.args=[]),a.args.push($root.syft_proto.types.syft.v1.Arg.decode(t,t.uint32()));break;case 6:t.skip().pos++,a.kwargs===$util.emptyObject&&(a.kwargs={}),o=t.string(),t.pos++,a.kwargs[o]=$root.syft_proto.types.syft.v1.Arg.decode(t,t.uint32());break;case 7:a.return_ids&&a.return_ids.length||(a.return_ids=[]),a.return_ids.push($root.syft_proto.types.syft.v1.Id.decode(t,t.uint32()));break;case 8:a.return_placeholder_ids&&a.return_placeholder_ids.length||(a.return_placeholder_ids=[]),a.return_placeholder_ids.push($root.syft_proto.execution.v1.PlaceholderId.decode(t,t.uint32()));break;default:t.skipType(7&c)}}return a},CommunicationAction.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},CommunicationAction.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.command&&t.hasOwnProperty("command")&&!$util.isString(t.command))return"command: string expected";if(null!=t.target_id&&t.hasOwnProperty("target_id")&&(r.target=1,a=$root.syft_proto.types.syft.v1.Id.verify(t.target_id)))return"target_id."+a;if(null!=t.target_pointer&&t.hasOwnProperty("target_pointer")){if(1===r.target)return"target: multiple values";if(r.target=1,a=$root.syft_proto.generic.pointers.v1.PointerTensor.verify(t.target_pointer))return"target_pointer."+a}if(null!=t.target_placeholder_id&&t.hasOwnProperty("target_placeholder_id")){if(1===r.target)return"target: multiple values";if(r.target=1,a=$root.syft_proto.execution.v1.PlaceholderId.verify(t.target_placeholder_id))return"target_placeholder_id."+a}if(null!=t.target_tensor&&t.hasOwnProperty("target_tensor")){if(1===r.target)return"target: multiple values";if(r.target=1,a=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.target_tensor))return"target_tensor."+a}if(null!=t.args&&t.hasOwnProperty("args")){if(!Array.isArray(t.args))return"args: array expected";for(var o=0;o<t.args.length;++o)if(a=$root.syft_proto.types.syft.v1.Arg.verify(t.args[o]))return"args."+a}if(null!=t.kwargs&&t.hasOwnProperty("kwargs")){if(!$util.isObject(t.kwargs))return"kwargs: object expected";var i=Object.keys(t.kwargs);for(o=0;o<i.length;++o)if(a=$root.syft_proto.types.syft.v1.Arg.verify(t.kwargs[i[o]]))return"kwargs."+a}if(null!=t.return_ids&&t.hasOwnProperty("return_ids")){if(!Array.isArray(t.return_ids))return"return_ids: array expected";for(o=0;o<t.return_ids.length;++o)if(a=$root.syft_proto.types.syft.v1.Id.verify(t.return_ids[o]))return"return_ids."+a}if(null!=t.return_placeholder_ids&&t.hasOwnProperty("return_placeholder_ids")){if(!Array.isArray(t.return_placeholder_ids))return"return_placeholder_ids: array expected";for(o=0;o<t.return_placeholder_ids.length;++o){var a;if(a=$root.syft_proto.execution.v1.PlaceholderId.verify(t.return_placeholder_ids[o]))return"return_placeholder_ids."+a}}return null},CommunicationAction.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.CommunicationAction)return t;var r=new $root.syft_proto.execution.v1.CommunicationAction;if(null!=t.command&&(r.command=String(t.command)),null!=t.target_id){if("object"!=typeof t.target_id)throw TypeError(".syft_proto.execution.v1.CommunicationAction.target_id: object expected");r.target_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.target_id)}if(null!=t.target_pointer){if("object"!=typeof t.target_pointer)throw TypeError(".syft_proto.execution.v1.CommunicationAction.target_pointer: object expected");r.target_pointer=$root.syft_proto.generic.pointers.v1.PointerTensor.fromObject(t.target_pointer)}if(null!=t.target_placeholder_id){if("object"!=typeof t.target_placeholder_id)throw TypeError(".syft_proto.execution.v1.CommunicationAction.target_placeholder_id: object expected");r.target_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.fromObject(t.target_placeholder_id)}if(null!=t.target_tensor){if("object"!=typeof t.target_tensor)throw TypeError(".syft_proto.execution.v1.CommunicationAction.target_tensor: object expected");r.target_tensor=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.target_tensor)}if(t.args){if(!Array.isArray(t.args))throw TypeError(".syft_proto.execution.v1.CommunicationAction.args: array expected");r.args=[];for(var o=0;o<t.args.length;++o){if("object"!=typeof t.args[o])throw TypeError(".syft_proto.execution.v1.CommunicationAction.args: object expected");r.args[o]=$root.syft_proto.types.syft.v1.Arg.fromObject(t.args[o])}}if(t.kwargs){if("object"!=typeof t.kwargs)throw TypeError(".syft_proto.execution.v1.CommunicationAction.kwargs: object expected");r.kwargs={};var i=Object.keys(t.kwargs);for(o=0;o<i.length;++o){if("object"!=typeof t.kwargs[i[o]])throw TypeError(".syft_proto.execution.v1.CommunicationAction.kwargs: object expected");r.kwargs[i[o]]=$root.syft_proto.types.syft.v1.Arg.fromObject(t.kwargs[i[o]])}}if(t.return_ids){if(!Array.isArray(t.return_ids))throw TypeError(".syft_proto.execution.v1.CommunicationAction.return_ids: array expected");for(r.return_ids=[],o=0;o<t.return_ids.length;++o){if("object"!=typeof t.return_ids[o])throw TypeError(".syft_proto.execution.v1.CommunicationAction.return_ids: object expected");r.return_ids[o]=$root.syft_proto.types.syft.v1.Id.fromObject(t.return_ids[o])}}if(t.return_placeholder_ids){if(!Array.isArray(t.return_placeholder_ids))throw TypeError(".syft_proto.execution.v1.CommunicationAction.return_placeholder_ids: array expected");for(r.return_placeholder_ids=[],o=0;o<t.return_placeholder_ids.length;++o){if("object"!=typeof t.return_placeholder_ids[o])throw TypeError(".syft_proto.execution.v1.CommunicationAction.return_placeholder_ids: object expected");r.return_placeholder_ids[o]=$root.syft_proto.execution.v1.PlaceholderId.fromObject(t.return_placeholder_ids[o])}}return r},CommunicationAction.toObject=function toObject(t,r){r||(r={});var o,i={};if((r.arrays||r.defaults)&&(i.args=[],i.return_ids=[],i.return_placeholder_ids=[]),(r.objects||r.defaults)&&(i.kwargs={}),r.defaults&&(i.command=""),null!=t.command&&t.hasOwnProperty("command")&&(i.command=t.command),null!=t.target_pointer&&t.hasOwnProperty("target_pointer")&&(i.target_pointer=$root.syft_proto.generic.pointers.v1.PointerTensor.toObject(t.target_pointer,r),r.oneofs&&(i.target="target_pointer")),null!=t.target_placeholder_id&&t.hasOwnProperty("target_placeholder_id")&&(i.target_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.toObject(t.target_placeholder_id,r),r.oneofs&&(i.target="target_placeholder_id")),null!=t.target_tensor&&t.hasOwnProperty("target_tensor")&&(i.target_tensor=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.target_tensor,r),r.oneofs&&(i.target="target_tensor")),t.args&&t.args.length){i.args=[];for(var a=0;a<t.args.length;++a)i.args[a]=$root.syft_proto.types.syft.v1.Arg.toObject(t.args[a],r)}if(t.kwargs&&(o=Object.keys(t.kwargs)).length)for(i.kwargs={},a=0;a<o.length;++a)i.kwargs[o[a]]=$root.syft_proto.types.syft.v1.Arg.toObject(t.kwargs[o[a]],r);if(t.return_ids&&t.return_ids.length)for(i.return_ids=[],a=0;a<t.return_ids.length;++a)i.return_ids[a]=$root.syft_proto.types.syft.v1.Id.toObject(t.return_ids[a],r);if(t.return_placeholder_ids&&t.return_placeholder_ids.length)for(i.return_placeholder_ids=[],a=0;a<t.return_placeholder_ids.length;++a)i.return_placeholder_ids[a]=$root.syft_proto.execution.v1.PlaceholderId.toObject(t.return_placeholder_ids[a],r);return null!=t.target_id&&t.hasOwnProperty("target_id")&&(i.target_id=$root.syft_proto.types.syft.v1.Id.toObject(t.target_id,r),r.oneofs&&(i.target="target_id")),i},CommunicationAction.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},CommunicationAction}(),v1.PlaceholderId=function(){function PlaceholderId(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return PlaceholderId.prototype.id=null,PlaceholderId.create=function create(t){return new PlaceholderId(t)},PlaceholderId.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.id&&t.hasOwnProperty("id")&&$root.syft_proto.types.syft.v1.Id.encode(t.id,r.uint32(10).fork()).ldelim(),r},PlaceholderId.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},PlaceholderId.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.execution.v1.PlaceholderId;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},PlaceholderId.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},PlaceholderId.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")){var r=$root.syft_proto.types.syft.v1.Id.verify(t.id);if(r)return"id."+r}return null},PlaceholderId.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.PlaceholderId)return t;var r=new $root.syft_proto.execution.v1.PlaceholderId;if(null!=t.id){if("object"!=typeof t.id)throw TypeError(".syft_proto.execution.v1.PlaceholderId.id: object expected");r.id=$root.syft_proto.types.syft.v1.Id.fromObject(t.id)}return r},PlaceholderId.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.id=null),null!=t.id&&t.hasOwnProperty("id")&&(o.id=$root.syft_proto.types.syft.v1.Id.toObject(t.id,r)),o},PlaceholderId.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},PlaceholderId}(),v1.Placeholder=function(){function Placeholder(t){if(this.tags=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return Placeholder.prototype.child_tensor=null,Placeholder.prototype.child_parameter=null,Placeholder.prototype.id=null,Placeholder.prototype.tags=$util.emptyArray,Placeholder.prototype.description="",Placeholder.prototype.expected_shape=null,Object.defineProperty(Placeholder.prototype,"child",{get:$util.oneOfGetter(t=["child_tensor","child_parameter"]),set:$util.oneOfSetter(t)}),Placeholder.create=function create(t){return new Placeholder(t)},Placeholder.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.child_tensor&&t.hasOwnProperty("child_tensor")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.child_tensor,r.uint32(10).fork()).ldelim(),null!=t.child_parameter&&t.hasOwnProperty("child_parameter")&&$root.syft_proto.types.torch.v1.Parameter.encode(t.child_parameter,r.uint32(18).fork()).ldelim(),null!=t.id&&t.hasOwnProperty("id")&&$root.syft_proto.types.syft.v1.Id.encode(t.id,r.uint32(26).fork()).ldelim(),null!=t.tags&&t.tags.length)for(var o=0;o<t.tags.length;++o)r.uint32(34).string(t.tags[o]);return null!=t.description&&t.hasOwnProperty("description")&&r.uint32(42).string(t.description),null!=t.expected_shape&&t.hasOwnProperty("expected_shape")&&$root.syft_proto.types.syft.v1.Shape.encode(t.expected_shape,r.uint32(50).fork()).ldelim(),r},Placeholder.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Placeholder.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.execution.v1.Placeholder;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.child_tensor=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 2:i.child_parameter=$root.syft_proto.types.torch.v1.Parameter.decode(t,t.uint32());break;case 3:i.id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 4:i.tags&&i.tags.length||(i.tags=[]),i.tags.push(t.string());break;case 5:i.description=t.string();break;case 6:i.expected_shape=$root.syft_proto.types.syft.v1.Shape.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},Placeholder.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Placeholder.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.child_tensor&&t.hasOwnProperty("child_tensor")&&(r.child=1,o=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.child_tensor)))return"child_tensor."+o;if(null!=t.child_parameter&&t.hasOwnProperty("child_parameter")){if(1===r.child)return"child: multiple values";var o;if(r.child=1,o=$root.syft_proto.types.torch.v1.Parameter.verify(t.child_parameter))return"child_parameter."+o}if(null!=t.id&&t.hasOwnProperty("id")&&(o=$root.syft_proto.types.syft.v1.Id.verify(t.id)))return"id."+o;if(null!=t.tags&&t.hasOwnProperty("tags")){if(!Array.isArray(t.tags))return"tags: array expected";for(var i=0;i<t.tags.length;++i)if(!$util.isString(t.tags[i]))return"tags: string[] expected"}return null!=t.description&&t.hasOwnProperty("description")&&!$util.isString(t.description)?"description: string expected":null!=t.expected_shape&&t.hasOwnProperty("expected_shape")&&(o=$root.syft_proto.types.syft.v1.Shape.verify(t.expected_shape))?"expected_shape."+o:null},Placeholder.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.Placeholder)return t;var r=new $root.syft_proto.execution.v1.Placeholder;if(null!=t.child_tensor){if("object"!=typeof t.child_tensor)throw TypeError(".syft_proto.execution.v1.Placeholder.child_tensor: object expected");r.child_tensor=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.child_tensor)}if(null!=t.child_parameter){if("object"!=typeof t.child_parameter)throw TypeError(".syft_proto.execution.v1.Placeholder.child_parameter: object expected");r.child_parameter=$root.syft_proto.types.torch.v1.Parameter.fromObject(t.child_parameter)}if(null!=t.id){if("object"!=typeof t.id)throw TypeError(".syft_proto.execution.v1.Placeholder.id: object expected");r.id=$root.syft_proto.types.syft.v1.Id.fromObject(t.id)}if(t.tags){if(!Array.isArray(t.tags))throw TypeError(".syft_proto.execution.v1.Placeholder.tags: array expected");r.tags=[];for(var o=0;o<t.tags.length;++o)r.tags[o]=String(t.tags[o])}if(null!=t.description&&(r.description=String(t.description)),null!=t.expected_shape){if("object"!=typeof t.expected_shape)throw TypeError(".syft_proto.execution.v1.Placeholder.expected_shape: object expected");r.expected_shape=$root.syft_proto.types.syft.v1.Shape.fromObject(t.expected_shape)}return r},Placeholder.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.tags=[]),r.defaults&&(o.id=null,o.description="",o.expected_shape=null),null!=t.child_tensor&&t.hasOwnProperty("child_tensor")&&(o.child_tensor=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.child_tensor,r),r.oneofs&&(o.child="child_tensor")),null!=t.child_parameter&&t.hasOwnProperty("child_parameter")&&(o.child_parameter=$root.syft_proto.types.torch.v1.Parameter.toObject(t.child_parameter,r),r.oneofs&&(o.child="child_parameter")),null!=t.id&&t.hasOwnProperty("id")&&(o.id=$root.syft_proto.types.syft.v1.Id.toObject(t.id,r)),t.tags&&t.tags.length){o.tags=[];for(var i=0;i<t.tags.length;++i)o.tags[i]=t.tags[i]}return null!=t.description&&t.hasOwnProperty("description")&&(o.description=t.description),null!=t.expected_shape&&t.hasOwnProperty("expected_shape")&&(o.expected_shape=$root.syft_proto.types.syft.v1.Shape.toObject(t.expected_shape,r)),o},Placeholder.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Placeholder}(),v1.ComputationAction=function(){function ComputationAction(t){if(this.args=[],this.kwargs={},this.return_ids=[],this.return_placeholder_ids=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return ComputationAction.prototype.command="",ComputationAction.prototype.target_id=null,ComputationAction.prototype.target_pointer=null,ComputationAction.prototype.target_placeholder_id=null,ComputationAction.prototype.target_tensor=null,ComputationAction.prototype.args=$util.emptyArray,ComputationAction.prototype.kwargs=$util.emptyObject,ComputationAction.prototype.return_ids=$util.emptyArray,ComputationAction.prototype.return_placeholder_ids=$util.emptyArray,Object.defineProperty(ComputationAction.prototype,"target",{get:$util.oneOfGetter(t=["target_id","target_pointer","target_placeholder_id","target_tensor"]),set:$util.oneOfSetter(t)}),ComputationAction.create=function create(t){return new ComputationAction(t)},ComputationAction.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.command&&t.hasOwnProperty("command")&&r.uint32(10).string(t.command),null!=t.target_pointer&&t.hasOwnProperty("target_pointer")&&$root.syft_proto.generic.pointers.v1.PointerTensor.encode(t.target_pointer,r.uint32(18).fork()).ldelim(),null!=t.target_placeholder_id&&t.hasOwnProperty("target_placeholder_id")&&$root.syft_proto.execution.v1.PlaceholderId.encode(t.target_placeholder_id,r.uint32(26).fork()).ldelim(),null!=t.target_tensor&&t.hasOwnProperty("target_tensor")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.target_tensor,r.uint32(34).fork()).ldelim(),null!=t.args&&t.args.length)for(var o=0;o<t.args.length;++o)$root.syft_proto.types.syft.v1.Arg.encode(t.args[o],r.uint32(42).fork()).ldelim();if(null!=t.kwargs&&t.hasOwnProperty("kwargs")){var i=Object.keys(t.kwargs);for(o=0;o<i.length;++o)r.uint32(50).fork().uint32(10).string(i[o]),$root.syft_proto.types.syft.v1.Arg.encode(t.kwargs[i[o]],r.uint32(18).fork()).ldelim().ldelim()}if(null!=t.return_ids&&t.return_ids.length)for(o=0;o<t.return_ids.length;++o)$root.syft_proto.types.syft.v1.Id.encode(t.return_ids[o],r.uint32(58).fork()).ldelim();if(null!=t.return_placeholder_ids&&t.return_placeholder_ids.length)for(o=0;o<t.return_placeholder_ids.length;++o)$root.syft_proto.execution.v1.PlaceholderId.encode(t.return_placeholder_ids[o],r.uint32(66).fork()).ldelim();return null!=t.target_id&&t.hasOwnProperty("target_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.target_id,r.uint32(74).fork()).ldelim(),r},ComputationAction.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},ComputationAction.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o,i=void 0===r?t.len:t.pos+r,a=new $root.syft_proto.execution.v1.ComputationAction;t.pos<i;){var c=t.uint32();switch(c>>>3){case 1:a.command=t.string();break;case 9:a.target_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:a.target_pointer=$root.syft_proto.generic.pointers.v1.PointerTensor.decode(t,t.uint32());break;case 3:a.target_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.decode(t,t.uint32());break;case 4:a.target_tensor=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 5:a.args&&a.args.length||(a.args=[]),a.args.push($root.syft_proto.types.syft.v1.Arg.decode(t,t.uint32()));break;case 6:t.skip().pos++,a.kwargs===$util.emptyObject&&(a.kwargs={}),o=t.string(),t.pos++,a.kwargs[o]=$root.syft_proto.types.syft.v1.Arg.decode(t,t.uint32());break;case 7:a.return_ids&&a.return_ids.length||(a.return_ids=[]),a.return_ids.push($root.syft_proto.types.syft.v1.Id.decode(t,t.uint32()));break;case 8:a.return_placeholder_ids&&a.return_placeholder_ids.length||(a.return_placeholder_ids=[]),a.return_placeholder_ids.push($root.syft_proto.execution.v1.PlaceholderId.decode(t,t.uint32()));break;default:t.skipType(7&c)}}return a},ComputationAction.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},ComputationAction.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.command&&t.hasOwnProperty("command")&&!$util.isString(t.command))return"command: string expected";if(null!=t.target_id&&t.hasOwnProperty("target_id")&&(r.target=1,a=$root.syft_proto.types.syft.v1.Id.verify(t.target_id)))return"target_id."+a;if(null!=t.target_pointer&&t.hasOwnProperty("target_pointer")){if(1===r.target)return"target: multiple values";if(r.target=1,a=$root.syft_proto.generic.pointers.v1.PointerTensor.verify(t.target_pointer))return"target_pointer."+a}if(null!=t.target_placeholder_id&&t.hasOwnProperty("target_placeholder_id")){if(1===r.target)return"target: multiple values";if(r.target=1,a=$root.syft_proto.execution.v1.PlaceholderId.verify(t.target_placeholder_id))return"target_placeholder_id."+a}if(null!=t.target_tensor&&t.hasOwnProperty("target_tensor")){if(1===r.target)return"target: multiple values";if(r.target=1,a=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.target_tensor))return"target_tensor."+a}if(null!=t.args&&t.hasOwnProperty("args")){if(!Array.isArray(t.args))return"args: array expected";for(var o=0;o<t.args.length;++o)if(a=$root.syft_proto.types.syft.v1.Arg.verify(t.args[o]))return"args."+a}if(null!=t.kwargs&&t.hasOwnProperty("kwargs")){if(!$util.isObject(t.kwargs))return"kwargs: object expected";var i=Object.keys(t.kwargs);for(o=0;o<i.length;++o)if(a=$root.syft_proto.types.syft.v1.Arg.verify(t.kwargs[i[o]]))return"kwargs."+a}if(null!=t.return_ids&&t.hasOwnProperty("return_ids")){if(!Array.isArray(t.return_ids))return"return_ids: array expected";for(o=0;o<t.return_ids.length;++o)if(a=$root.syft_proto.types.syft.v1.Id.verify(t.return_ids[o]))return"return_ids."+a}if(null!=t.return_placeholder_ids&&t.hasOwnProperty("return_placeholder_ids")){if(!Array.isArray(t.return_placeholder_ids))return"return_placeholder_ids: array expected";for(o=0;o<t.return_placeholder_ids.length;++o){var a;if(a=$root.syft_proto.execution.v1.PlaceholderId.verify(t.return_placeholder_ids[o]))return"return_placeholder_ids."+a}}return null},ComputationAction.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.ComputationAction)return t;var r=new $root.syft_proto.execution.v1.ComputationAction;if(null!=t.command&&(r.command=String(t.command)),null!=t.target_id){if("object"!=typeof t.target_id)throw TypeError(".syft_proto.execution.v1.ComputationAction.target_id: object expected");r.target_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.target_id)}if(null!=t.target_pointer){if("object"!=typeof t.target_pointer)throw TypeError(".syft_proto.execution.v1.ComputationAction.target_pointer: object expected");r.target_pointer=$root.syft_proto.generic.pointers.v1.PointerTensor.fromObject(t.target_pointer)}if(null!=t.target_placeholder_id){if("object"!=typeof t.target_placeholder_id)throw TypeError(".syft_proto.execution.v1.ComputationAction.target_placeholder_id: object expected");r.target_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.fromObject(t.target_placeholder_id)}if(null!=t.target_tensor){if("object"!=typeof t.target_tensor)throw TypeError(".syft_proto.execution.v1.ComputationAction.target_tensor: object expected");r.target_tensor=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.target_tensor)}if(t.args){if(!Array.isArray(t.args))throw TypeError(".syft_proto.execution.v1.ComputationAction.args: array expected");r.args=[];for(var o=0;o<t.args.length;++o){if("object"!=typeof t.args[o])throw TypeError(".syft_proto.execution.v1.ComputationAction.args: object expected");r.args[o]=$root.syft_proto.types.syft.v1.Arg.fromObject(t.args[o])}}if(t.kwargs){if("object"!=typeof t.kwargs)throw TypeError(".syft_proto.execution.v1.ComputationAction.kwargs: object expected");r.kwargs={};var i=Object.keys(t.kwargs);for(o=0;o<i.length;++o){if("object"!=typeof t.kwargs[i[o]])throw TypeError(".syft_proto.execution.v1.ComputationAction.kwargs: object expected");r.kwargs[i[o]]=$root.syft_proto.types.syft.v1.Arg.fromObject(t.kwargs[i[o]])}}if(t.return_ids){if(!Array.isArray(t.return_ids))throw TypeError(".syft_proto.execution.v1.ComputationAction.return_ids: array expected");for(r.return_ids=[],o=0;o<t.return_ids.length;++o){if("object"!=typeof t.return_ids[o])throw TypeError(".syft_proto.execution.v1.ComputationAction.return_ids: object expected");r.return_ids[o]=$root.syft_proto.types.syft.v1.Id.fromObject(t.return_ids[o])}}if(t.return_placeholder_ids){if(!Array.isArray(t.return_placeholder_ids))throw TypeError(".syft_proto.execution.v1.ComputationAction.return_placeholder_ids: array expected");for(r.return_placeholder_ids=[],o=0;o<t.return_placeholder_ids.length;++o){if("object"!=typeof t.return_placeholder_ids[o])throw TypeError(".syft_proto.execution.v1.ComputationAction.return_placeholder_ids: object expected");r.return_placeholder_ids[o]=$root.syft_proto.execution.v1.PlaceholderId.fromObject(t.return_placeholder_ids[o])}}return r},ComputationAction.toObject=function toObject(t,r){r||(r={});var o,i={};if((r.arrays||r.defaults)&&(i.args=[],i.return_ids=[],i.return_placeholder_ids=[]),(r.objects||r.defaults)&&(i.kwargs={}),r.defaults&&(i.command=""),null!=t.command&&t.hasOwnProperty("command")&&(i.command=t.command),null!=t.target_pointer&&t.hasOwnProperty("target_pointer")&&(i.target_pointer=$root.syft_proto.generic.pointers.v1.PointerTensor.toObject(t.target_pointer,r),r.oneofs&&(i.target="target_pointer")),null!=t.target_placeholder_id&&t.hasOwnProperty("target_placeholder_id")&&(i.target_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.toObject(t.target_placeholder_id,r),r.oneofs&&(i.target="target_placeholder_id")),null!=t.target_tensor&&t.hasOwnProperty("target_tensor")&&(i.target_tensor=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.target_tensor,r),r.oneofs&&(i.target="target_tensor")),t.args&&t.args.length){i.args=[];for(var a=0;a<t.args.length;++a)i.args[a]=$root.syft_proto.types.syft.v1.Arg.toObject(t.args[a],r)}if(t.kwargs&&(o=Object.keys(t.kwargs)).length)for(i.kwargs={},a=0;a<o.length;++a)i.kwargs[o[a]]=$root.syft_proto.types.syft.v1.Arg.toObject(t.kwargs[o[a]],r);if(t.return_ids&&t.return_ids.length)for(i.return_ids=[],a=0;a<t.return_ids.length;++a)i.return_ids[a]=$root.syft_proto.types.syft.v1.Id.toObject(t.return_ids[a],r);if(t.return_placeholder_ids&&t.return_placeholder_ids.length)for(i.return_placeholder_ids=[],a=0;a<t.return_placeholder_ids.length;++a)i.return_placeholder_ids[a]=$root.syft_proto.execution.v1.PlaceholderId.toObject(t.return_placeholder_ids[a],r);return null!=t.target_id&&t.hasOwnProperty("target_id")&&(i.target_id=$root.syft_proto.types.syft.v1.Id.toObject(t.target_id,r),r.oneofs&&(i.target="target_id")),i},ComputationAction.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},ComputationAction}(),v1.Plan=function(){function Plan(t){if(this.tags=[],this.roles={},t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return Plan.prototype.id=null,Plan.prototype.role=null,Plan.prototype.include_state=!1,Plan.prototype.name="",Plan.prototype.tags=$util.emptyArray,Plan.prototype.description="",Plan.prototype.torchscript=$util.newBuffer([]),Plan.prototype.input_types=null,Plan.prototype.base_framework="",Plan.prototype.roles=$util.emptyObject,Plan.create=function create(t){return new Plan(t)},Plan.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.id&&t.hasOwnProperty("id")&&$root.syft_proto.types.syft.v1.Id.encode(t.id,r.uint32(10).fork()).ldelim(),null!=t.role&&t.hasOwnProperty("role")&&$root.syft_proto.execution.v1.Role.encode(t.role,r.uint32(18).fork()).ldelim(),null!=t.include_state&&t.hasOwnProperty("include_state")&&r.uint32(24).bool(t.include_state),null!=t.name&&t.hasOwnProperty("name")&&r.uint32(34).string(t.name),null!=t.tags&&t.tags.length)for(var o=0;o<t.tags.length;++o)r.uint32(42).string(t.tags[o]);if(null!=t.description&&t.hasOwnProperty("description")&&r.uint32(50).string(t.description),null!=t.torchscript&&t.hasOwnProperty("torchscript")&&r.uint32(58).bytes(t.torchscript),null!=t.input_types&&t.hasOwnProperty("input_types")&&$root.syft_proto.execution.v1.NestedTypeWrapper.encode(t.input_types,r.uint32(66).fork()).ldelim(),null!=t.base_framework&&t.hasOwnProperty("base_framework")&&r.uint32(74).string(t.base_framework),null!=t.roles&&t.hasOwnProperty("roles")){var i=Object.keys(t.roles);for(o=0;o<i.length;++o)r.uint32(82).fork().uint32(10).string(i[o]),$root.syft_proto.execution.v1.Role.encode(t.roles[i[o]],r.uint32(18).fork()).ldelim().ldelim()}return r},Plan.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Plan.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o,i=void 0===r?t.len:t.pos+r,a=new $root.syft_proto.execution.v1.Plan;t.pos<i;){var c=t.uint32();switch(c>>>3){case 1:a.id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:a.role=$root.syft_proto.execution.v1.Role.decode(t,t.uint32());break;case 3:a.include_state=t.bool();break;case 4:a.name=t.string();break;case 5:a.tags&&a.tags.length||(a.tags=[]),a.tags.push(t.string());break;case 6:a.description=t.string();break;case 7:a.torchscript=t.bytes();break;case 8:a.input_types=$root.syft_proto.execution.v1.NestedTypeWrapper.decode(t,t.uint32());break;case 9:a.base_framework=t.string();break;case 10:t.skip().pos++,a.roles===$util.emptyObject&&(a.roles={}),o=t.string(),t.pos++,a.roles[o]=$root.syft_proto.execution.v1.Role.decode(t,t.uint32());break;default:t.skipType(7&c)}}return a},Plan.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Plan.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&(i=$root.syft_proto.types.syft.v1.Id.verify(t.id)))return"id."+i;if(null!=t.role&&t.hasOwnProperty("role")&&(i=$root.syft_proto.execution.v1.Role.verify(t.role)))return"role."+i;if(null!=t.include_state&&t.hasOwnProperty("include_state")&&"boolean"!=typeof t.include_state)return"include_state: boolean expected";if(null!=t.name&&t.hasOwnProperty("name")&&!$util.isString(t.name))return"name: string expected";if(null!=t.tags&&t.hasOwnProperty("tags")){if(!Array.isArray(t.tags))return"tags: array expected";for(var r=0;r<t.tags.length;++r)if(!$util.isString(t.tags[r]))return"tags: string[] expected"}if(null!=t.description&&t.hasOwnProperty("description")&&!$util.isString(t.description))return"description: string expected";if(null!=t.torchscript&&t.hasOwnProperty("torchscript")&&!(t.torchscript&&"number"==typeof t.torchscript.length||$util.isString(t.torchscript)))return"torchscript: buffer expected";if(null!=t.input_types&&t.hasOwnProperty("input_types")&&(i=$root.syft_proto.execution.v1.NestedTypeWrapper.verify(t.input_types)))return"input_types."+i;if(null!=t.base_framework&&t.hasOwnProperty("base_framework")&&!$util.isString(t.base_framework))return"base_framework: string expected";if(null!=t.roles&&t.hasOwnProperty("roles")){if(!$util.isObject(t.roles))return"roles: object expected";var o=Object.keys(t.roles);for(r=0;r<o.length;++r){var i;if(i=$root.syft_proto.execution.v1.Role.verify(t.roles[o[r]]))return"roles."+i}}return null},Plan.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.Plan)return t;var r=new $root.syft_proto.execution.v1.Plan;if(null!=t.id){if("object"!=typeof t.id)throw TypeError(".syft_proto.execution.v1.Plan.id: object expected");r.id=$root.syft_proto.types.syft.v1.Id.fromObject(t.id)}if(null!=t.role){if("object"!=typeof t.role)throw TypeError(".syft_proto.execution.v1.Plan.role: object expected");r.role=$root.syft_proto.execution.v1.Role.fromObject(t.role)}if(null!=t.include_state&&(r.include_state=Boolean(t.include_state)),null!=t.name&&(r.name=String(t.name)),t.tags){if(!Array.isArray(t.tags))throw TypeError(".syft_proto.execution.v1.Plan.tags: array expected");r.tags=[];for(var o=0;o<t.tags.length;++o)r.tags[o]=String(t.tags[o])}if(null!=t.description&&(r.description=String(t.description)),null!=t.torchscript&&("string"==typeof t.torchscript?$util.base64.decode(t.torchscript,r.torchscript=$util.newBuffer($util.base64.length(t.torchscript)),0):t.torchscript.length&&(r.torchscript=t.torchscript)),null!=t.input_types){if("object"!=typeof t.input_types)throw TypeError(".syft_proto.execution.v1.Plan.input_types: object expected");r.input_types=$root.syft_proto.execution.v1.NestedTypeWrapper.fromObject(t.input_types)}if(null!=t.base_framework&&(r.base_framework=String(t.base_framework)),t.roles){if("object"!=typeof t.roles)throw TypeError(".syft_proto.execution.v1.Plan.roles: object expected");r.roles={};var i=Object.keys(t.roles);for(o=0;o<i.length;++o){if("object"!=typeof t.roles[i[o]])throw TypeError(".syft_proto.execution.v1.Plan.roles: object expected");r.roles[i[o]]=$root.syft_proto.execution.v1.Role.fromObject(t.roles[i[o]])}}return r},Plan.toObject=function toObject(t,r){r||(r={});var o,i={};if((r.arrays||r.defaults)&&(i.tags=[]),(r.objects||r.defaults)&&(i.roles={}),r.defaults&&(i.id=null,i.role=null,i.include_state=!1,i.name="",i.description="",r.bytes===String?i.torchscript="":(i.torchscript=[],r.bytes!==Array&&(i.torchscript=$util.newBuffer(i.torchscript))),i.input_types=null,i.base_framework=""),null!=t.id&&t.hasOwnProperty("id")&&(i.id=$root.syft_proto.types.syft.v1.Id.toObject(t.id,r)),null!=t.role&&t.hasOwnProperty("role")&&(i.role=$root.syft_proto.execution.v1.Role.toObject(t.role,r)),null!=t.include_state&&t.hasOwnProperty("include_state")&&(i.include_state=t.include_state),null!=t.name&&t.hasOwnProperty("name")&&(i.name=t.name),t.tags&&t.tags.length){i.tags=[];for(var a=0;a<t.tags.length;++a)i.tags[a]=t.tags[a]}if(null!=t.description&&t.hasOwnProperty("description")&&(i.description=t.description),null!=t.torchscript&&t.hasOwnProperty("torchscript")&&(i.torchscript=r.bytes===String?$util.base64.encode(t.torchscript,0,t.torchscript.length):r.bytes===Array?Array.prototype.slice.call(t.torchscript):t.torchscript),null!=t.input_types&&t.hasOwnProperty("input_types")&&(i.input_types=$root.syft_proto.execution.v1.NestedTypeWrapper.toObject(t.input_types,r)),null!=t.base_framework&&t.hasOwnProperty("base_framework")&&(i.base_framework=t.base_framework),t.roles&&(o=Object.keys(t.roles)).length)for(i.roles={},a=0;a<o.length;++a)i.roles[o[a]]=$root.syft_proto.execution.v1.Role.toObject(t.roles[o[a]],r);return i},Plan.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Plan}(),v1.Role=function(){function Role(t){if(this.actions=[],this.placeholders=[],this.input_placeholder_ids=[],this.output_placeholder_ids=[],this.tags=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return Role.prototype.id=null,Role.prototype.actions=$util.emptyArray,Role.prototype.state=null,Role.prototype.placeholders=$util.emptyArray,Role.prototype.input_placeholder_ids=$util.emptyArray,Role.prototype.output_placeholder_ids=$util.emptyArray,Role.prototype.tags=$util.emptyArray,Role.prototype.description="",Role.create=function create(t){return new Role(t)},Role.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.id&&t.hasOwnProperty("id")&&$root.syft_proto.types.syft.v1.Id.encode(t.id,r.uint32(10).fork()).ldelim(),null!=t.actions&&t.actions.length)for(var o=0;o<t.actions.length;++o)$root.syft_proto.execution.v1.ComputationAction.encode(t.actions[o],r.uint32(18).fork()).ldelim();if(null!=t.state&&t.hasOwnProperty("state")&&$root.syft_proto.execution.v1.State.encode(t.state,r.uint32(26).fork()).ldelim(),null!=t.placeholders&&t.placeholders.length)for(o=0;o<t.placeholders.length;++o)$root.syft_proto.execution.v1.Placeholder.encode(t.placeholders[o],r.uint32(34).fork()).ldelim();if(null!=t.input_placeholder_ids&&t.input_placeholder_ids.length)for(o=0;o<t.input_placeholder_ids.length;++o)$root.syft_proto.types.syft.v1.Id.encode(t.input_placeholder_ids[o],r.uint32(42).fork()).ldelim();if(null!=t.output_placeholder_ids&&t.output_placeholder_ids.length)for(o=0;o<t.output_placeholder_ids.length;++o)$root.syft_proto.types.syft.v1.Id.encode(t.output_placeholder_ids[o],r.uint32(50).fork()).ldelim();if(null!=t.tags&&t.tags.length)for(o=0;o<t.tags.length;++o)r.uint32(58).string(t.tags[o]);return null!=t.description&&t.hasOwnProperty("description")&&r.uint32(66).string(t.description),r},Role.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Role.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.execution.v1.Role;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:i.actions&&i.actions.length||(i.actions=[]),i.actions.push($root.syft_proto.execution.v1.ComputationAction.decode(t,t.uint32()));break;case 3:i.state=$root.syft_proto.execution.v1.State.decode(t,t.uint32());break;case 4:i.placeholders&&i.placeholders.length||(i.placeholders=[]),i.placeholders.push($root.syft_proto.execution.v1.Placeholder.decode(t,t.uint32()));break;case 5:i.input_placeholder_ids&&i.input_placeholder_ids.length||(i.input_placeholder_ids=[]),i.input_placeholder_ids.push($root.syft_proto.types.syft.v1.Id.decode(t,t.uint32()));break;case 6:i.output_placeholder_ids&&i.output_placeholder_ids.length||(i.output_placeholder_ids=[]),i.output_placeholder_ids.push($root.syft_proto.types.syft.v1.Id.decode(t,t.uint32()));break;case 7:i.tags&&i.tags.length||(i.tags=[]),i.tags.push(t.string());break;case 8:i.description=t.string();break;default:t.skipType(7&a)}}return i},Role.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Role.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&(o=$root.syft_proto.types.syft.v1.Id.verify(t.id)))return"id."+o;if(null!=t.actions&&t.hasOwnProperty("actions")){if(!Array.isArray(t.actions))return"actions: array expected";for(var r=0;r<t.actions.length;++r)if(o=$root.syft_proto.execution.v1.ComputationAction.verify(t.actions[r]))return"actions."+o}if(null!=t.state&&t.hasOwnProperty("state")&&(o=$root.syft_proto.execution.v1.State.verify(t.state)))return"state."+o;if(null!=t.placeholders&&t.hasOwnProperty("placeholders")){if(!Array.isArray(t.placeholders))return"placeholders: array expected";for(r=0;r<t.placeholders.length;++r)if(o=$root.syft_proto.execution.v1.Placeholder.verify(t.placeholders[r]))return"placeholders."+o}if(null!=t.input_placeholder_ids&&t.hasOwnProperty("input_placeholder_ids")){if(!Array.isArray(t.input_placeholder_ids))return"input_placeholder_ids: array expected";for(r=0;r<t.input_placeholder_ids.length;++r)if(o=$root.syft_proto.types.syft.v1.Id.verify(t.input_placeholder_ids[r]))return"input_placeholder_ids."+o}if(null!=t.output_placeholder_ids&&t.hasOwnProperty("output_placeholder_ids")){if(!Array.isArray(t.output_placeholder_ids))return"output_placeholder_ids: array expected";for(r=0;r<t.output_placeholder_ids.length;++r){var o;if(o=$root.syft_proto.types.syft.v1.Id.verify(t.output_placeholder_ids[r]))return"output_placeholder_ids."+o}}if(null!=t.tags&&t.hasOwnProperty("tags")){if(!Array.isArray(t.tags))return"tags: array expected";for(r=0;r<t.tags.length;++r)if(!$util.isString(t.tags[r]))return"tags: string[] expected"}return null!=t.description&&t.hasOwnProperty("description")&&!$util.isString(t.description)?"description: string expected":null},Role.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.Role)return t;var r=new $root.syft_proto.execution.v1.Role;if(null!=t.id){if("object"!=typeof t.id)throw TypeError(".syft_proto.execution.v1.Role.id: object expected");r.id=$root.syft_proto.types.syft.v1.Id.fromObject(t.id)}if(t.actions){if(!Array.isArray(t.actions))throw TypeError(".syft_proto.execution.v1.Role.actions: array expected");r.actions=[];for(var o=0;o<t.actions.length;++o){if("object"!=typeof t.actions[o])throw TypeError(".syft_proto.execution.v1.Role.actions: object expected");r.actions[o]=$root.syft_proto.execution.v1.ComputationAction.fromObject(t.actions[o])}}if(null!=t.state){if("object"!=typeof t.state)throw TypeError(".syft_proto.execution.v1.Role.state: object expected");r.state=$root.syft_proto.execution.v1.State.fromObject(t.state)}if(t.placeholders){if(!Array.isArray(t.placeholders))throw TypeError(".syft_proto.execution.v1.Role.placeholders: array expected");for(r.placeholders=[],o=0;o<t.placeholders.length;++o){if("object"!=typeof t.placeholders[o])throw TypeError(".syft_proto.execution.v1.Role.placeholders: object expected");r.placeholders[o]=$root.syft_proto.execution.v1.Placeholder.fromObject(t.placeholders[o])}}if(t.input_placeholder_ids){if(!Array.isArray(t.input_placeholder_ids))throw TypeError(".syft_proto.execution.v1.Role.input_placeholder_ids: array expected");for(r.input_placeholder_ids=[],o=0;o<t.input_placeholder_ids.length;++o){if("object"!=typeof t.input_placeholder_ids[o])throw TypeError(".syft_proto.execution.v1.Role.input_placeholder_ids: object expected");r.input_placeholder_ids[o]=$root.syft_proto.types.syft.v1.Id.fromObject(t.input_placeholder_ids[o])}}if(t.output_placeholder_ids){if(!Array.isArray(t.output_placeholder_ids))throw TypeError(".syft_proto.execution.v1.Role.output_placeholder_ids: array expected");for(r.output_placeholder_ids=[],o=0;o<t.output_placeholder_ids.length;++o){if("object"!=typeof t.output_placeholder_ids[o])throw TypeError(".syft_proto.execution.v1.Role.output_placeholder_ids: object expected");r.output_placeholder_ids[o]=$root.syft_proto.types.syft.v1.Id.fromObject(t.output_placeholder_ids[o])}}if(t.tags){if(!Array.isArray(t.tags))throw TypeError(".syft_proto.execution.v1.Role.tags: array expected");for(r.tags=[],o=0;o<t.tags.length;++o)r.tags[o]=String(t.tags[o])}return null!=t.description&&(r.description=String(t.description)),r},Role.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.actions=[],o.placeholders=[],o.input_placeholder_ids=[],o.output_placeholder_ids=[],o.tags=[]),r.defaults&&(o.id=null,o.state=null,o.description=""),null!=t.id&&t.hasOwnProperty("id")&&(o.id=$root.syft_proto.types.syft.v1.Id.toObject(t.id,r)),t.actions&&t.actions.length){o.actions=[];for(var i=0;i<t.actions.length;++i)o.actions[i]=$root.syft_proto.execution.v1.ComputationAction.toObject(t.actions[i],r)}if(null!=t.state&&t.hasOwnProperty("state")&&(o.state=$root.syft_proto.execution.v1.State.toObject(t.state,r)),t.placeholders&&t.placeholders.length)for(o.placeholders=[],i=0;i<t.placeholders.length;++i)o.placeholders[i]=$root.syft_proto.execution.v1.Placeholder.toObject(t.placeholders[i],r);if(t.input_placeholder_ids&&t.input_placeholder_ids.length)for(o.input_placeholder_ids=[],i=0;i<t.input_placeholder_ids.length;++i)o.input_placeholder_ids[i]=$root.syft_proto.types.syft.v1.Id.toObject(t.input_placeholder_ids[i],r);if(t.output_placeholder_ids&&t.output_placeholder_ids.length)for(o.output_placeholder_ids=[],i=0;i<t.output_placeholder_ids.length;++i)o.output_placeholder_ids[i]=$root.syft_proto.types.syft.v1.Id.toObject(t.output_placeholder_ids[i],r);if(t.tags&&t.tags.length)for(o.tags=[],i=0;i<t.tags.length;++i)o.tags[i]=t.tags[i];return null!=t.description&&t.hasOwnProperty("description")&&(o.description=t.description),o},Role.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Role}(),v1.State=function(){function State(t){if(this.placeholders=[],this.tensors=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return State.prototype.placeholders=$util.emptyArray,State.prototype.tensors=$util.emptyArray,State.create=function create(t){return new State(t)},State.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.placeholders&&t.placeholders.length)for(var o=0;o<t.placeholders.length;++o)$root.syft_proto.execution.v1.Placeholder.encode(t.placeholders[o],r.uint32(10).fork()).ldelim();if(null!=t.tensors&&t.tensors.length)for(o=0;o<t.tensors.length;++o)$root.syft_proto.execution.v1.StateTensor.encode(t.tensors[o],r.uint32(18).fork()).ldelim();return r},State.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},State.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.execution.v1.State;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.placeholders&&i.placeholders.length||(i.placeholders=[]),i.placeholders.push($root.syft_proto.execution.v1.Placeholder.decode(t,t.uint32()));break;case 2:i.tensors&&i.tensors.length||(i.tensors=[]),i.tensors.push($root.syft_proto.execution.v1.StateTensor.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return i},State.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},State.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.placeholders&&t.hasOwnProperty("placeholders")){if(!Array.isArray(t.placeholders))return"placeholders: array expected";for(var r=0;r<t.placeholders.length;++r)if(o=$root.syft_proto.execution.v1.Placeholder.verify(t.placeholders[r]))return"placeholders."+o}if(null!=t.tensors&&t.hasOwnProperty("tensors")){if(!Array.isArray(t.tensors))return"tensors: array expected";for(r=0;r<t.tensors.length;++r){var o;if(o=$root.syft_proto.execution.v1.StateTensor.verify(t.tensors[r]))return"tensors."+o}}return null},State.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.State)return t;var r=new $root.syft_proto.execution.v1.State;if(t.placeholders){if(!Array.isArray(t.placeholders))throw TypeError(".syft_proto.execution.v1.State.placeholders: array expected");r.placeholders=[];for(var o=0;o<t.placeholders.length;++o){if("object"!=typeof t.placeholders[o])throw TypeError(".syft_proto.execution.v1.State.placeholders: object expected");r.placeholders[o]=$root.syft_proto.execution.v1.Placeholder.fromObject(t.placeholders[o])}}if(t.tensors){if(!Array.isArray(t.tensors))throw TypeError(".syft_proto.execution.v1.State.tensors: array expected");for(r.tensors=[],o=0;o<t.tensors.length;++o){if("object"!=typeof t.tensors[o])throw TypeError(".syft_proto.execution.v1.State.tensors: object expected");r.tensors[o]=$root.syft_proto.execution.v1.StateTensor.fromObject(t.tensors[o])}}return r},State.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.placeholders=[],o.tensors=[]),t.placeholders&&t.placeholders.length){o.placeholders=[];for(var i=0;i<t.placeholders.length;++i)o.placeholders[i]=$root.syft_proto.execution.v1.Placeholder.toObject(t.placeholders[i],r)}if(t.tensors&&t.tensors.length)for(o.tensors=[],i=0;i<t.tensors.length;++i)o.tensors[i]=$root.syft_proto.execution.v1.StateTensor.toObject(t.tensors[i],r);return o},State.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},State}(),v1.StateTensor=function(){function StateTensor(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return StateTensor.prototype.torch_tensor=null,StateTensor.prototype.torch_param=null,Object.defineProperty(StateTensor.prototype,"tensor",{get:$util.oneOfGetter(t=["torch_tensor","torch_param"]),set:$util.oneOfSetter(t)}),StateTensor.create=function create(t){return new StateTensor(t)},StateTensor.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.torch_tensor&&t.hasOwnProperty("torch_tensor")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.torch_tensor,r.uint32(10).fork()).ldelim(),null!=t.torch_param&&t.hasOwnProperty("torch_param")&&$root.syft_proto.types.torch.v1.Parameter.encode(t.torch_param,r.uint32(18).fork()).ldelim(),r},StateTensor.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},StateTensor.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.execution.v1.StateTensor;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.torch_tensor=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 2:i.torch_param=$root.syft_proto.types.torch.v1.Parameter.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},StateTensor.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},StateTensor.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.torch_tensor&&t.hasOwnProperty("torch_tensor")&&(r.tensor=1,o=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.torch_tensor)))return"torch_tensor."+o;if(null!=t.torch_param&&t.hasOwnProperty("torch_param")){if(1===r.tensor)return"tensor: multiple values";var o;if(r.tensor=1,o=$root.syft_proto.types.torch.v1.Parameter.verify(t.torch_param))return"torch_param."+o}return null},StateTensor.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.StateTensor)return t;var r=new $root.syft_proto.execution.v1.StateTensor;if(null!=t.torch_tensor){if("object"!=typeof t.torch_tensor)throw TypeError(".syft_proto.execution.v1.StateTensor.torch_tensor: object expected");r.torch_tensor=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.torch_tensor)}if(null!=t.torch_param){if("object"!=typeof t.torch_param)throw TypeError(".syft_proto.execution.v1.StateTensor.torch_param: object expected");r.torch_param=$root.syft_proto.types.torch.v1.Parameter.fromObject(t.torch_param)}return r},StateTensor.toObject=function toObject(t,r){r||(r={});var o={};return null!=t.torch_tensor&&t.hasOwnProperty("torch_tensor")&&(o.torch_tensor=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.torch_tensor,r),r.oneofs&&(o.tensor="torch_tensor")),null!=t.torch_param&&t.hasOwnProperty("torch_param")&&(o.torch_param=$root.syft_proto.types.torch.v1.Parameter.toObject(t.torch_param,r),r.oneofs&&(o.tensor="torch_param")),o},StateTensor.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},StateTensor}(),v1.InputTypeDescriptor=function(){function InputTypeDescriptor(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return InputTypeDescriptor.prototype.type_name="",InputTypeDescriptor.create=function create(t){return new InputTypeDescriptor(t)},InputTypeDescriptor.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.type_name&&t.hasOwnProperty("type_name")&&r.uint32(10).string(t.type_name),r},InputTypeDescriptor.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},InputTypeDescriptor.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.execution.v1.InputTypeDescriptor;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.type_name=t.string();break;default:t.skipType(7&a)}}return i},InputTypeDescriptor.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},InputTypeDescriptor.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.type_name&&t.hasOwnProperty("type_name")&&!$util.isString(t.type_name)?"type_name: string expected":null},InputTypeDescriptor.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.InputTypeDescriptor)return t;var r=new $root.syft_proto.execution.v1.InputTypeDescriptor;return null!=t.type_name&&(r.type_name=String(t.type_name)),r},InputTypeDescriptor.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.type_name=""),null!=t.type_name&&t.hasOwnProperty("type_name")&&(o.type_name=t.type_name),o},InputTypeDescriptor.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},InputTypeDescriptor}(),v1.NestedTypeWrapper=function(){function NestedTypeWrapper(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return NestedTypeWrapper.prototype.nested_types=null,NestedTypeWrapper.create=function create(t){return new NestedTypeWrapper(t)},NestedTypeWrapper.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.nested_types&&t.hasOwnProperty("nested_types")&&$root.syft_proto.execution.v1.NestedTypeWrapper.TypeContainer.encode(t.nested_types,r.uint32(10).fork()).ldelim(),r},NestedTypeWrapper.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},NestedTypeWrapper.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.execution.v1.NestedTypeWrapper;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.nested_types=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeContainer.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},NestedTypeWrapper.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},NestedTypeWrapper.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.nested_types&&t.hasOwnProperty("nested_types")){var r=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeContainer.verify(t.nested_types);if(r)return"nested_types."+r}return null},NestedTypeWrapper.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.NestedTypeWrapper)return t;var r=new $root.syft_proto.execution.v1.NestedTypeWrapper;if(null!=t.nested_types){if("object"!=typeof t.nested_types)throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.nested_types: object expected");r.nested_types=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeContainer.fromObject(t.nested_types)}return r},NestedTypeWrapper.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.nested_types=null),null!=t.nested_types&&t.hasOwnProperty("nested_types")&&(o.nested_types=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeContainer.toObject(t.nested_types,r)),o},NestedTypeWrapper.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},NestedTypeWrapper.TypeList=function(){function TypeList(t){if(this.nested_types=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return TypeList.prototype.nested_types=$util.emptyArray,TypeList.create=function create(t){return new TypeList(t)},TypeList.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.nested_types&&t.nested_types.length)for(var o=0;o<t.nested_types.length;++o)$root.syft_proto.execution.v1.NestedTypeWrapper.encode(t.nested_types[o],r.uint32(10).fork()).ldelim();return r},TypeList.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},TypeList.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.execution.v1.NestedTypeWrapper.TypeList;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.nested_types&&i.nested_types.length||(i.nested_types=[]),i.nested_types.push($root.syft_proto.execution.v1.NestedTypeWrapper.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return i},TypeList.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},TypeList.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.nested_types&&t.hasOwnProperty("nested_types")){if(!Array.isArray(t.nested_types))return"nested_types: array expected";for(var r=0;r<t.nested_types.length;++r){var o=$root.syft_proto.execution.v1.NestedTypeWrapper.verify(t.nested_types[r]);if(o)return"nested_types."+o}}return null},TypeList.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.NestedTypeWrapper.TypeList)return t;var r=new $root.syft_proto.execution.v1.NestedTypeWrapper.TypeList;if(t.nested_types){if(!Array.isArray(t.nested_types))throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.TypeList.nested_types: array expected");r.nested_types=[];for(var o=0;o<t.nested_types.length;++o){if("object"!=typeof t.nested_types[o])throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.TypeList.nested_types: object expected");r.nested_types[o]=$root.syft_proto.execution.v1.NestedTypeWrapper.fromObject(t.nested_types[o])}}return r},TypeList.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.nested_types=[]),t.nested_types&&t.nested_types.length){o.nested_types=[];for(var i=0;i<t.nested_types.length;++i)o.nested_types[i]=$root.syft_proto.execution.v1.NestedTypeWrapper.toObject(t.nested_types[i],r)}return o},TypeList.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},TypeList}(),NestedTypeWrapper.TypeTuple=function(){function TypeTuple(t){if(this.nested_types=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return TypeTuple.prototype.nested_types=$util.emptyArray,TypeTuple.create=function create(t){return new TypeTuple(t)},TypeTuple.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.nested_types&&t.nested_types.length)for(var o=0;o<t.nested_types.length;++o)$root.syft_proto.execution.v1.NestedTypeWrapper.encode(t.nested_types[o],r.uint32(10).fork()).ldelim();return r},TypeTuple.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},TypeTuple.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.execution.v1.NestedTypeWrapper.TypeTuple;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.nested_types&&i.nested_types.length||(i.nested_types=[]),i.nested_types.push($root.syft_proto.execution.v1.NestedTypeWrapper.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return i},TypeTuple.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},TypeTuple.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.nested_types&&t.hasOwnProperty("nested_types")){if(!Array.isArray(t.nested_types))return"nested_types: array expected";for(var r=0;r<t.nested_types.length;++r){var o=$root.syft_proto.execution.v1.NestedTypeWrapper.verify(t.nested_types[r]);if(o)return"nested_types."+o}}return null},TypeTuple.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.NestedTypeWrapper.TypeTuple)return t;var r=new $root.syft_proto.execution.v1.NestedTypeWrapper.TypeTuple;if(t.nested_types){if(!Array.isArray(t.nested_types))throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.TypeTuple.nested_types: array expected");r.nested_types=[];for(var o=0;o<t.nested_types.length;++o){if("object"!=typeof t.nested_types[o])throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.TypeTuple.nested_types: object expected");r.nested_types[o]=$root.syft_proto.execution.v1.NestedTypeWrapper.fromObject(t.nested_types[o])}}return r},TypeTuple.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.nested_types=[]),t.nested_types&&t.nested_types.length){o.nested_types=[];for(var i=0;i<t.nested_types.length;++i)o.nested_types[i]=$root.syft_proto.execution.v1.NestedTypeWrapper.toObject(t.nested_types[i],r)}return o},TypeTuple.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},TypeTuple}(),NestedTypeWrapper.TypeMap=function(){function TypeMap(t){if(this.nested_types={},t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return TypeMap.prototype.nested_types=$util.emptyObject,TypeMap.create=function create(t){return new TypeMap(t)},TypeMap.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.nested_types&&t.hasOwnProperty("nested_types"))for(var o=Object.keys(t.nested_types),i=0;i<o.length;++i)r.uint32(10).fork().uint32(10).string(o[i]),$root.syft_proto.execution.v1.NestedTypeWrapper.encode(t.nested_types[o[i]],r.uint32(18).fork()).ldelim().ldelim();return r},TypeMap.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},TypeMap.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o,i=void 0===r?t.len:t.pos+r,a=new $root.syft_proto.execution.v1.NestedTypeWrapper.TypeMap;t.pos<i;){var c=t.uint32();switch(c>>>3){case 1:t.skip().pos++,a.nested_types===$util.emptyObject&&(a.nested_types={}),o=t.string(),t.pos++,a.nested_types[o]=$root.syft_proto.execution.v1.NestedTypeWrapper.decode(t,t.uint32());break;default:t.skipType(7&c)}}return a},TypeMap.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},TypeMap.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.nested_types&&t.hasOwnProperty("nested_types")){if(!$util.isObject(t.nested_types))return"nested_types: object expected";for(var r=Object.keys(t.nested_types),o=0;o<r.length;++o){var i=$root.syft_proto.execution.v1.NestedTypeWrapper.verify(t.nested_types[r[o]]);if(i)return"nested_types."+i}}return null},TypeMap.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.NestedTypeWrapper.TypeMap)return t;var r=new $root.syft_proto.execution.v1.NestedTypeWrapper.TypeMap;if(t.nested_types){if("object"!=typeof t.nested_types)throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.TypeMap.nested_types: object expected");r.nested_types={};for(var o=Object.keys(t.nested_types),i=0;i<o.length;++i){if("object"!=typeof t.nested_types[o[i]])throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.TypeMap.nested_types: object expected");r.nested_types[o[i]]=$root.syft_proto.execution.v1.NestedTypeWrapper.fromObject(t.nested_types[o[i]])}}return r},TypeMap.toObject=function toObject(t,r){r||(r={});var o,i={};if((r.objects||r.defaults)&&(i.nested_types={}),t.nested_types&&(o=Object.keys(t.nested_types)).length){i.nested_types={};for(var a=0;a<o.length;++a)i.nested_types[o[a]]=$root.syft_proto.execution.v1.NestedTypeWrapper.toObject(t.nested_types[o[a]],r)}return i},TypeMap.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},TypeMap}(),NestedTypeWrapper.TypeContainer=function(){function TypeContainer(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return TypeContainer.prototype.nested_type=null,TypeContainer.prototype.nested_type_list=null,TypeContainer.prototype.nested_type_tuple=null,TypeContainer.prototype.nested_type_dict=null,Object.defineProperty(TypeContainer.prototype,"nested_container",{get:$util.oneOfGetter(t=["nested_type","nested_type_list","nested_type_tuple","nested_type_dict"]),set:$util.oneOfSetter(t)}),TypeContainer.create=function create(t){return new TypeContainer(t)},TypeContainer.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.nested_type&&t.hasOwnProperty("nested_type")&&$root.syft_proto.execution.v1.InputTypeDescriptor.encode(t.nested_type,r.uint32(10).fork()).ldelim(),null!=t.nested_type_list&&t.hasOwnProperty("nested_type_list")&&$root.syft_proto.execution.v1.NestedTypeWrapper.TypeList.encode(t.nested_type_list,r.uint32(18).fork()).ldelim(),null!=t.nested_type_tuple&&t.hasOwnProperty("nested_type_tuple")&&$root.syft_proto.execution.v1.NestedTypeWrapper.TypeTuple.encode(t.nested_type_tuple,r.uint32(26).fork()).ldelim(),null!=t.nested_type_dict&&t.hasOwnProperty("nested_type_dict")&&$root.syft_proto.execution.v1.NestedTypeWrapper.TypeMap.encode(t.nested_type_dict,r.uint32(34).fork()).ldelim(),r},TypeContainer.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},TypeContainer.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.execution.v1.NestedTypeWrapper.TypeContainer;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.nested_type=$root.syft_proto.execution.v1.InputTypeDescriptor.decode(t,t.uint32());break;case 2:i.nested_type_list=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeList.decode(t,t.uint32());break;case 3:i.nested_type_tuple=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeTuple.decode(t,t.uint32());break;case 4:i.nested_type_dict=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeMap.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},TypeContainer.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},TypeContainer.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.nested_type&&t.hasOwnProperty("nested_type")&&(r.nested_container=1,o=$root.syft_proto.execution.v1.InputTypeDescriptor.verify(t.nested_type)))return"nested_type."+o;if(null!=t.nested_type_list&&t.hasOwnProperty("nested_type_list")){if(1===r.nested_container)return"nested_container: multiple values";if(r.nested_container=1,o=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeList.verify(t.nested_type_list))return"nested_type_list."+o}if(null!=t.nested_type_tuple&&t.hasOwnProperty("nested_type_tuple")){if(1===r.nested_container)return"nested_container: multiple values";if(r.nested_container=1,o=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeTuple.verify(t.nested_type_tuple))return"nested_type_tuple."+o}if(null!=t.nested_type_dict&&t.hasOwnProperty("nested_type_dict")){if(1===r.nested_container)return"nested_container: multiple values";var o;if(r.nested_container=1,o=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeMap.verify(t.nested_type_dict))return"nested_type_dict."+o}return null},TypeContainer.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.NestedTypeWrapper.TypeContainer)return t;var r=new $root.syft_proto.execution.v1.NestedTypeWrapper.TypeContainer;if(null!=t.nested_type){if("object"!=typeof t.nested_type)throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.TypeContainer.nested_type: object expected");r.nested_type=$root.syft_proto.execution.v1.InputTypeDescriptor.fromObject(t.nested_type)}if(null!=t.nested_type_list){if("object"!=typeof t.nested_type_list)throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.TypeContainer.nested_type_list: object expected");r.nested_type_list=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeList.fromObject(t.nested_type_list)}if(null!=t.nested_type_tuple){if("object"!=typeof t.nested_type_tuple)throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.TypeContainer.nested_type_tuple: object expected");r.nested_type_tuple=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeTuple.fromObject(t.nested_type_tuple)}if(null!=t.nested_type_dict){if("object"!=typeof t.nested_type_dict)throw TypeError(".syft_proto.execution.v1.NestedTypeWrapper.TypeContainer.nested_type_dict: object expected");r.nested_type_dict=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeMap.fromObject(t.nested_type_dict)}return r},TypeContainer.toObject=function toObject(t,r){r||(r={});var o={};return null!=t.nested_type&&t.hasOwnProperty("nested_type")&&(o.nested_type=$root.syft_proto.execution.v1.InputTypeDescriptor.toObject(t.nested_type,r),r.oneofs&&(o.nested_container="nested_type")),null!=t.nested_type_list&&t.hasOwnProperty("nested_type_list")&&(o.nested_type_list=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeList.toObject(t.nested_type_list,r),r.oneofs&&(o.nested_container="nested_type_list")),null!=t.nested_type_tuple&&t.hasOwnProperty("nested_type_tuple")&&(o.nested_type_tuple=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeTuple.toObject(t.nested_type_tuple,r),r.oneofs&&(o.nested_container="nested_type_tuple")),null!=t.nested_type_dict&&t.hasOwnProperty("nested_type_dict")&&(o.nested_type_dict=$root.syft_proto.execution.v1.NestedTypeWrapper.TypeMap.toObject(t.nested_type_dict,r),r.oneofs&&(o.nested_container="nested_type_dict")),o},TypeContainer.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},TypeContainer}(),NestedTypeWrapper}(),v1.Protocol=function(){function Protocol(t){if(this.roles={},this.tags=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return Protocol.prototype.id=null,Protocol.prototype.name="",Protocol.prototype.roles=$util.emptyObject,Protocol.prototype.tags=$util.emptyArray,Protocol.prototype.description="",Protocol.create=function create(t){return new Protocol(t)},Protocol.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.id&&t.hasOwnProperty("id")&&$root.syft_proto.types.syft.v1.Id.encode(t.id,r.uint32(10).fork()).ldelim(),null!=t.name&&t.hasOwnProperty("name")&&r.uint32(18).string(t.name),null!=t.roles&&t.hasOwnProperty("roles"))for(var o=Object.keys(t.roles),i=0;i<o.length;++i)r.uint32(26).fork().uint32(10).string(o[i]),$root.syft_proto.execution.v1.Role.encode(t.roles[o[i]],r.uint32(18).fork()).ldelim().ldelim();if(null!=t.tags&&t.tags.length)for(i=0;i<t.tags.length;++i)r.uint32(34).string(t.tags[i]);return null!=t.description&&t.hasOwnProperty("description")&&r.uint32(42).string(t.description),r},Protocol.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Protocol.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o,i=void 0===r?t.len:t.pos+r,a=new $root.syft_proto.execution.v1.Protocol;t.pos<i;){var c=t.uint32();switch(c>>>3){case 1:a.id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:a.name=t.string();break;case 3:t.skip().pos++,a.roles===$util.emptyObject&&(a.roles={}),o=t.string(),t.pos++,a.roles[o]=$root.syft_proto.execution.v1.Role.decode(t,t.uint32());break;case 4:a.tags&&a.tags.length||(a.tags=[]),a.tags.push(t.string());break;case 5:a.description=t.string();break;default:t.skipType(7&c)}}return a},Protocol.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Protocol.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&(i=$root.syft_proto.types.syft.v1.Id.verify(t.id)))return"id."+i;if(null!=t.name&&t.hasOwnProperty("name")&&!$util.isString(t.name))return"name: string expected";if(null!=t.roles&&t.hasOwnProperty("roles")){if(!$util.isObject(t.roles))return"roles: object expected";for(var r=Object.keys(t.roles),o=0;o<r.length;++o){var i;if(i=$root.syft_proto.execution.v1.Role.verify(t.roles[r[o]]))return"roles."+i}}if(null!=t.tags&&t.hasOwnProperty("tags")){if(!Array.isArray(t.tags))return"tags: array expected";for(o=0;o<t.tags.length;++o)if(!$util.isString(t.tags[o]))return"tags: string[] expected"}return null!=t.description&&t.hasOwnProperty("description")&&!$util.isString(t.description)?"description: string expected":null},Protocol.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.Protocol)return t;var r=new $root.syft_proto.execution.v1.Protocol;if(null!=t.id){if("object"!=typeof t.id)throw TypeError(".syft_proto.execution.v1.Protocol.id: object expected");r.id=$root.syft_proto.types.syft.v1.Id.fromObject(t.id)}if(null!=t.name&&(r.name=String(t.name)),t.roles){if("object"!=typeof t.roles)throw TypeError(".syft_proto.execution.v1.Protocol.roles: object expected");r.roles={};for(var o=Object.keys(t.roles),i=0;i<o.length;++i){if("object"!=typeof t.roles[o[i]])throw TypeError(".syft_proto.execution.v1.Protocol.roles: object expected");r.roles[o[i]]=$root.syft_proto.execution.v1.Role.fromObject(t.roles[o[i]])}}if(t.tags){if(!Array.isArray(t.tags))throw TypeError(".syft_proto.execution.v1.Protocol.tags: array expected");for(r.tags=[],i=0;i<t.tags.length;++i)r.tags[i]=String(t.tags[i])}return null!=t.description&&(r.description=String(t.description)),r},Protocol.toObject=function toObject(t,r){r||(r={});var o,i={};if((r.arrays||r.defaults)&&(i.tags=[]),(r.objects||r.defaults)&&(i.roles={}),r.defaults&&(i.id=null,i.name="",i.description=""),null!=t.id&&t.hasOwnProperty("id")&&(i.id=$root.syft_proto.types.syft.v1.Id.toObject(t.id,r)),null!=t.name&&t.hasOwnProperty("name")&&(i.name=t.name),t.roles&&(o=Object.keys(t.roles)).length){i.roles={};for(var a=0;a<o.length;++a)i.roles[o[a]]=$root.syft_proto.execution.v1.Role.toObject(t.roles[o[a]],r)}if(t.tags&&t.tags.length)for(i.tags=[],a=0;a<t.tags.length;++a)i.tags[a]=t.tags[a];return null!=t.description&&t.hasOwnProperty("description")&&(i.description=t.description),i},Protocol.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Protocol}(),v1.StorageAction=function(){function StorageAction(t){if(this.args=[],this.kwargs={},this.return_ids=[],this.return_placeholder_ids=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return StorageAction.prototype.command="",StorageAction.prototype.target_id=null,StorageAction.prototype.target_pointer=null,StorageAction.prototype.target_placeholder_id=null,StorageAction.prototype.target_tensor=null,StorageAction.prototype.args=$util.emptyArray,StorageAction.prototype.kwargs=$util.emptyObject,StorageAction.prototype.return_ids=$util.emptyArray,StorageAction.prototype.return_placeholder_ids=$util.emptyArray,Object.defineProperty(StorageAction.prototype,"target",{get:$util.oneOfGetter(t=["target_id","target_pointer","target_placeholder_id","target_tensor"]),set:$util.oneOfSetter(t)}),StorageAction.create=function create(t){return new StorageAction(t)},StorageAction.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.command&&t.hasOwnProperty("command")&&r.uint32(10).string(t.command),null!=t.target_pointer&&t.hasOwnProperty("target_pointer")&&$root.syft_proto.generic.pointers.v1.PointerTensor.encode(t.target_pointer,r.uint32(18).fork()).ldelim(),null!=t.target_placeholder_id&&t.hasOwnProperty("target_placeholder_id")&&$root.syft_proto.execution.v1.PlaceholderId.encode(t.target_placeholder_id,r.uint32(26).fork()).ldelim(),null!=t.target_tensor&&t.hasOwnProperty("target_tensor")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.target_tensor,r.uint32(34).fork()).ldelim(),null!=t.args&&t.args.length)for(var o=0;o<t.args.length;++o)$root.syft_proto.types.syft.v1.Arg.encode(t.args[o],r.uint32(42).fork()).ldelim();if(null!=t.kwargs&&t.hasOwnProperty("kwargs")){var i=Object.keys(t.kwargs);for(o=0;o<i.length;++o)r.uint32(50).fork().uint32(10).string(i[o]),$root.syft_proto.types.syft.v1.Arg.encode(t.kwargs[i[o]],r.uint32(18).fork()).ldelim().ldelim()}if(null!=t.return_ids&&t.return_ids.length)for(o=0;o<t.return_ids.length;++o)$root.syft_proto.types.syft.v1.Id.encode(t.return_ids[o],r.uint32(58).fork()).ldelim();if(null!=t.return_placeholder_ids&&t.return_placeholder_ids.length)for(o=0;o<t.return_placeholder_ids.length;++o)$root.syft_proto.execution.v1.PlaceholderId.encode(t.return_placeholder_ids[o],r.uint32(66).fork()).ldelim();return null!=t.target_id&&t.hasOwnProperty("target_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.target_id,r.uint32(74).fork()).ldelim(),r},StorageAction.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},StorageAction.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o,i=void 0===r?t.len:t.pos+r,a=new $root.syft_proto.execution.v1.StorageAction;t.pos<i;){var c=t.uint32();switch(c>>>3){case 1:a.command=t.string();break;case 9:a.target_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:a.target_pointer=$root.syft_proto.generic.pointers.v1.PointerTensor.decode(t,t.uint32());break;case 3:a.target_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.decode(t,t.uint32());break;case 4:a.target_tensor=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 5:a.args&&a.args.length||(a.args=[]),a.args.push($root.syft_proto.types.syft.v1.Arg.decode(t,t.uint32()));break;case 6:t.skip().pos++,a.kwargs===$util.emptyObject&&(a.kwargs={}),o=t.string(),t.pos++,a.kwargs[o]=$root.syft_proto.types.syft.v1.Arg.decode(t,t.uint32());break;case 7:a.return_ids&&a.return_ids.length||(a.return_ids=[]),a.return_ids.push($root.syft_proto.types.syft.v1.Id.decode(t,t.uint32()));break;case 8:a.return_placeholder_ids&&a.return_placeholder_ids.length||(a.return_placeholder_ids=[]),a.return_placeholder_ids.push($root.syft_proto.execution.v1.PlaceholderId.decode(t,t.uint32()));break;default:t.skipType(7&c)}}return a},StorageAction.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},StorageAction.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.command&&t.hasOwnProperty("command")&&!$util.isString(t.command))return"command: string expected";if(null!=t.target_id&&t.hasOwnProperty("target_id")&&(r.target=1,a=$root.syft_proto.types.syft.v1.Id.verify(t.target_id)))return"target_id."+a;if(null!=t.target_pointer&&t.hasOwnProperty("target_pointer")){if(1===r.target)return"target: multiple values";if(r.target=1,a=$root.syft_proto.generic.pointers.v1.PointerTensor.verify(t.target_pointer))return"target_pointer."+a}if(null!=t.target_placeholder_id&&t.hasOwnProperty("target_placeholder_id")){if(1===r.target)return"target: multiple values";if(r.target=1,a=$root.syft_proto.execution.v1.PlaceholderId.verify(t.target_placeholder_id))return"target_placeholder_id."+a}if(null!=t.target_tensor&&t.hasOwnProperty("target_tensor")){if(1===r.target)return"target: multiple values";if(r.target=1,a=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.target_tensor))return"target_tensor."+a}if(null!=t.args&&t.hasOwnProperty("args")){if(!Array.isArray(t.args))return"args: array expected";for(var o=0;o<t.args.length;++o)if(a=$root.syft_proto.types.syft.v1.Arg.verify(t.args[o]))return"args."+a}if(null!=t.kwargs&&t.hasOwnProperty("kwargs")){if(!$util.isObject(t.kwargs))return"kwargs: object expected";var i=Object.keys(t.kwargs);for(o=0;o<i.length;++o)if(a=$root.syft_proto.types.syft.v1.Arg.verify(t.kwargs[i[o]]))return"kwargs."+a}if(null!=t.return_ids&&t.hasOwnProperty("return_ids")){if(!Array.isArray(t.return_ids))return"return_ids: array expected";for(o=0;o<t.return_ids.length;++o)if(a=$root.syft_proto.types.syft.v1.Id.verify(t.return_ids[o]))return"return_ids."+a}if(null!=t.return_placeholder_ids&&t.hasOwnProperty("return_placeholder_ids")){if(!Array.isArray(t.return_placeholder_ids))return"return_placeholder_ids: array expected";for(o=0;o<t.return_placeholder_ids.length;++o){var a;if(a=$root.syft_proto.execution.v1.PlaceholderId.verify(t.return_placeholder_ids[o]))return"return_placeholder_ids."+a}}return null},StorageAction.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.execution.v1.StorageAction)return t;var r=new $root.syft_proto.execution.v1.StorageAction;if(null!=t.command&&(r.command=String(t.command)),null!=t.target_id){if("object"!=typeof t.target_id)throw TypeError(".syft_proto.execution.v1.StorageAction.target_id: object expected");r.target_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.target_id)}if(null!=t.target_pointer){if("object"!=typeof t.target_pointer)throw TypeError(".syft_proto.execution.v1.StorageAction.target_pointer: object expected");r.target_pointer=$root.syft_proto.generic.pointers.v1.PointerTensor.fromObject(t.target_pointer)}if(null!=t.target_placeholder_id){if("object"!=typeof t.target_placeholder_id)throw TypeError(".syft_proto.execution.v1.StorageAction.target_placeholder_id: object expected");r.target_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.fromObject(t.target_placeholder_id)}if(null!=t.target_tensor){if("object"!=typeof t.target_tensor)throw TypeError(".syft_proto.execution.v1.StorageAction.target_tensor: object expected");r.target_tensor=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.target_tensor)}if(t.args){if(!Array.isArray(t.args))throw TypeError(".syft_proto.execution.v1.StorageAction.args: array expected");r.args=[];for(var o=0;o<t.args.length;++o){if("object"!=typeof t.args[o])throw TypeError(".syft_proto.execution.v1.StorageAction.args: object expected");r.args[o]=$root.syft_proto.types.syft.v1.Arg.fromObject(t.args[o])}}if(t.kwargs){if("object"!=typeof t.kwargs)throw TypeError(".syft_proto.execution.v1.StorageAction.kwargs: object expected");r.kwargs={};var i=Object.keys(t.kwargs);for(o=0;o<i.length;++o){if("object"!=typeof t.kwargs[i[o]])throw TypeError(".syft_proto.execution.v1.StorageAction.kwargs: object expected");r.kwargs[i[o]]=$root.syft_proto.types.syft.v1.Arg.fromObject(t.kwargs[i[o]])}}if(t.return_ids){if(!Array.isArray(t.return_ids))throw TypeError(".syft_proto.execution.v1.StorageAction.return_ids: array expected");for(r.return_ids=[],o=0;o<t.return_ids.length;++o){if("object"!=typeof t.return_ids[o])throw TypeError(".syft_proto.execution.v1.StorageAction.return_ids: object expected");r.return_ids[o]=$root.syft_proto.types.syft.v1.Id.fromObject(t.return_ids[o])}}if(t.return_placeholder_ids){if(!Array.isArray(t.return_placeholder_ids))throw TypeError(".syft_proto.execution.v1.StorageAction.return_placeholder_ids: array expected");for(r.return_placeholder_ids=[],o=0;o<t.return_placeholder_ids.length;++o){if("object"!=typeof t.return_placeholder_ids[o])throw TypeError(".syft_proto.execution.v1.StorageAction.return_placeholder_ids: object expected");r.return_placeholder_ids[o]=$root.syft_proto.execution.v1.PlaceholderId.fromObject(t.return_placeholder_ids[o])}}return r},StorageAction.toObject=function toObject(t,r){r||(r={});var o,i={};if((r.arrays||r.defaults)&&(i.args=[],i.return_ids=[],i.return_placeholder_ids=[]),(r.objects||r.defaults)&&(i.kwargs={}),r.defaults&&(i.command=""),null!=t.command&&t.hasOwnProperty("command")&&(i.command=t.command),null!=t.target_pointer&&t.hasOwnProperty("target_pointer")&&(i.target_pointer=$root.syft_proto.generic.pointers.v1.PointerTensor.toObject(t.target_pointer,r),r.oneofs&&(i.target="target_pointer")),null!=t.target_placeholder_id&&t.hasOwnProperty("target_placeholder_id")&&(i.target_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.toObject(t.target_placeholder_id,r),r.oneofs&&(i.target="target_placeholder_id")),null!=t.target_tensor&&t.hasOwnProperty("target_tensor")&&(i.target_tensor=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.target_tensor,r),r.oneofs&&(i.target="target_tensor")),t.args&&t.args.length){i.args=[];for(var a=0;a<t.args.length;++a)i.args[a]=$root.syft_proto.types.syft.v1.Arg.toObject(t.args[a],r)}if(t.kwargs&&(o=Object.keys(t.kwargs)).length)for(i.kwargs={},a=0;a<o.length;++a)i.kwargs[o[a]]=$root.syft_proto.types.syft.v1.Arg.toObject(t.kwargs[o[a]],r);if(t.return_ids&&t.return_ids.length)for(i.return_ids=[],a=0;a<t.return_ids.length;++a)i.return_ids[a]=$root.syft_proto.types.syft.v1.Id.toObject(t.return_ids[a],r);if(t.return_placeholder_ids&&t.return_placeholder_ids.length)for(i.return_placeholder_ids=[],a=0;a<t.return_placeholder_ids.length;++a)i.return_placeholder_ids[a]=$root.syft_proto.execution.v1.PlaceholderId.toObject(t.return_placeholder_ids[a],r);return null!=t.target_id&&t.hasOwnProperty("target_id")&&(i.target_id=$root.syft_proto.types.syft.v1.Id.toObject(t.target_id,r),r.oneofs&&(i.target="target_id")),i},StorageAction.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},StorageAction}(),v1),execution),syft_proto.types=((types={}).syft=((syft={}).v1=function(){var t={};return t.Id=function(){function Id(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return Id.prototype.id_int=$util.Long?$util.Long.fromBits(0,0,!1):0,Id.prototype.id_str="",Object.defineProperty(Id.prototype,"id",{get:$util.oneOfGetter(t=["id_int","id_str"]),set:$util.oneOfSetter(t)}),Id.create=function create(t){return new Id(t)},Id.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.id_int&&t.hasOwnProperty("id_int")&&r.uint32(8).int64(t.id_int),null!=t.id_str&&t.hasOwnProperty("id_str")&&r.uint32(18).string(t.id_str),r},Id.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Id.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.syft.v1.Id;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.id_int=t.int64();break;case 2:i.id_str=t.string();break;default:t.skipType(7&a)}}return i},Id.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Id.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.id_int&&t.hasOwnProperty("id_int")&&(r.id=1,!($util.isInteger(t.id_int)||t.id_int&&$util.isInteger(t.id_int.low)&&$util.isInteger(t.id_int.high))))return"id_int: integer|Long expected";if(null!=t.id_str&&t.hasOwnProperty("id_str")){if(1===r.id)return"id: multiple values";if(r.id=1,!$util.isString(t.id_str))return"id_str: string expected"}return null},Id.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.syft.v1.Id)return t;var r=new $root.syft_proto.types.syft.v1.Id;return null!=t.id_int&&($util.Long?(r.id_int=$util.Long.fromValue(t.id_int)).unsigned=!1:"string"==typeof t.id_int?r.id_int=parseInt(t.id_int,10):"number"==typeof t.id_int?r.id_int=t.id_int:"object"==typeof t.id_int&&(r.id_int=new $util.LongBits(t.id_int.low>>>0,t.id_int.high>>>0).toNumber())),null!=t.id_str&&(r.id_str=String(t.id_str)),r},Id.toObject=function toObject(t,r){r||(r={});var o={};return null!=t.id_int&&t.hasOwnProperty("id_int")&&("number"==typeof t.id_int?o.id_int=r.longs===String?String(t.id_int):t.id_int:o.id_int=r.longs===String?$util.Long.prototype.toString.call(t.id_int):r.longs===Number?new $util.LongBits(t.id_int.low>>>0,t.id_int.high>>>0).toNumber():t.id_int,r.oneofs&&(o.id="id_int")),null!=t.id_str&&t.hasOwnProperty("id_str")&&(o.id_str=t.id_str,r.oneofs&&(o.id="id_str")),o},Id.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Id}(),t.Shape=function(){function Shape(t){if(this.dims=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return Shape.prototype.dims=$util.emptyArray,Shape.create=function create(t){return new Shape(t)},Shape.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.dims&&t.dims.length){r.uint32(10).fork();for(var o=0;o<t.dims.length;++o)r.int32(t.dims[o]);r.ldelim()}return r},Shape.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Shape.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.syft.v1.Shape;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:if(i.dims&&i.dims.length||(i.dims=[]),2==(7&a))for(var c=t.uint32()+t.pos;t.pos<c;)i.dims.push(t.int32());else i.dims.push(t.int32());break;default:t.skipType(7&a)}}return i},Shape.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Shape.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.dims&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var r=0;r<t.dims.length;++r)if(!$util.isInteger(t.dims[r]))return"dims: integer[] expected"}return null},Shape.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.syft.v1.Shape)return t;var r=new $root.syft_proto.types.syft.v1.Shape;if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".syft_proto.types.syft.v1.Shape.dims: array expected");r.dims=[];for(var o=0;o<t.dims.length;++o)r.dims[o]=0|t.dims[o]}return r},Shape.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.dims=[]),t.dims&&t.dims.length){o.dims=[];for(var i=0;i<t.dims.length;++i)o.dims[i]=t.dims[i]}return o},Shape.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Shape}(),t.Arg=function(){function Arg(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return Arg.prototype.arg_bool=!1,Arg.prototype.arg_int=$util.Long?$util.Long.fromBits(0,0,!1):0,Arg.prototype.arg_float=0,Arg.prototype.arg_str="",Arg.prototype.arg_shape=null,Arg.prototype.arg_tensor=null,Arg.prototype.arg_torch_param=null,Arg.prototype.arg_pointer_tensor=null,Arg.prototype.arg_placeholder=null,Arg.prototype.arg_placeholder_id=null,Arg.prototype.arg_list=null,Object.defineProperty(Arg.prototype,"arg",{get:$util.oneOfGetter(t=["arg_bool","arg_int","arg_float","arg_str","arg_shape","arg_tensor","arg_torch_param","arg_pointer_tensor","arg_placeholder","arg_placeholder_id","arg_list"]),set:$util.oneOfSetter(t)}),Arg.create=function create(t){return new Arg(t)},Arg.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.arg_bool&&t.hasOwnProperty("arg_bool")&&r.uint32(8).bool(t.arg_bool),null!=t.arg_int&&t.hasOwnProperty("arg_int")&&r.uint32(16).int64(t.arg_int),null!=t.arg_float&&t.hasOwnProperty("arg_float")&&r.uint32(29).float(t.arg_float),null!=t.arg_str&&t.hasOwnProperty("arg_str")&&r.uint32(34).string(t.arg_str),null!=t.arg_shape&&t.hasOwnProperty("arg_shape")&&$root.syft_proto.types.syft.v1.Shape.encode(t.arg_shape,r.uint32(42).fork()).ldelim(),null!=t.arg_tensor&&t.hasOwnProperty("arg_tensor")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.arg_tensor,r.uint32(50).fork()).ldelim(),null!=t.arg_torch_param&&t.hasOwnProperty("arg_torch_param")&&$root.syft_proto.types.torch.v1.Parameter.encode(t.arg_torch_param,r.uint32(58).fork()).ldelim(),null!=t.arg_pointer_tensor&&t.hasOwnProperty("arg_pointer_tensor")&&$root.syft_proto.generic.pointers.v1.PointerTensor.encode(t.arg_pointer_tensor,r.uint32(66).fork()).ldelim(),null!=t.arg_placeholder&&t.hasOwnProperty("arg_placeholder")&&$root.syft_proto.execution.v1.Placeholder.encode(t.arg_placeholder,r.uint32(74).fork()).ldelim(),null!=t.arg_placeholder_id&&t.hasOwnProperty("arg_placeholder_id")&&$root.syft_proto.execution.v1.PlaceholderId.encode(t.arg_placeholder_id,r.uint32(82).fork()).ldelim(),null!=t.arg_list&&t.hasOwnProperty("arg_list")&&$root.syft_proto.types.syft.v1.ArgList.encode(t.arg_list,r.uint32(90).fork()).ldelim(),r},Arg.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Arg.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.syft.v1.Arg;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.arg_bool=t.bool();break;case 2:i.arg_int=t.int64();break;case 3:i.arg_float=t.float();break;case 4:i.arg_str=t.string();break;case 5:i.arg_shape=$root.syft_proto.types.syft.v1.Shape.decode(t,t.uint32());break;case 6:i.arg_tensor=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 7:i.arg_torch_param=$root.syft_proto.types.torch.v1.Parameter.decode(t,t.uint32());break;case 8:i.arg_pointer_tensor=$root.syft_proto.generic.pointers.v1.PointerTensor.decode(t,t.uint32());break;case 9:i.arg_placeholder=$root.syft_proto.execution.v1.Placeholder.decode(t,t.uint32());break;case 10:i.arg_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.decode(t,t.uint32());break;case 11:i.arg_list=$root.syft_proto.types.syft.v1.ArgList.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},Arg.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Arg.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.arg_bool&&t.hasOwnProperty("arg_bool")&&(r.arg=1,"boolean"!=typeof t.arg_bool))return"arg_bool: boolean expected";if(null!=t.arg_int&&t.hasOwnProperty("arg_int")){if(1===r.arg)return"arg: multiple values";if(r.arg=1,!($util.isInteger(t.arg_int)||t.arg_int&&$util.isInteger(t.arg_int.low)&&$util.isInteger(t.arg_int.high)))return"arg_int: integer|Long expected"}if(null!=t.arg_float&&t.hasOwnProperty("arg_float")){if(1===r.arg)return"arg: multiple values";if(r.arg=1,"number"!=typeof t.arg_float)return"arg_float: number expected"}if(null!=t.arg_str&&t.hasOwnProperty("arg_str")){if(1===r.arg)return"arg: multiple values";if(r.arg=1,!$util.isString(t.arg_str))return"arg_str: string expected"}if(null!=t.arg_shape&&t.hasOwnProperty("arg_shape")){if(1===r.arg)return"arg: multiple values";if(r.arg=1,o=$root.syft_proto.types.syft.v1.Shape.verify(t.arg_shape))return"arg_shape."+o}if(null!=t.arg_tensor&&t.hasOwnProperty("arg_tensor")){if(1===r.arg)return"arg: multiple values";if(r.arg=1,o=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.arg_tensor))return"arg_tensor."+o}if(null!=t.arg_torch_param&&t.hasOwnProperty("arg_torch_param")){if(1===r.arg)return"arg: multiple values";if(r.arg=1,o=$root.syft_proto.types.torch.v1.Parameter.verify(t.arg_torch_param))return"arg_torch_param."+o}if(null!=t.arg_pointer_tensor&&t.hasOwnProperty("arg_pointer_tensor")){if(1===r.arg)return"arg: multiple values";if(r.arg=1,o=$root.syft_proto.generic.pointers.v1.PointerTensor.verify(t.arg_pointer_tensor))return"arg_pointer_tensor."+o}if(null!=t.arg_placeholder&&t.hasOwnProperty("arg_placeholder")){if(1===r.arg)return"arg: multiple values";if(r.arg=1,o=$root.syft_proto.execution.v1.Placeholder.verify(t.arg_placeholder))return"arg_placeholder."+o}if(null!=t.arg_placeholder_id&&t.hasOwnProperty("arg_placeholder_id")){if(1===r.arg)return"arg: multiple values";if(r.arg=1,o=$root.syft_proto.execution.v1.PlaceholderId.verify(t.arg_placeholder_id))return"arg_placeholder_id."+o}if(null!=t.arg_list&&t.hasOwnProperty("arg_list")){if(1===r.arg)return"arg: multiple values";var o;if(r.arg=1,o=$root.syft_proto.types.syft.v1.ArgList.verify(t.arg_list))return"arg_list."+o}return null},Arg.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.syft.v1.Arg)return t;var r=new $root.syft_proto.types.syft.v1.Arg;if(null!=t.arg_bool&&(r.arg_bool=Boolean(t.arg_bool)),null!=t.arg_int&&($util.Long?(r.arg_int=$util.Long.fromValue(t.arg_int)).unsigned=!1:"string"==typeof t.arg_int?r.arg_int=parseInt(t.arg_int,10):"number"==typeof t.arg_int?r.arg_int=t.arg_int:"object"==typeof t.arg_int&&(r.arg_int=new $util.LongBits(t.arg_int.low>>>0,t.arg_int.high>>>0).toNumber())),null!=t.arg_float&&(r.arg_float=Number(t.arg_float)),null!=t.arg_str&&(r.arg_str=String(t.arg_str)),null!=t.arg_shape){if("object"!=typeof t.arg_shape)throw TypeError(".syft_proto.types.syft.v1.Arg.arg_shape: object expected");r.arg_shape=$root.syft_proto.types.syft.v1.Shape.fromObject(t.arg_shape)}if(null!=t.arg_tensor){if("object"!=typeof t.arg_tensor)throw TypeError(".syft_proto.types.syft.v1.Arg.arg_tensor: object expected");r.arg_tensor=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.arg_tensor)}if(null!=t.arg_torch_param){if("object"!=typeof t.arg_torch_param)throw TypeError(".syft_proto.types.syft.v1.Arg.arg_torch_param: object expected");r.arg_torch_param=$root.syft_proto.types.torch.v1.Parameter.fromObject(t.arg_torch_param)}if(null!=t.arg_pointer_tensor){if("object"!=typeof t.arg_pointer_tensor)throw TypeError(".syft_proto.types.syft.v1.Arg.arg_pointer_tensor: object expected");r.arg_pointer_tensor=$root.syft_proto.generic.pointers.v1.PointerTensor.fromObject(t.arg_pointer_tensor)}if(null!=t.arg_placeholder){if("object"!=typeof t.arg_placeholder)throw TypeError(".syft_proto.types.syft.v1.Arg.arg_placeholder: object expected");r.arg_placeholder=$root.syft_proto.execution.v1.Placeholder.fromObject(t.arg_placeholder)}if(null!=t.arg_placeholder_id){if("object"!=typeof t.arg_placeholder_id)throw TypeError(".syft_proto.types.syft.v1.Arg.arg_placeholder_id: object expected");r.arg_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.fromObject(t.arg_placeholder_id)}if(null!=t.arg_list){if("object"!=typeof t.arg_list)throw TypeError(".syft_proto.types.syft.v1.Arg.arg_list: object expected");r.arg_list=$root.syft_proto.types.syft.v1.ArgList.fromObject(t.arg_list)}return r},Arg.toObject=function toObject(t,r){r||(r={});var o={};return null!=t.arg_bool&&t.hasOwnProperty("arg_bool")&&(o.arg_bool=t.arg_bool,r.oneofs&&(o.arg="arg_bool")),null!=t.arg_int&&t.hasOwnProperty("arg_int")&&("number"==typeof t.arg_int?o.arg_int=r.longs===String?String(t.arg_int):t.arg_int:o.arg_int=r.longs===String?$util.Long.prototype.toString.call(t.arg_int):r.longs===Number?new $util.LongBits(t.arg_int.low>>>0,t.arg_int.high>>>0).toNumber():t.arg_int,r.oneofs&&(o.arg="arg_int")),null!=t.arg_float&&t.hasOwnProperty("arg_float")&&(o.arg_float=r.json&&!isFinite(t.arg_float)?String(t.arg_float):t.arg_float,r.oneofs&&(o.arg="arg_float")),null!=t.arg_str&&t.hasOwnProperty("arg_str")&&(o.arg_str=t.arg_str,r.oneofs&&(o.arg="arg_str")),null!=t.arg_shape&&t.hasOwnProperty("arg_shape")&&(o.arg_shape=$root.syft_proto.types.syft.v1.Shape.toObject(t.arg_shape,r),r.oneofs&&(o.arg="arg_shape")),null!=t.arg_tensor&&t.hasOwnProperty("arg_tensor")&&(o.arg_tensor=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.arg_tensor,r),r.oneofs&&(o.arg="arg_tensor")),null!=t.arg_torch_param&&t.hasOwnProperty("arg_torch_param")&&(o.arg_torch_param=$root.syft_proto.types.torch.v1.Parameter.toObject(t.arg_torch_param,r),r.oneofs&&(o.arg="arg_torch_param")),null!=t.arg_pointer_tensor&&t.hasOwnProperty("arg_pointer_tensor")&&(o.arg_pointer_tensor=$root.syft_proto.generic.pointers.v1.PointerTensor.toObject(t.arg_pointer_tensor,r),r.oneofs&&(o.arg="arg_pointer_tensor")),null!=t.arg_placeholder&&t.hasOwnProperty("arg_placeholder")&&(o.arg_placeholder=$root.syft_proto.execution.v1.Placeholder.toObject(t.arg_placeholder,r),r.oneofs&&(o.arg="arg_placeholder")),null!=t.arg_placeholder_id&&t.hasOwnProperty("arg_placeholder_id")&&(o.arg_placeholder_id=$root.syft_proto.execution.v1.PlaceholderId.toObject(t.arg_placeholder_id,r),r.oneofs&&(o.arg="arg_placeholder_id")),null!=t.arg_list&&t.hasOwnProperty("arg_list")&&(o.arg_list=$root.syft_proto.types.syft.v1.ArgList.toObject(t.arg_list,r),r.oneofs&&(o.arg="arg_list")),o},Arg.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Arg}(),t.ArgList=function(){function ArgList(t){if(this.args=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return ArgList.prototype.args=$util.emptyArray,ArgList.create=function create(t){return new ArgList(t)},ArgList.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.args&&t.args.length)for(var o=0;o<t.args.length;++o)$root.syft_proto.types.syft.v1.Arg.encode(t.args[o],r.uint32(10).fork()).ldelim();return r},ArgList.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},ArgList.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.syft.v1.ArgList;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.args&&i.args.length||(i.args=[]),i.args.push($root.syft_proto.types.syft.v1.Arg.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return i},ArgList.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},ArgList.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.args&&t.hasOwnProperty("args")){if(!Array.isArray(t.args))return"args: array expected";for(var r=0;r<t.args.length;++r){var o=$root.syft_proto.types.syft.v1.Arg.verify(t.args[r]);if(o)return"args."+o}}return null},ArgList.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.syft.v1.ArgList)return t;var r=new $root.syft_proto.types.syft.v1.ArgList;if(t.args){if(!Array.isArray(t.args))throw TypeError(".syft_proto.types.syft.v1.ArgList.args: array expected");r.args=[];for(var o=0;o<t.args.length;++o){if("object"!=typeof t.args[o])throw TypeError(".syft_proto.types.syft.v1.ArgList.args: object expected");r.args[o]=$root.syft_proto.types.syft.v1.Arg.fromObject(t.args[o])}}return r},ArgList.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.args=[]),t.args&&t.args.length){o.args=[];for(var i=0;i<t.args.length;++i)o.args[i]=$root.syft_proto.types.syft.v1.Arg.toObject(t.args[i],r)}return o},ArgList.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},ArgList}(),t}(),syft),types.torch=((torch={}).v1=function(){var t={};return t.TorchTensor=function(){function TorchTensor(t){if(this.tags=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t,r,o;return TorchTensor.prototype.id=null,TorchTensor.prototype.contents_data=null,TorchTensor.prototype.contents_bin=$util.newBuffer([]),TorchTensor.prototype.chain=null,TorchTensor.prototype.grad_chain=null,TorchTensor.prototype.tags=$util.emptyArray,TorchTensor.prototype.description="",TorchTensor.prototype.serializer=0,Object.defineProperty(TorchTensor.prototype,"contents",{get:$util.oneOfGetter(t=["contents_data","contents_bin"]),set:$util.oneOfSetter(t)}),TorchTensor.create=function create(t){return new TorchTensor(t)},TorchTensor.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.id&&t.hasOwnProperty("id")&&$root.syft_proto.types.syft.v1.Id.encode(t.id,r.uint32(10).fork()).ldelim(),null!=t.contents_data&&t.hasOwnProperty("contents_data")&&$root.syft_proto.types.torch.v1.TensorData.encode(t.contents_data,r.uint32(18).fork()).ldelim(),null!=t.contents_bin&&t.hasOwnProperty("contents_bin")&&r.uint32(26).bytes(t.contents_bin),null!=t.chain&&t.hasOwnProperty("chain")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.chain,r.uint32(34).fork()).ldelim(),null!=t.grad_chain&&t.hasOwnProperty("grad_chain")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.grad_chain,r.uint32(42).fork()).ldelim(),null!=t.tags&&t.tags.length)for(var o=0;o<t.tags.length;++o)r.uint32(50).string(t.tags[o]);return null!=t.description&&t.hasOwnProperty("description")&&r.uint32(58).string(t.description),null!=t.serializer&&t.hasOwnProperty("serializer")&&r.uint32(64).int32(t.serializer),r},TorchTensor.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},TorchTensor.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.TorchTensor;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:i.contents_data=$root.syft_proto.types.torch.v1.TensorData.decode(t,t.uint32());break;case 3:i.contents_bin=t.bytes();break;case 4:i.chain=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 5:i.grad_chain=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 6:i.tags&&i.tags.length||(i.tags=[]),i.tags.push(t.string());break;case 7:i.description=t.string();break;case 8:i.serializer=t.int32();break;default:t.skipType(7&a)}}return i},TorchTensor.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},TorchTensor.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r,o={};if(null!=t.id&&t.hasOwnProperty("id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.id)))return"id."+r;if(null!=t.contents_data&&t.hasOwnProperty("contents_data")&&(o.contents=1,r=$root.syft_proto.types.torch.v1.TensorData.verify(t.contents_data)))return"contents_data."+r;if(null!=t.contents_bin&&t.hasOwnProperty("contents_bin")){if(1===o.contents)return"contents: multiple values";if(o.contents=1,!(t.contents_bin&&"number"==typeof t.contents_bin.length||$util.isString(t.contents_bin)))return"contents_bin: buffer expected"}if(null!=t.chain&&t.hasOwnProperty("chain")&&(r=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.chain)))return"chain."+r;if(null!=t.grad_chain&&t.hasOwnProperty("grad_chain")&&(r=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.grad_chain)))return"grad_chain."+r;if(null!=t.tags&&t.hasOwnProperty("tags")){if(!Array.isArray(t.tags))return"tags: array expected";for(var i=0;i<t.tags.length;++i)if(!$util.isString(t.tags[i]))return"tags: string[] expected"}if(null!=t.description&&t.hasOwnProperty("description")&&!$util.isString(t.description))return"description: string expected";if(null!=t.serializer&&t.hasOwnProperty("serializer"))switch(t.serializer){default:return"serializer: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null},TorchTensor.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.TorchTensor)return t;var r=new $root.syft_proto.types.torch.v1.TorchTensor;if(null!=t.id){if("object"!=typeof t.id)throw TypeError(".syft_proto.types.torch.v1.TorchTensor.id: object expected");r.id=$root.syft_proto.types.syft.v1.Id.fromObject(t.id)}if(null!=t.contents_data){if("object"!=typeof t.contents_data)throw TypeError(".syft_proto.types.torch.v1.TorchTensor.contents_data: object expected");r.contents_data=$root.syft_proto.types.torch.v1.TensorData.fromObject(t.contents_data)}if(null!=t.contents_bin&&("string"==typeof t.contents_bin?$util.base64.decode(t.contents_bin,r.contents_bin=$util.newBuffer($util.base64.length(t.contents_bin)),0):t.contents_bin.length&&(r.contents_bin=t.contents_bin)),null!=t.chain){if("object"!=typeof t.chain)throw TypeError(".syft_proto.types.torch.v1.TorchTensor.chain: object expected");r.chain=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.chain)}if(null!=t.grad_chain){if("object"!=typeof t.grad_chain)throw TypeError(".syft_proto.types.torch.v1.TorchTensor.grad_chain: object expected");r.grad_chain=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.grad_chain)}if(t.tags){if(!Array.isArray(t.tags))throw TypeError(".syft_proto.types.torch.v1.TorchTensor.tags: array expected");r.tags=[];for(var o=0;o<t.tags.length;++o)r.tags[o]=String(t.tags[o])}switch(null!=t.description&&(r.description=String(t.description)),t.serializer){case"SERIALIZER_UNSPECIFIED":case 0:r.serializer=0;break;case"SERIALIZER_TORCH":case 1:r.serializer=1;break;case"SERIALIZER_NUMPY":case 2:r.serializer=2;break;case"SERIALIZER_TF":case 3:r.serializer=3;break;case"SERIALIZER_ALL":case 4:r.serializer=4}return r},TorchTensor.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.tags=[]),r.defaults&&(o.id=null,o.chain=null,o.grad_chain=null,o.description="",o.serializer=r.enums===String?"SERIALIZER_UNSPECIFIED":0),null!=t.id&&t.hasOwnProperty("id")&&(o.id=$root.syft_proto.types.syft.v1.Id.toObject(t.id,r)),null!=t.contents_data&&t.hasOwnProperty("contents_data")&&(o.contents_data=$root.syft_proto.types.torch.v1.TensorData.toObject(t.contents_data,r),r.oneofs&&(o.contents="contents_data")),null!=t.contents_bin&&t.hasOwnProperty("contents_bin")&&(o.contents_bin=r.bytes===String?$util.base64.encode(t.contents_bin,0,t.contents_bin.length):r.bytes===Array?Array.prototype.slice.call(t.contents_bin):t.contents_bin,r.oneofs&&(o.contents="contents_bin")),null!=t.chain&&t.hasOwnProperty("chain")&&(o.chain=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.chain,r)),null!=t.grad_chain&&t.hasOwnProperty("grad_chain")&&(o.grad_chain=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.grad_chain,r)),t.tags&&t.tags.length){o.tags=[];for(var i=0;i<t.tags.length;++i)o.tags[i]=t.tags[i]}return null!=t.description&&t.hasOwnProperty("description")&&(o.description=t.description),null!=t.serializer&&t.hasOwnProperty("serializer")&&(o.serializer=r.enums===String?$root.syft_proto.types.torch.v1.TorchTensor.Serializer[t.serializer]:t.serializer),o},TorchTensor.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},TorchTensor.Serializer=(r={},(o=Object.create(r))[r[0]="SERIALIZER_UNSPECIFIED"]=0,o[r[1]="SERIALIZER_TORCH"]=1,o[r[2]="SERIALIZER_NUMPY"]=2,o[r[3]="SERIALIZER_TF"]=3,o[r[4]="SERIALIZER_ALL"]=4,o),TorchTensor}(),t.TensorData=function(){function TensorData(t){if(this.contents_uint8=[],this.contents_int8=[],this.contents_int16=[],this.contents_int32=[],this.contents_int64=[],this.contents_float16=[],this.contents_float32=[],this.contents_float64=[],this.contents_bool=[],this.contents_qint8=[],this.contents_quint8=[],this.contents_qint32=[],this.contents_bfloat16=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return TensorData.prototype.shape=null,TensorData.prototype.dtype="",TensorData.prototype.is_quantized=!1,TensorData.prototype.scale=0,TensorData.prototype.zero_point=0,TensorData.prototype.contents_uint8=$util.emptyArray,TensorData.prototype.contents_int8=$util.emptyArray,TensorData.prototype.contents_int16=$util.emptyArray,TensorData.prototype.contents_int32=$util.emptyArray,TensorData.prototype.contents_int64=$util.emptyArray,TensorData.prototype.contents_float16=$util.emptyArray,TensorData.prototype.contents_float32=$util.emptyArray,TensorData.prototype.contents_float64=$util.emptyArray,TensorData.prototype.contents_bool=$util.emptyArray,TensorData.prototype.contents_qint8=$util.emptyArray,TensorData.prototype.contents_quint8=$util.emptyArray,TensorData.prototype.contents_qint32=$util.emptyArray,TensorData.prototype.contents_bfloat16=$util.emptyArray,TensorData.create=function create(t){return new TensorData(t)},TensorData.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.shape&&t.hasOwnProperty("shape")&&$root.syft_proto.types.torch.v1.Size.encode(t.shape,r.uint32(10).fork()).ldelim(),null!=t.dtype&&t.hasOwnProperty("dtype")&&r.uint32(18).string(t.dtype),null!=t.is_quantized&&t.hasOwnProperty("is_quantized")&&r.uint32(24).bool(t.is_quantized),null!=t.scale&&t.hasOwnProperty("scale")&&r.uint32(37).float(t.scale),null!=t.zero_point&&t.hasOwnProperty("zero_point")&&r.uint32(40).int32(t.zero_point),null!=t.contents_uint8&&t.contents_uint8.length){r.uint32(130).fork();for(var o=0;o<t.contents_uint8.length;++o)r.uint32(t.contents_uint8[o]);r.ldelim()}if(null!=t.contents_int8&&t.contents_int8.length){for(r.uint32(138).fork(),o=0;o<t.contents_int8.length;++o)r.int32(t.contents_int8[o]);r.ldelim()}if(null!=t.contents_int16&&t.contents_int16.length){for(r.uint32(146).fork(),o=0;o<t.contents_int16.length;++o)r.int32(t.contents_int16[o]);r.ldelim()}if(null!=t.contents_int32&&t.contents_int32.length){for(r.uint32(154).fork(),o=0;o<t.contents_int32.length;++o)r.int32(t.contents_int32[o]);r.ldelim()}if(null!=t.contents_int64&&t.contents_int64.length){for(r.uint32(162).fork(),o=0;o<t.contents_int64.length;++o)r.int64(t.contents_int64[o]);r.ldelim()}if(null!=t.contents_float16&&t.contents_float16.length){for(r.uint32(170).fork(),o=0;o<t.contents_float16.length;++o)r.float(t.contents_float16[o]);r.ldelim()}if(null!=t.contents_float32&&t.contents_float32.length){for(r.uint32(178).fork(),o=0;o<t.contents_float32.length;++o)r.float(t.contents_float32[o]);r.ldelim()}if(null!=t.contents_float64&&t.contents_float64.length){for(r.uint32(186).fork(),o=0;o<t.contents_float64.length;++o)r.double(t.contents_float64[o]);r.ldelim()}if(null!=t.contents_bool&&t.contents_bool.length){for(r.uint32(194).fork(),o=0;o<t.contents_bool.length;++o)r.bool(t.contents_bool[o]);r.ldelim()}if(null!=t.contents_qint8&&t.contents_qint8.length){for(r.uint32(202).fork(),o=0;o<t.contents_qint8.length;++o)r.sint32(t.contents_qint8[o]);r.ldelim()}if(null!=t.contents_quint8&&t.contents_quint8.length){for(r.uint32(210).fork(),o=0;o<t.contents_quint8.length;++o)r.uint32(t.contents_quint8[o]);r.ldelim()}if(null!=t.contents_qint32&&t.contents_qint32.length){for(r.uint32(218).fork(),o=0;o<t.contents_qint32.length;++o)r.sint32(t.contents_qint32[o]);r.ldelim()}if(null!=t.contents_bfloat16&&t.contents_bfloat16.length){for(r.uint32(226).fork(),o=0;o<t.contents_bfloat16.length;++o)r.float(t.contents_bfloat16[o]);r.ldelim()}return r},TensorData.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},TensorData.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.TensorData;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.shape=$root.syft_proto.types.torch.v1.Size.decode(t,t.uint32());break;case 2:i.dtype=t.string();break;case 3:i.is_quantized=t.bool();break;case 4:i.scale=t.float();break;case 5:i.zero_point=t.int32();break;case 16:if(i.contents_uint8&&i.contents_uint8.length||(i.contents_uint8=[]),2==(7&a))for(var c=t.uint32()+t.pos;t.pos<c;)i.contents_uint8.push(t.uint32());else i.contents_uint8.push(t.uint32());break;case 17:if(i.contents_int8&&i.contents_int8.length||(i.contents_int8=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_int8.push(t.int32());else i.contents_int8.push(t.int32());break;case 18:if(i.contents_int16&&i.contents_int16.length||(i.contents_int16=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_int16.push(t.int32());else i.contents_int16.push(t.int32());break;case 19:if(i.contents_int32&&i.contents_int32.length||(i.contents_int32=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_int32.push(t.int32());else i.contents_int32.push(t.int32());break;case 20:if(i.contents_int64&&i.contents_int64.length||(i.contents_int64=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_int64.push(t.int64());else i.contents_int64.push(t.int64());break;case 21:if(i.contents_float16&&i.contents_float16.length||(i.contents_float16=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_float16.push(t.float());else i.contents_float16.push(t.float());break;case 22:if(i.contents_float32&&i.contents_float32.length||(i.contents_float32=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_float32.push(t.float());else i.contents_float32.push(t.float());break;case 23:if(i.contents_float64&&i.contents_float64.length||(i.contents_float64=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_float64.push(t.double());else i.contents_float64.push(t.double());break;case 24:if(i.contents_bool&&i.contents_bool.length||(i.contents_bool=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_bool.push(t.bool());else i.contents_bool.push(t.bool());break;case 25:if(i.contents_qint8&&i.contents_qint8.length||(i.contents_qint8=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_qint8.push(t.sint32());else i.contents_qint8.push(t.sint32());break;case 26:if(i.contents_quint8&&i.contents_quint8.length||(i.contents_quint8=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_quint8.push(t.uint32());else i.contents_quint8.push(t.uint32());break;case 27:if(i.contents_qint32&&i.contents_qint32.length||(i.contents_qint32=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_qint32.push(t.sint32());else i.contents_qint32.push(t.sint32());break;case 28:if(i.contents_bfloat16&&i.contents_bfloat16.length||(i.contents_bfloat16=[]),2==(7&a))for(c=t.uint32()+t.pos;t.pos<c;)i.contents_bfloat16.push(t.float());else i.contents_bfloat16.push(t.float());break;default:t.skipType(7&a)}}return i},TensorData.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},TensorData.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.shape&&t.hasOwnProperty("shape")){var r=$root.syft_proto.types.torch.v1.Size.verify(t.shape);if(r)return"shape."+r}if(null!=t.dtype&&t.hasOwnProperty("dtype")&&!$util.isString(t.dtype))return"dtype: string expected";if(null!=t.is_quantized&&t.hasOwnProperty("is_quantized")&&"boolean"!=typeof t.is_quantized)return"is_quantized: boolean expected";if(null!=t.scale&&t.hasOwnProperty("scale")&&"number"!=typeof t.scale)return"scale: number expected";if(null!=t.zero_point&&t.hasOwnProperty("zero_point")&&!$util.isInteger(t.zero_point))return"zero_point: integer expected";if(null!=t.contents_uint8&&t.hasOwnProperty("contents_uint8")){if(!Array.isArray(t.contents_uint8))return"contents_uint8: array expected";for(var o=0;o<t.contents_uint8.length;++o)if(!$util.isInteger(t.contents_uint8[o]))return"contents_uint8: integer[] expected"}if(null!=t.contents_int8&&t.hasOwnProperty("contents_int8")){if(!Array.isArray(t.contents_int8))return"contents_int8: array expected";for(o=0;o<t.contents_int8.length;++o)if(!$util.isInteger(t.contents_int8[o]))return"contents_int8: integer[] expected"}if(null!=t.contents_int16&&t.hasOwnProperty("contents_int16")){if(!Array.isArray(t.contents_int16))return"contents_int16: array expected";for(o=0;o<t.contents_int16.length;++o)if(!$util.isInteger(t.contents_int16[o]))return"contents_int16: integer[] expected"}if(null!=t.contents_int32&&t.hasOwnProperty("contents_int32")){if(!Array.isArray(t.contents_int32))return"contents_int32: array expected";for(o=0;o<t.contents_int32.length;++o)if(!$util.isInteger(t.contents_int32[o]))return"contents_int32: integer[] expected"}if(null!=t.contents_int64&&t.hasOwnProperty("contents_int64")){if(!Array.isArray(t.contents_int64))return"contents_int64: array expected";for(o=0;o<t.contents_int64.length;++o)if(!($util.isInteger(t.contents_int64[o])||t.contents_int64[o]&&$util.isInteger(t.contents_int64[o].low)&&$util.isInteger(t.contents_int64[o].high)))return"contents_int64: integer|Long[] expected"}if(null!=t.contents_float16&&t.hasOwnProperty("contents_float16")){if(!Array.isArray(t.contents_float16))return"contents_float16: array expected";for(o=0;o<t.contents_float16.length;++o)if("number"!=typeof t.contents_float16[o])return"contents_float16: number[] expected"}if(null!=t.contents_float32&&t.hasOwnProperty("contents_float32")){if(!Array.isArray(t.contents_float32))return"contents_float32: array expected";for(o=0;o<t.contents_float32.length;++o)if("number"!=typeof t.contents_float32[o])return"contents_float32: number[] expected"}if(null!=t.contents_float64&&t.hasOwnProperty("contents_float64")){if(!Array.isArray(t.contents_float64))return"contents_float64: array expected";for(o=0;o<t.contents_float64.length;++o)if("number"!=typeof t.contents_float64[o])return"contents_float64: number[] expected"}if(null!=t.contents_bool&&t.hasOwnProperty("contents_bool")){if(!Array.isArray(t.contents_bool))return"contents_bool: array expected";for(o=0;o<t.contents_bool.length;++o)if("boolean"!=typeof t.contents_bool[o])return"contents_bool: boolean[] expected"}if(null!=t.contents_qint8&&t.hasOwnProperty("contents_qint8")){if(!Array.isArray(t.contents_qint8))return"contents_qint8: array expected";for(o=0;o<t.contents_qint8.length;++o)if(!$util.isInteger(t.contents_qint8[o]))return"contents_qint8: integer[] expected"}if(null!=t.contents_quint8&&t.hasOwnProperty("contents_quint8")){if(!Array.isArray(t.contents_quint8))return"contents_quint8: array expected";for(o=0;o<t.contents_quint8.length;++o)if(!$util.isInteger(t.contents_quint8[o]))return"contents_quint8: integer[] expected"}if(null!=t.contents_qint32&&t.hasOwnProperty("contents_qint32")){if(!Array.isArray(t.contents_qint32))return"contents_qint32: array expected";for(o=0;o<t.contents_qint32.length;++o)if(!$util.isInteger(t.contents_qint32[o]))return"contents_qint32: integer[] expected"}if(null!=t.contents_bfloat16&&t.hasOwnProperty("contents_bfloat16")){if(!Array.isArray(t.contents_bfloat16))return"contents_bfloat16: array expected";for(o=0;o<t.contents_bfloat16.length;++o)if("number"!=typeof t.contents_bfloat16[o])return"contents_bfloat16: number[] expected"}return null},TensorData.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.TensorData)return t;var r=new $root.syft_proto.types.torch.v1.TensorData;if(null!=t.shape){if("object"!=typeof t.shape)throw TypeError(".syft_proto.types.torch.v1.TensorData.shape: object expected");r.shape=$root.syft_proto.types.torch.v1.Size.fromObject(t.shape)}if(null!=t.dtype&&(r.dtype=String(t.dtype)),null!=t.is_quantized&&(r.is_quantized=Boolean(t.is_quantized)),null!=t.scale&&(r.scale=Number(t.scale)),null!=t.zero_point&&(r.zero_point=0|t.zero_point),t.contents_uint8){if(!Array.isArray(t.contents_uint8))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_uint8: array expected");r.contents_uint8=[];for(var o=0;o<t.contents_uint8.length;++o)r.contents_uint8[o]=t.contents_uint8[o]>>>0}if(t.contents_int8){if(!Array.isArray(t.contents_int8))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_int8: array expected");for(r.contents_int8=[],o=0;o<t.contents_int8.length;++o)r.contents_int8[o]=0|t.contents_int8[o]}if(t.contents_int16){if(!Array.isArray(t.contents_int16))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_int16: array expected");for(r.contents_int16=[],o=0;o<t.contents_int16.length;++o)r.contents_int16[o]=0|t.contents_int16[o]}if(t.contents_int32){if(!Array.isArray(t.contents_int32))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_int32: array expected");for(r.contents_int32=[],o=0;o<t.contents_int32.length;++o)r.contents_int32[o]=0|t.contents_int32[o]}if(t.contents_int64){if(!Array.isArray(t.contents_int64))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_int64: array expected");for(r.contents_int64=[],o=0;o<t.contents_int64.length;++o)$util.Long?(r.contents_int64[o]=$util.Long.fromValue(t.contents_int64[o])).unsigned=!1:"string"==typeof t.contents_int64[o]?r.contents_int64[o]=parseInt(t.contents_int64[o],10):"number"==typeof t.contents_int64[o]?r.contents_int64[o]=t.contents_int64[o]:"object"==typeof t.contents_int64[o]&&(r.contents_int64[o]=new $util.LongBits(t.contents_int64[o].low>>>0,t.contents_int64[o].high>>>0).toNumber())}if(t.contents_float16){if(!Array.isArray(t.contents_float16))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_float16: array expected");for(r.contents_float16=[],o=0;o<t.contents_float16.length;++o)r.contents_float16[o]=Number(t.contents_float16[o])}if(t.contents_float32){if(!Array.isArray(t.contents_float32))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_float32: array expected");for(r.contents_float32=[],o=0;o<t.contents_float32.length;++o)r.contents_float32[o]=Number(t.contents_float32[o])}if(t.contents_float64){if(!Array.isArray(t.contents_float64))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_float64: array expected");for(r.contents_float64=[],o=0;o<t.contents_float64.length;++o)r.contents_float64[o]=Number(t.contents_float64[o])}if(t.contents_bool){if(!Array.isArray(t.contents_bool))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_bool: array expected");for(r.contents_bool=[],o=0;o<t.contents_bool.length;++o)r.contents_bool[o]=Boolean(t.contents_bool[o])}if(t.contents_qint8){if(!Array.isArray(t.contents_qint8))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_qint8: array expected");for(r.contents_qint8=[],o=0;o<t.contents_qint8.length;++o)r.contents_qint8[o]=0|t.contents_qint8[o]}if(t.contents_quint8){if(!Array.isArray(t.contents_quint8))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_quint8: array expected");for(r.contents_quint8=[],o=0;o<t.contents_quint8.length;++o)r.contents_quint8[o]=t.contents_quint8[o]>>>0}if(t.contents_qint32){if(!Array.isArray(t.contents_qint32))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_qint32: array expected");for(r.contents_qint32=[],o=0;o<t.contents_qint32.length;++o)r.contents_qint32[o]=0|t.contents_qint32[o]}if(t.contents_bfloat16){if(!Array.isArray(t.contents_bfloat16))throw TypeError(".syft_proto.types.torch.v1.TensorData.contents_bfloat16: array expected");for(r.contents_bfloat16=[],o=0;o<t.contents_bfloat16.length;++o)r.contents_bfloat16[o]=Number(t.contents_bfloat16[o])}return r},TensorData.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.contents_uint8=[],o.contents_int8=[],o.contents_int16=[],o.contents_int32=[],o.contents_int64=[],o.contents_float16=[],o.contents_float32=[],o.contents_float64=[],o.contents_bool=[],o.contents_qint8=[],o.contents_quint8=[],o.contents_qint32=[],o.contents_bfloat16=[]),r.defaults&&(o.shape=null,o.dtype="",o.is_quantized=!1,o.scale=0,o.zero_point=0),null!=t.shape&&t.hasOwnProperty("shape")&&(o.shape=$root.syft_proto.types.torch.v1.Size.toObject(t.shape,r)),null!=t.dtype&&t.hasOwnProperty("dtype")&&(o.dtype=t.dtype),null!=t.is_quantized&&t.hasOwnProperty("is_quantized")&&(o.is_quantized=t.is_quantized),null!=t.scale&&t.hasOwnProperty("scale")&&(o.scale=r.json&&!isFinite(t.scale)?String(t.scale):t.scale),null!=t.zero_point&&t.hasOwnProperty("zero_point")&&(o.zero_point=t.zero_point),t.contents_uint8&&t.contents_uint8.length){o.contents_uint8=[];for(var i=0;i<t.contents_uint8.length;++i)o.contents_uint8[i]=t.contents_uint8[i]}if(t.contents_int8&&t.contents_int8.length)for(o.contents_int8=[],i=0;i<t.contents_int8.length;++i)o.contents_int8[i]=t.contents_int8[i];if(t.contents_int16&&t.contents_int16.length)for(o.contents_int16=[],i=0;i<t.contents_int16.length;++i)o.contents_int16[i]=t.contents_int16[i];if(t.contents_int32&&t.contents_int32.length)for(o.contents_int32=[],i=0;i<t.contents_int32.length;++i)o.contents_int32[i]=t.contents_int32[i];if(t.contents_int64&&t.contents_int64.length)for(o.contents_int64=[],i=0;i<t.contents_int64.length;++i)"number"==typeof t.contents_int64[i]?o.contents_int64[i]=r.longs===String?String(t.contents_int64[i]):t.contents_int64[i]:o.contents_int64[i]=r.longs===String?$util.Long.prototype.toString.call(t.contents_int64[i]):r.longs===Number?new $util.LongBits(t.contents_int64[i].low>>>0,t.contents_int64[i].high>>>0).toNumber():t.contents_int64[i];if(t.contents_float16&&t.contents_float16.length)for(o.contents_float16=[],i=0;i<t.contents_float16.length;++i)o.contents_float16[i]=r.json&&!isFinite(t.contents_float16[i])?String(t.contents_float16[i]):t.contents_float16[i];if(t.contents_float32&&t.contents_float32.length)for(o.contents_float32=[],i=0;i<t.contents_float32.length;++i)o.contents_float32[i]=r.json&&!isFinite(t.contents_float32[i])?String(t.contents_float32[i]):t.contents_float32[i];if(t.contents_float64&&t.contents_float64.length)for(o.contents_float64=[],i=0;i<t.contents_float64.length;++i)o.contents_float64[i]=r.json&&!isFinite(t.contents_float64[i])?String(t.contents_float64[i]):t.contents_float64[i];if(t.contents_bool&&t.contents_bool.length)for(o.contents_bool=[],i=0;i<t.contents_bool.length;++i)o.contents_bool[i]=t.contents_bool[i];if(t.contents_qint8&&t.contents_qint8.length)for(o.contents_qint8=[],i=0;i<t.contents_qint8.length;++i)o.contents_qint8[i]=t.contents_qint8[i];if(t.contents_quint8&&t.contents_quint8.length)for(o.contents_quint8=[],i=0;i<t.contents_quint8.length;++i)o.contents_quint8[i]=t.contents_quint8[i];if(t.contents_qint32&&t.contents_qint32.length)for(o.contents_qint32=[],i=0;i<t.contents_qint32.length;++i)o.contents_qint32[i]=t.contents_qint32[i];if(t.contents_bfloat16&&t.contents_bfloat16.length)for(o.contents_bfloat16=[],i=0;i<t.contents_bfloat16.length;++i)o.contents_bfloat16[i]=r.json&&!isFinite(t.contents_bfloat16[i])?String(t.contents_bfloat16[i]):t.contents_bfloat16[i];return o},TensorData.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},TensorData}(),t.Size=function(){function Size(t){if(this.dims=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return Size.prototype.dims=$util.emptyArray,Size.create=function create(t){return new Size(t)},Size.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.dims&&t.dims.length){r.uint32(10).fork();for(var o=0;o<t.dims.length;++o)r.int32(t.dims[o]);r.ldelim()}return r},Size.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Size.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.Size;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:if(i.dims&&i.dims.length||(i.dims=[]),2==(7&a))for(var c=t.uint32()+t.pos;t.pos<c;)i.dims.push(t.int32());else i.dims.push(t.int32());break;default:t.skipType(7&a)}}return i},Size.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Size.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.dims&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var r=0;r<t.dims.length;++r)if(!$util.isInteger(t.dims[r]))return"dims: integer[] expected"}return null},Size.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.Size)return t;var r=new $root.syft_proto.types.torch.v1.Size;if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".syft_proto.types.torch.v1.Size.dims: array expected");r.dims=[];for(var o=0;o<t.dims.length;++o)r.dims[o]=0|t.dims[o]}return r},Size.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.dims=[]),t.dims&&t.dims.length){o.dims=[];for(var i=0;i<t.dims.length;++i)o.dims[i]=t.dims[i]}return o},Size.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Size}(),t.Parameter=function(){function Parameter(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return Parameter.prototype.id=null,Parameter.prototype.tensor=null,Parameter.prototype.requires_grad=!1,Parameter.prototype.grad=null,Parameter.create=function create(t){return new Parameter(t)},Parameter.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.id&&t.hasOwnProperty("id")&&$root.syft_proto.types.syft.v1.Id.encode(t.id,r.uint32(10).fork()).ldelim(),null!=t.tensor&&t.hasOwnProperty("tensor")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.tensor,r.uint32(18).fork()).ldelim(),null!=t.requires_grad&&t.hasOwnProperty("requires_grad")&&r.uint32(24).bool(t.requires_grad),null!=t.grad&&t.hasOwnProperty("grad")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.grad,r.uint32(34).fork()).ldelim(),r},Parameter.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Parameter.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.Parameter;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:i.tensor=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 3:i.requires_grad=t.bool();break;case 4:i.grad=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},Parameter.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Parameter.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.id&&t.hasOwnProperty("id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.id))?"id."+r:null!=t.tensor&&t.hasOwnProperty("tensor")&&(r=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.tensor))?"tensor."+r:null!=t.requires_grad&&t.hasOwnProperty("requires_grad")&&"boolean"!=typeof t.requires_grad?"requires_grad: boolean expected":null!=t.grad&&t.hasOwnProperty("grad")&&(r=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.grad))?"grad."+r:null;var r},Parameter.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.Parameter)return t;var r=new $root.syft_proto.types.torch.v1.Parameter;if(null!=t.id){if("object"!=typeof t.id)throw TypeError(".syft_proto.types.torch.v1.Parameter.id: object expected");r.id=$root.syft_proto.types.syft.v1.Id.fromObject(t.id)}if(null!=t.tensor){if("object"!=typeof t.tensor)throw TypeError(".syft_proto.types.torch.v1.Parameter.tensor: object expected");r.tensor=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.tensor)}if(null!=t.requires_grad&&(r.requires_grad=Boolean(t.requires_grad)),null!=t.grad){if("object"!=typeof t.grad)throw TypeError(".syft_proto.types.torch.v1.Parameter.grad: object expected");r.grad=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.grad)}return r},Parameter.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.id=null,o.tensor=null,o.requires_grad=!1,o.grad=null),null!=t.id&&t.hasOwnProperty("id")&&(o.id=$root.syft_proto.types.syft.v1.Id.toObject(t.id,r)),null!=t.tensor&&t.hasOwnProperty("tensor")&&(o.tensor=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.tensor,r)),null!=t.requires_grad&&t.hasOwnProperty("requires_grad")&&(o.requires_grad=t.requires_grad),null!=t.grad&&t.hasOwnProperty("grad")&&(o.grad=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.grad,r)),o},Parameter.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Parameter}(),t.CFunction=function(){function CFunction(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return CFunction.prototype.obj=$util.newBuffer([]),CFunction.create=function create(t){return new CFunction(t)},CFunction.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.obj&&t.hasOwnProperty("obj")&&r.uint32(10).bytes(t.obj),r},CFunction.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},CFunction.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.CFunction;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.obj=t.bytes();break;default:t.skipType(7&a)}}return i},CFunction.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},CFunction.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.obj&&t.hasOwnProperty("obj")&&!(t.obj&&"number"==typeof t.obj.length||$util.isString(t.obj))?"obj: buffer expected":null},CFunction.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.CFunction)return t;var r=new $root.syft_proto.types.torch.v1.CFunction;return null!=t.obj&&("string"==typeof t.obj?$util.base64.decode(t.obj,r.obj=$util.newBuffer($util.base64.length(t.obj)),0):t.obj.length&&(r.obj=t.obj)),r},CFunction.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(r.bytes===String?o.obj="":(o.obj=[],r.bytes!==Array&&(o.obj=$util.newBuffer(o.obj)))),null!=t.obj&&t.hasOwnProperty("obj")&&(o.obj=r.bytes===String?$util.base64.encode(t.obj,0,t.obj.length):r.bytes===Array?Array.prototype.slice.call(t.obj):t.obj),o},CFunction.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},CFunction}(),t.Device=function(){function Device(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return Device.prototype.type="",Device.create=function create(t){return new Device(t)},Device.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.type&&t.hasOwnProperty("type")&&r.uint32(10).string(t.type),r},Device.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Device.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.Device;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.type=t.string();break;default:t.skipType(7&a)}}return i},Device.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Device.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.type&&t.hasOwnProperty("type")&&!$util.isString(t.type)?"type: string expected":null},Device.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.Device)return t;var r=new $root.syft_proto.types.torch.v1.Device;return null!=t.type&&(r.type=String(t.type)),r},Device.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.type=""),null!=t.type&&t.hasOwnProperty("type")&&(o.type=t.type),o},Device.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Device}(),t.TorchDType=function(){function TorchDType(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return TorchDType.prototype.torch_type="",TorchDType.create=function create(t){return new TorchDType(t)},TorchDType.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.torch_type&&t.hasOwnProperty("torch_type")&&r.uint32(10).string(t.torch_type),r},TorchDType.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},TorchDType.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.TorchDType;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.torch_type=t.string();break;default:t.skipType(7&a)}}return i},TorchDType.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},TorchDType.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.torch_type&&t.hasOwnProperty("torch_type")&&!$util.isString(t.torch_type)?"torch_type: string expected":null},TorchDType.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.TorchDType)return t;var r=new $root.syft_proto.types.torch.v1.TorchDType;return null!=t.torch_type&&(r.torch_type=String(t.torch_type)),r},TorchDType.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.torch_type=""),null!=t.torch_type&&t.hasOwnProperty("torch_type")&&(o.torch_type=t.torch_type),o},TorchDType.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},TorchDType}(),t.MemoryFormat=function(){function MemoryFormat(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return MemoryFormat.prototype.memory_format_type="",MemoryFormat.create=function create(t){return new MemoryFormat(t)},MemoryFormat.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.memory_format_type&&t.hasOwnProperty("memory_format_type")&&r.uint32(10).string(t.memory_format_type),r},MemoryFormat.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},MemoryFormat.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.MemoryFormat;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.memory_format_type=t.string();break;default:t.skipType(7&a)}}return i},MemoryFormat.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},MemoryFormat.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.memory_format_type&&t.hasOwnProperty("memory_format_type")&&!$util.isString(t.memory_format_type)?"memory_format_type: string expected":null},MemoryFormat.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.MemoryFormat)return t;var r=new $root.syft_proto.types.torch.v1.MemoryFormat;return null!=t.memory_format_type&&(r.memory_format_type=String(t.memory_format_type)),r},MemoryFormat.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.memory_format_type=""),null!=t.memory_format_type&&t.hasOwnProperty("memory_format_type")&&(o.memory_format_type=t.memory_format_type),o},MemoryFormat.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},MemoryFormat}(),t.ScriptFunction=function(){function ScriptFunction(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return ScriptFunction.prototype.obj=$util.newBuffer([]),ScriptFunction.create=function create(t){return new ScriptFunction(t)},ScriptFunction.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.obj&&t.hasOwnProperty("obj")&&r.uint32(10).bytes(t.obj),r},ScriptFunction.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},ScriptFunction.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.ScriptFunction;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.obj=t.bytes();break;default:t.skipType(7&a)}}return i},ScriptFunction.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},ScriptFunction.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.obj&&t.hasOwnProperty("obj")&&!(t.obj&&"number"==typeof t.obj.length||$util.isString(t.obj))?"obj: buffer expected":null},ScriptFunction.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.ScriptFunction)return t;var r=new $root.syft_proto.types.torch.v1.ScriptFunction;return null!=t.obj&&("string"==typeof t.obj?$util.base64.decode(t.obj,r.obj=$util.newBuffer($util.base64.length(t.obj)),0):t.obj.length&&(r.obj=t.obj)),r},ScriptFunction.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(r.bytes===String?o.obj="":(o.obj=[],r.bytes!==Array&&(o.obj=$util.newBuffer(o.obj)))),null!=t.obj&&t.hasOwnProperty("obj")&&(o.obj=r.bytes===String?$util.base64.encode(t.obj,0,t.obj.length):r.bytes===Array?Array.prototype.slice.call(t.obj):t.obj),o},ScriptFunction.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},ScriptFunction}(),t.ScriptModule=function(){function ScriptModule(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return ScriptModule.prototype.obj=$util.newBuffer([]),ScriptModule.create=function create(t){return new ScriptModule(t)},ScriptModule.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.obj&&t.hasOwnProperty("obj")&&r.uint32(10).bytes(t.obj),r},ScriptModule.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},ScriptModule.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.ScriptModule;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.obj=t.bytes();break;default:t.skipType(7&a)}}return i},ScriptModule.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},ScriptModule.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.obj&&t.hasOwnProperty("obj")&&!(t.obj&&"number"==typeof t.obj.length||$util.isString(t.obj))?"obj: buffer expected":null},ScriptModule.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.ScriptModule)return t;var r=new $root.syft_proto.types.torch.v1.ScriptModule;return null!=t.obj&&("string"==typeof t.obj?$util.base64.decode(t.obj,r.obj=$util.newBuffer($util.base64.length(t.obj)),0):t.obj.length&&(r.obj=t.obj)),r},ScriptModule.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(r.bytes===String?o.obj="":(o.obj=[],r.bytes!==Array&&(o.obj=$util.newBuffer(o.obj)))),null!=t.obj&&t.hasOwnProperty("obj")&&(o.obj=r.bytes===String?$util.base64.encode(t.obj,0,t.obj.length):r.bytes===Array?Array.prototype.slice.call(t.obj):t.obj),o},ScriptModule.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},ScriptModule}(),t.TracedModule=function(){function TracedModule(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return TracedModule.prototype.obj=$util.newBuffer([]),TracedModule.create=function create(t){return new TracedModule(t)},TracedModule.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.obj&&t.hasOwnProperty("obj")&&r.uint32(10).bytes(t.obj),r},TracedModule.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},TracedModule.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.types.torch.v1.TracedModule;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.obj=t.bytes();break;default:t.skipType(7&a)}}return i},TracedModule.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},TracedModule.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.obj&&t.hasOwnProperty("obj")&&!(t.obj&&"number"==typeof t.obj.length||$util.isString(t.obj))?"obj: buffer expected":null},TracedModule.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.types.torch.v1.TracedModule)return t;var r=new $root.syft_proto.types.torch.v1.TracedModule;return null!=t.obj&&("string"==typeof t.obj?$util.base64.decode(t.obj,r.obj=$util.newBuffer($util.base64.length(t.obj)),0):t.obj.length&&(r.obj=t.obj)),r},TracedModule.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(r.bytes===String?o.obj="":(o.obj=[],r.bytes!==Array&&(o.obj=$util.newBuffer(o.obj)))),null!=t.obj&&t.hasOwnProperty("obj")&&(o.obj=r.bytes===String?$util.base64.encode(t.obj,0,t.obj.length):r.bytes===Array?Array.prototype.slice.call(t.obj):t.obj),o},TracedModule.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},TracedModule}(),t}(),torch),types),syft_proto.generic=((generic={}).pointers=((pointers={}).v1=function(){var t={};return t.PointerTensor=function(){function PointerTensor(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return PointerTensor.prototype.object_id=null,PointerTensor.prototype.location_id=null,PointerTensor.prototype.object_id_at_location=null,PointerTensor.prototype.shape=null,PointerTensor.prototype.point_to_attr="",PointerTensor.prototype.garbage_collect_data=!1,PointerTensor.create=function create(t){return new PointerTensor(t)},PointerTensor.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.object_id&&t.hasOwnProperty("object_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id,r.uint32(10).fork()).ldelim(),null!=t.location_id&&t.hasOwnProperty("location_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.location_id,r.uint32(18).fork()).ldelim(),null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id_at_location,r.uint32(26).fork()).ldelim(),null!=t.shape&&t.hasOwnProperty("shape")&&$root.syft_proto.types.syft.v1.Shape.encode(t.shape,r.uint32(34).fork()).ldelim(),null!=t.point_to_attr&&t.hasOwnProperty("point_to_attr")&&r.uint32(42).string(t.point_to_attr),null!=t.garbage_collect_data&&t.hasOwnProperty("garbage_collect_data")&&r.uint32(48).bool(t.garbage_collect_data),r},PointerTensor.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},PointerTensor.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.generic.pointers.v1.PointerTensor;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.object_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:i.location_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 3:i.object_id_at_location=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 4:i.shape=$root.syft_proto.types.syft.v1.Shape.decode(t,t.uint32());break;case 5:i.point_to_attr=t.string();break;case 6:i.garbage_collect_data=t.bool();break;default:t.skipType(7&a)}}return i},PointerTensor.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},PointerTensor.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.object_id&&t.hasOwnProperty("object_id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id))?"object_id."+r:null!=t.location_id&&t.hasOwnProperty("location_id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.location_id))?"location_id."+r:null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id_at_location))?"object_id_at_location."+r:null!=t.shape&&t.hasOwnProperty("shape")&&(r=$root.syft_proto.types.syft.v1.Shape.verify(t.shape))?"shape."+r:null!=t.point_to_attr&&t.hasOwnProperty("point_to_attr")&&!$util.isString(t.point_to_attr)?"point_to_attr: string expected":null!=t.garbage_collect_data&&t.hasOwnProperty("garbage_collect_data")&&"boolean"!=typeof t.garbage_collect_data?"garbage_collect_data: boolean expected":null;var r},PointerTensor.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.generic.pointers.v1.PointerTensor)return t;var r=new $root.syft_proto.generic.pointers.v1.PointerTensor;if(null!=t.object_id){if("object"!=typeof t.object_id)throw TypeError(".syft_proto.generic.pointers.v1.PointerTensor.object_id: object expected");r.object_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id)}if(null!=t.location_id){if("object"!=typeof t.location_id)throw TypeError(".syft_proto.generic.pointers.v1.PointerTensor.location_id: object expected");r.location_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.location_id)}if(null!=t.object_id_at_location){if("object"!=typeof t.object_id_at_location)throw TypeError(".syft_proto.generic.pointers.v1.PointerTensor.object_id_at_location: object expected");r.object_id_at_location=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id_at_location)}if(null!=t.shape){if("object"!=typeof t.shape)throw TypeError(".syft_proto.generic.pointers.v1.PointerTensor.shape: object expected");r.shape=$root.syft_proto.types.syft.v1.Shape.fromObject(t.shape)}return null!=t.point_to_attr&&(r.point_to_attr=String(t.point_to_attr)),null!=t.garbage_collect_data&&(r.garbage_collect_data=Boolean(t.garbage_collect_data)),r},PointerTensor.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.object_id=null,o.location_id=null,o.object_id_at_location=null,o.shape=null,o.point_to_attr="",o.garbage_collect_data=!1),null!=t.object_id&&t.hasOwnProperty("object_id")&&(o.object_id=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id,r)),null!=t.location_id&&t.hasOwnProperty("location_id")&&(o.location_id=$root.syft_proto.types.syft.v1.Id.toObject(t.location_id,r)),null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&(o.object_id_at_location=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id_at_location,r)),null!=t.shape&&t.hasOwnProperty("shape")&&(o.shape=$root.syft_proto.types.syft.v1.Shape.toObject(t.shape,r)),null!=t.point_to_attr&&t.hasOwnProperty("point_to_attr")&&(o.point_to_attr=t.point_to_attr),null!=t.garbage_collect_data&&t.hasOwnProperty("garbage_collect_data")&&(o.garbage_collect_data=t.garbage_collect_data),o},PointerTensor.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},PointerTensor}(),t.ObjectPointer=function(){function ObjectPointer(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return ObjectPointer.prototype.object_id=null,ObjectPointer.prototype.location_id=null,ObjectPointer.prototype.object_id_at_location=null,ObjectPointer.prototype.point_to_attr="",ObjectPointer.create=function create(t){return new ObjectPointer(t)},ObjectPointer.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.object_id&&t.hasOwnProperty("object_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id,r.uint32(10).fork()).ldelim(),null!=t.location_id&&t.hasOwnProperty("location_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.location_id,r.uint32(18).fork()).ldelim(),null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id_at_location,r.uint32(26).fork()).ldelim(),null!=t.point_to_attr&&t.hasOwnProperty("point_to_attr")&&r.uint32(34).string(t.point_to_attr),r},ObjectPointer.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},ObjectPointer.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.generic.pointers.v1.ObjectPointer;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.object_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:i.location_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 3:i.object_id_at_location=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 4:i.point_to_attr=t.string();break;default:t.skipType(7&a)}}return i},ObjectPointer.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},ObjectPointer.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null!=t.object_id&&t.hasOwnProperty("object_id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id))?"object_id."+r:null!=t.location_id&&t.hasOwnProperty("location_id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.location_id))?"location_id."+r:null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id_at_location))?"object_id_at_location."+r:null!=t.point_to_attr&&t.hasOwnProperty("point_to_attr")&&!$util.isString(t.point_to_attr)?"point_to_attr: string expected":null;var r},ObjectPointer.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.generic.pointers.v1.ObjectPointer)return t;var r=new $root.syft_proto.generic.pointers.v1.ObjectPointer;if(null!=t.object_id){if("object"!=typeof t.object_id)throw TypeError(".syft_proto.generic.pointers.v1.ObjectPointer.object_id: object expected");r.object_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id)}if(null!=t.location_id){if("object"!=typeof t.location_id)throw TypeError(".syft_proto.generic.pointers.v1.ObjectPointer.location_id: object expected");r.location_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.location_id)}if(null!=t.object_id_at_location){if("object"!=typeof t.object_id_at_location)throw TypeError(".syft_proto.generic.pointers.v1.ObjectPointer.object_id_at_location: object expected");r.object_id_at_location=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id_at_location)}return null!=t.point_to_attr&&(r.point_to_attr=String(t.point_to_attr)),r},ObjectPointer.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.object_id=null,o.location_id=null,o.object_id_at_location=null,o.point_to_attr=""),null!=t.object_id&&t.hasOwnProperty("object_id")&&(o.object_id=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id,r)),null!=t.location_id&&t.hasOwnProperty("location_id")&&(o.location_id=$root.syft_proto.types.syft.v1.Id.toObject(t.location_id,r)),null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&(o.object_id_at_location=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id_at_location,r)),null!=t.point_to_attr&&t.hasOwnProperty("point_to_attr")&&(o.point_to_attr=t.point_to_attr),o},ObjectPointer.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},ObjectPointer}(),t.PointerDataset=function(){function PointerDataset(t){if(this.tags=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return PointerDataset.prototype.object_id=null,PointerDataset.prototype.location_id=null,PointerDataset.prototype.object_id_at_location=null,PointerDataset.prototype.tags=$util.emptyArray,PointerDataset.prototype.description="",PointerDataset.prototype.garbage_collect_data=!1,PointerDataset.create=function create(t){return new PointerDataset(t)},PointerDataset.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.object_id&&t.hasOwnProperty("object_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id,r.uint32(10).fork()).ldelim(),null!=t.location_id&&t.hasOwnProperty("location_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.location_id,r.uint32(18).fork()).ldelim(),null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id_at_location,r.uint32(26).fork()).ldelim(),null!=t.tags&&t.tags.length)for(var o=0;o<t.tags.length;++o)r.uint32(34).string(t.tags[o]);return null!=t.description&&t.hasOwnProperty("description")&&r.uint32(42).string(t.description),null!=t.garbage_collect_data&&t.hasOwnProperty("garbage_collect_data")&&r.uint32(48).bool(t.garbage_collect_data),r},PointerDataset.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},PointerDataset.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.generic.pointers.v1.PointerDataset;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.object_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:i.location_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 3:i.object_id_at_location=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 4:i.tags&&i.tags.length||(i.tags=[]),i.tags.push(t.string());break;case 5:i.description=t.string();break;case 6:i.garbage_collect_data=t.bool();break;default:t.skipType(7&a)}}return i},PointerDataset.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},PointerDataset.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r;if(null!=t.object_id&&t.hasOwnProperty("object_id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id)))return"object_id."+r;if(null!=t.location_id&&t.hasOwnProperty("location_id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.location_id)))return"location_id."+r;if(null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id_at_location)))return"object_id_at_location."+r;if(null!=t.tags&&t.hasOwnProperty("tags")){if(!Array.isArray(t.tags))return"tags: array expected";for(var o=0;o<t.tags.length;++o)if(!$util.isString(t.tags[o]))return"tags: string[] expected"}return null!=t.description&&t.hasOwnProperty("description")&&!$util.isString(t.description)?"description: string expected":null!=t.garbage_collect_data&&t.hasOwnProperty("garbage_collect_data")&&"boolean"!=typeof t.garbage_collect_data?"garbage_collect_data: boolean expected":null},PointerDataset.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.generic.pointers.v1.PointerDataset)return t;var r=new $root.syft_proto.generic.pointers.v1.PointerDataset;if(null!=t.object_id){if("object"!=typeof t.object_id)throw TypeError(".syft_proto.generic.pointers.v1.PointerDataset.object_id: object expected");r.object_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id)}if(null!=t.location_id){if("object"!=typeof t.location_id)throw TypeError(".syft_proto.generic.pointers.v1.PointerDataset.location_id: object expected");r.location_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.location_id)}if(null!=t.object_id_at_location){if("object"!=typeof t.object_id_at_location)throw TypeError(".syft_proto.generic.pointers.v1.PointerDataset.object_id_at_location: object expected");r.object_id_at_location=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id_at_location)}if(t.tags){if(!Array.isArray(t.tags))throw TypeError(".syft_proto.generic.pointers.v1.PointerDataset.tags: array expected");r.tags=[];for(var o=0;o<t.tags.length;++o)r.tags[o]=String(t.tags[o])}return null!=t.description&&(r.description=String(t.description)),null!=t.garbage_collect_data&&(r.garbage_collect_data=Boolean(t.garbage_collect_data)),r},PointerDataset.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.tags=[]),r.defaults&&(o.object_id=null,o.location_id=null,o.object_id_at_location=null,o.description="",o.garbage_collect_data=!1),null!=t.object_id&&t.hasOwnProperty("object_id")&&(o.object_id=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id,r)),null!=t.location_id&&t.hasOwnProperty("location_id")&&(o.location_id=$root.syft_proto.types.syft.v1.Id.toObject(t.location_id,r)),null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&(o.object_id_at_location=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id_at_location,r)),t.tags&&t.tags.length){o.tags=[];for(var i=0;i<t.tags.length;++i)o.tags[i]=t.tags[i]}return null!=t.description&&t.hasOwnProperty("description")&&(o.description=t.description),null!=t.garbage_collect_data&&t.hasOwnProperty("garbage_collect_data")&&(o.garbage_collect_data=t.garbage_collect_data),o},PointerDataset.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},PointerDataset}(),t.PointerPlan=function(){function PointerPlan(t){if(this.tags=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return PointerPlan.prototype.object_id=null,PointerPlan.prototype.location_id=null,PointerPlan.prototype.object_id_at_location=null,PointerPlan.prototype.tags=$util.emptyArray,PointerPlan.prototype.garbage_collect_data=!1,PointerPlan.create=function create(t){return new PointerPlan(t)},PointerPlan.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.object_id&&t.hasOwnProperty("object_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id,r.uint32(10).fork()).ldelim(),null!=t.location_id&&t.hasOwnProperty("location_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.location_id,r.uint32(18).fork()).ldelim(),null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id_at_location,r.uint32(26).fork()).ldelim(),null!=t.tags&&t.tags.length)for(var o=0;o<t.tags.length;++o)r.uint32(34).string(t.tags[o]);return null!=t.garbage_collect_data&&t.hasOwnProperty("garbage_collect_data")&&r.uint32(40).bool(t.garbage_collect_data),r},PointerPlan.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},PointerPlan.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.generic.pointers.v1.PointerPlan;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.object_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:i.location_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 3:i.object_id_at_location=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 4:i.tags&&i.tags.length||(i.tags=[]),i.tags.push(t.string());break;case 5:i.garbage_collect_data=t.bool();break;default:t.skipType(7&a)}}return i},PointerPlan.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},PointerPlan.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r;if(null!=t.object_id&&t.hasOwnProperty("object_id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id)))return"object_id."+r;if(null!=t.location_id&&t.hasOwnProperty("location_id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.location_id)))return"location_id."+r;if(null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id_at_location)))return"object_id_at_location."+r;if(null!=t.tags&&t.hasOwnProperty("tags")){if(!Array.isArray(t.tags))return"tags: array expected";for(var o=0;o<t.tags.length;++o)if(!$util.isString(t.tags[o]))return"tags: string[] expected"}return null!=t.garbage_collect_data&&t.hasOwnProperty("garbage_collect_data")&&"boolean"!=typeof t.garbage_collect_data?"garbage_collect_data: boolean expected":null},PointerPlan.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.generic.pointers.v1.PointerPlan)return t;var r=new $root.syft_proto.generic.pointers.v1.PointerPlan;if(null!=t.object_id){if("object"!=typeof t.object_id)throw TypeError(".syft_proto.generic.pointers.v1.PointerPlan.object_id: object expected");r.object_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id)}if(null!=t.location_id){if("object"!=typeof t.location_id)throw TypeError(".syft_proto.generic.pointers.v1.PointerPlan.location_id: object expected");r.location_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.location_id)}if(null!=t.object_id_at_location){if("object"!=typeof t.object_id_at_location)throw TypeError(".syft_proto.generic.pointers.v1.PointerPlan.object_id_at_location: object expected");r.object_id_at_location=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id_at_location)}if(t.tags){if(!Array.isArray(t.tags))throw TypeError(".syft_proto.generic.pointers.v1.PointerPlan.tags: array expected");r.tags=[];for(var o=0;o<t.tags.length;++o)r.tags[o]=String(t.tags[o])}return null!=t.garbage_collect_data&&(r.garbage_collect_data=Boolean(t.garbage_collect_data)),r},PointerPlan.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.tags=[]),r.defaults&&(o.object_id=null,o.location_id=null,o.object_id_at_location=null,o.garbage_collect_data=!1),null!=t.object_id&&t.hasOwnProperty("object_id")&&(o.object_id=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id,r)),null!=t.location_id&&t.hasOwnProperty("location_id")&&(o.location_id=$root.syft_proto.types.syft.v1.Id.toObject(t.location_id,r)),null!=t.object_id_at_location&&t.hasOwnProperty("object_id_at_location")&&(o.object_id_at_location=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id_at_location,r)),t.tags&&t.tags.length){o.tags=[];for(var i=0;i<t.tags.length;++i)o.tags[i]=t.tags[i]}return null!=t.garbage_collect_data&&t.hasOwnProperty("garbage_collect_data")&&(o.garbage_collect_data=t.garbage_collect_data),o},PointerPlan.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},PointerPlan}(),t}(),pointers),generic),syft_proto.frameworks=((frameworks={}).torch=function(){var t,r,o,i={};return i.fl=((t={}).v1=function(){var t={};return t.BaseDataset=function(){function BaseDataset(t){if(this.tags=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return BaseDataset.prototype.data=null,BaseDataset.prototype.targets=null,BaseDataset.prototype.id=null,BaseDataset.prototype.tags=$util.emptyArray,BaseDataset.prototype.description="",BaseDataset.prototype.child=null,BaseDataset.create=function create(t){return new BaseDataset(t)},BaseDataset.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.data&&t.hasOwnProperty("data")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.data,r.uint32(10).fork()).ldelim(),null!=t.targets&&t.hasOwnProperty("targets")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.targets,r.uint32(18).fork()).ldelim(),null!=t.id&&t.hasOwnProperty("id")&&$root.syft_proto.types.syft.v1.Id.encode(t.id,r.uint32(26).fork()).ldelim(),null!=t.tags&&t.tags.length)for(var o=0;o<t.tags.length;++o)r.uint32(34).string(t.tags[o]);return null!=t.description&&t.hasOwnProperty("description")&&r.uint32(42).string(t.description),null!=t.child&&t.hasOwnProperty("child")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.child,r.uint32(50).fork()).ldelim(),r},BaseDataset.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},BaseDataset.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.frameworks.torch.fl.v1.BaseDataset;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.data=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 2:i.targets=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;case 3:i.id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 4:i.tags&&i.tags.length||(i.tags=[]),i.tags.push(t.string());break;case 5:i.description=t.string();break;case 6:i.child=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},BaseDataset.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},BaseDataset.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r;if(null!=t.data&&t.hasOwnProperty("data")&&(r=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.data)))return"data."+r;if(null!=t.targets&&t.hasOwnProperty("targets")&&(r=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.targets)))return"targets."+r;if(null!=t.id&&t.hasOwnProperty("id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.id)))return"id."+r;if(null!=t.tags&&t.hasOwnProperty("tags")){if(!Array.isArray(t.tags))return"tags: array expected";for(var o=0;o<t.tags.length;++o)if(!$util.isString(t.tags[o]))return"tags: string[] expected"}return null!=t.description&&t.hasOwnProperty("description")&&!$util.isString(t.description)?"description: string expected":null!=t.child&&t.hasOwnProperty("child")&&(r=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.child))?"child."+r:null},BaseDataset.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.frameworks.torch.fl.v1.BaseDataset)return t;var r=new $root.syft_proto.frameworks.torch.fl.v1.BaseDataset;if(null!=t.data){if("object"!=typeof t.data)throw TypeError(".syft_proto.frameworks.torch.fl.v1.BaseDataset.data: object expected");r.data=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.data)}if(null!=t.targets){if("object"!=typeof t.targets)throw TypeError(".syft_proto.frameworks.torch.fl.v1.BaseDataset.targets: object expected");r.targets=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.targets)}if(null!=t.id){if("object"!=typeof t.id)throw TypeError(".syft_proto.frameworks.torch.fl.v1.BaseDataset.id: object expected");r.id=$root.syft_proto.types.syft.v1.Id.fromObject(t.id)}if(t.tags){if(!Array.isArray(t.tags))throw TypeError(".syft_proto.frameworks.torch.fl.v1.BaseDataset.tags: array expected");r.tags=[];for(var o=0;o<t.tags.length;++o)r.tags[o]=String(t.tags[o])}if(null!=t.description&&(r.description=String(t.description)),null!=t.child){if("object"!=typeof t.child)throw TypeError(".syft_proto.frameworks.torch.fl.v1.BaseDataset.child: object expected");r.child=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.child)}return r},BaseDataset.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.tags=[]),r.defaults&&(o.data=null,o.targets=null,o.id=null,o.description="",o.child=null),null!=t.data&&t.hasOwnProperty("data")&&(o.data=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.data,r)),null!=t.targets&&t.hasOwnProperty("targets")&&(o.targets=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.targets,r)),null!=t.id&&t.hasOwnProperty("id")&&(o.id=$root.syft_proto.types.syft.v1.Id.toObject(t.id,r)),t.tags&&t.tags.length){o.tags=[];for(var i=0;i<t.tags.length;++i)o.tags[i]=t.tags[i]}return null!=t.description&&t.hasOwnProperty("description")&&(o.description=t.description),null!=t.child&&t.hasOwnProperty("child")&&(o.child=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.child,r)),o},BaseDataset.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},BaseDataset}(),t}(),t),i.tensors=((o={}).interpreters=((r={}).v1=function(){var t={};return t.AdditiveSharingTensor=function(){function AdditiveSharingTensor(t){if(this.location_ids=[],this.shares=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return AdditiveSharingTensor.prototype.id=null,AdditiveSharingTensor.prototype.field_int=$util.Long?$util.Long.fromBits(0,0,!1):0,AdditiveSharingTensor.prototype.field_str="",AdditiveSharingTensor.prototype.dtype="",AdditiveSharingTensor.prototype.crypto_provider_id=null,AdditiveSharingTensor.prototype.location_ids=$util.emptyArray,AdditiveSharingTensor.prototype.shares=$util.emptyArray,Object.defineProperty(AdditiveSharingTensor.prototype,"field_size",{get:$util.oneOfGetter(t=["field_int","field_str"]),set:$util.oneOfSetter(t)}),AdditiveSharingTensor.create=function create(t){return new AdditiveSharingTensor(t)},AdditiveSharingTensor.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.id&&t.hasOwnProperty("id")&&$root.syft_proto.types.syft.v1.Id.encode(t.id,r.uint32(10).fork()).ldelim(),null!=t.field_int&&t.hasOwnProperty("field_int")&&r.uint32(16).int64(t.field_int),null!=t.field_str&&t.hasOwnProperty("field_str")&&r.uint32(26).string(t.field_str),null!=t.dtype&&t.hasOwnProperty("dtype")&&r.uint32(34).string(t.dtype),null!=t.crypto_provider_id&&t.hasOwnProperty("crypto_provider_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.crypto_provider_id,r.uint32(42).fork()).ldelim(),null!=t.location_ids&&t.location_ids.length)for(var o=0;o<t.location_ids.length;++o)$root.syft_proto.types.syft.v1.Id.encode(t.location_ids[o],r.uint32(50).fork()).ldelim();if(null!=t.shares&&t.shares.length)for(o=0;o<t.shares.length;++o)$root.syft_proto.generic.pointers.v1.PointerTensor.encode(t.shares[o],r.uint32(58).fork()).ldelim();return r},AdditiveSharingTensor.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},AdditiveSharingTensor.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:i.field_int=t.int64();break;case 3:i.field_str=t.string();break;case 4:i.dtype=t.string();break;case 5:i.crypto_provider_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 6:i.location_ids&&i.location_ids.length||(i.location_ids=[]),i.location_ids.push($root.syft_proto.types.syft.v1.Id.decode(t,t.uint32()));break;case 7:i.shares&&i.shares.length||(i.shares=[]),i.shares.push($root.syft_proto.generic.pointers.v1.PointerTensor.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return i},AdditiveSharingTensor.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},AdditiveSharingTensor.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.id&&t.hasOwnProperty("id")&&(i=$root.syft_proto.types.syft.v1.Id.verify(t.id)))return"id."+i;if(null!=t.field_int&&t.hasOwnProperty("field_int")&&(r.field_size=1,!($util.isInteger(t.field_int)||t.field_int&&$util.isInteger(t.field_int.low)&&$util.isInteger(t.field_int.high))))return"field_int: integer|Long expected";if(null!=t.field_str&&t.hasOwnProperty("field_str")){if(1===r.field_size)return"field_size: multiple values";if(r.field_size=1,!$util.isString(t.field_str))return"field_str: string expected"}if(null!=t.dtype&&t.hasOwnProperty("dtype")&&!$util.isString(t.dtype))return"dtype: string expected";if(null!=t.crypto_provider_id&&t.hasOwnProperty("crypto_provider_id")&&(i=$root.syft_proto.types.syft.v1.Id.verify(t.crypto_provider_id)))return"crypto_provider_id."+i;if(null!=t.location_ids&&t.hasOwnProperty("location_ids")){if(!Array.isArray(t.location_ids))return"location_ids: array expected";for(var o=0;o<t.location_ids.length;++o)if(i=$root.syft_proto.types.syft.v1.Id.verify(t.location_ids[o]))return"location_ids."+i}if(null!=t.shares&&t.hasOwnProperty("shares")){if(!Array.isArray(t.shares))return"shares: array expected";for(o=0;o<t.shares.length;++o){var i;if(i=$root.syft_proto.generic.pointers.v1.PointerTensor.verify(t.shares[o]))return"shares."+i}}return null},AdditiveSharingTensor.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor)return t;var r=new $root.syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor;if(null!=t.id){if("object"!=typeof t.id)throw TypeError(".syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.id: object expected");r.id=$root.syft_proto.types.syft.v1.Id.fromObject(t.id)}if(null!=t.field_int&&($util.Long?(r.field_int=$util.Long.fromValue(t.field_int)).unsigned=!1:"string"==typeof t.field_int?r.field_int=parseInt(t.field_int,10):"number"==typeof t.field_int?r.field_int=t.field_int:"object"==typeof t.field_int&&(r.field_int=new $util.LongBits(t.field_int.low>>>0,t.field_int.high>>>0).toNumber())),null!=t.field_str&&(r.field_str=String(t.field_str)),null!=t.dtype&&(r.dtype=String(t.dtype)),null!=t.crypto_provider_id){if("object"!=typeof t.crypto_provider_id)throw TypeError(".syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.crypto_provider_id: object expected");r.crypto_provider_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.crypto_provider_id)}if(t.location_ids){if(!Array.isArray(t.location_ids))throw TypeError(".syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.location_ids: array expected");r.location_ids=[];for(var o=0;o<t.location_ids.length;++o){if("object"!=typeof t.location_ids[o])throw TypeError(".syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.location_ids: object expected");r.location_ids[o]=$root.syft_proto.types.syft.v1.Id.fromObject(t.location_ids[o])}}if(t.shares){if(!Array.isArray(t.shares))throw TypeError(".syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.shares: array expected");for(r.shares=[],o=0;o<t.shares.length;++o){if("object"!=typeof t.shares[o])throw TypeError(".syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.shares: object expected");r.shares[o]=$root.syft_proto.generic.pointers.v1.PointerTensor.fromObject(t.shares[o])}}return r},AdditiveSharingTensor.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.location_ids=[],o.shares=[]),r.defaults&&(o.id=null,o.dtype="",o.crypto_provider_id=null),null!=t.id&&t.hasOwnProperty("id")&&(o.id=$root.syft_proto.types.syft.v1.Id.toObject(t.id,r)),null!=t.field_int&&t.hasOwnProperty("field_int")&&("number"==typeof t.field_int?o.field_int=r.longs===String?String(t.field_int):t.field_int:o.field_int=r.longs===String?$util.Long.prototype.toString.call(t.field_int):r.longs===Number?new $util.LongBits(t.field_int.low>>>0,t.field_int.high>>>0).toNumber():t.field_int,r.oneofs&&(o.field_size="field_int")),null!=t.field_str&&t.hasOwnProperty("field_str")&&(o.field_str=t.field_str,r.oneofs&&(o.field_size="field_str")),null!=t.dtype&&t.hasOwnProperty("dtype")&&(o.dtype=t.dtype),null!=t.crypto_provider_id&&t.hasOwnProperty("crypto_provider_id")&&(o.crypto_provider_id=$root.syft_proto.types.syft.v1.Id.toObject(t.crypto_provider_id,r)),t.location_ids&&t.location_ids.length){o.location_ids=[];for(var i=0;i<t.location_ids.length;++i)o.location_ids[i]=$root.syft_proto.types.syft.v1.Id.toObject(t.location_ids[i],r)}if(t.shares&&t.shares.length)for(o.shares=[],i=0;i<t.shares.length;++i)o.shares[i]=$root.syft_proto.generic.pointers.v1.PointerTensor.toObject(t.shares[i],r);return o},AdditiveSharingTensor.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},AdditiveSharingTensor}(),t.FixedPrecisionTensor=function(){function FixedPrecisionTensor(t){if(this.tags=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return FixedPrecisionTensor.prototype.id=null,FixedPrecisionTensor.prototype.field="",FixedPrecisionTensor.prototype.dtype="",FixedPrecisionTensor.prototype.base=0,FixedPrecisionTensor.prototype.kappa=0,FixedPrecisionTensor.prototype.precision_fractional=0,FixedPrecisionTensor.prototype.tags=$util.emptyArray,FixedPrecisionTensor.prototype.description="",FixedPrecisionTensor.prototype.child=null,FixedPrecisionTensor.create=function create(t){return new FixedPrecisionTensor(t)},FixedPrecisionTensor.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.id&&t.hasOwnProperty("id")&&$root.syft_proto.types.syft.v1.Id.encode(t.id,r.uint32(10).fork()).ldelim(),null!=t.field&&t.hasOwnProperty("field")&&r.uint32(26).string(t.field),null!=t.dtype&&t.hasOwnProperty("dtype")&&r.uint32(34).string(t.dtype),null!=t.base&&t.hasOwnProperty("base")&&r.uint32(40).int32(t.base),null!=t.kappa&&t.hasOwnProperty("kappa")&&r.uint32(48).int32(t.kappa),null!=t.precision_fractional&&t.hasOwnProperty("precision_fractional")&&r.uint32(56).int32(t.precision_fractional),null!=t.tags&&t.tags.length)for(var o=0;o<t.tags.length;++o)r.uint32(66).string(t.tags[o]);return null!=t.description&&t.hasOwnProperty("description")&&r.uint32(74).string(t.description),null!=t.child&&t.hasOwnProperty("child")&&$root.syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.encode(t.child,r.uint32(82).fork()).ldelim(),r},FixedPrecisionTensor.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},FixedPrecisionTensor.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.frameworks.torch.tensors.interpreters.v1.FixedPrecisionTensor;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 3:i.field=t.string();break;case 4:i.dtype=t.string();break;case 5:i.base=t.int32();break;case 6:i.kappa=t.int32();break;case 7:i.precision_fractional=t.int32();break;case 8:i.tags&&i.tags.length||(i.tags=[]),i.tags.push(t.string());break;case 9:i.description=t.string();break;case 10:i.child=$root.syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},FixedPrecisionTensor.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},FixedPrecisionTensor.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r;if(null!=t.id&&t.hasOwnProperty("id")&&(r=$root.syft_proto.types.syft.v1.Id.verify(t.id)))return"id."+r;if(null!=t.field&&t.hasOwnProperty("field")&&!$util.isString(t.field))return"field: string expected";if(null!=t.dtype&&t.hasOwnProperty("dtype")&&!$util.isString(t.dtype))return"dtype: string expected";if(null!=t.base&&t.hasOwnProperty("base")&&!$util.isInteger(t.base))return"base: integer expected";if(null!=t.kappa&&t.hasOwnProperty("kappa")&&!$util.isInteger(t.kappa))return"kappa: integer expected";if(null!=t.precision_fractional&&t.hasOwnProperty("precision_fractional")&&!$util.isInteger(t.precision_fractional))return"precision_fractional: integer expected";if(null!=t.tags&&t.hasOwnProperty("tags")){if(!Array.isArray(t.tags))return"tags: array expected";for(var o=0;o<t.tags.length;++o)if(!$util.isString(t.tags[o]))return"tags: string[] expected"}return null!=t.description&&t.hasOwnProperty("description")&&!$util.isString(t.description)?"description: string expected":null!=t.child&&t.hasOwnProperty("child")&&(r=$root.syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.verify(t.child))?"child."+r:null},FixedPrecisionTensor.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.frameworks.torch.tensors.interpreters.v1.FixedPrecisionTensor)return t;var r=new $root.syft_proto.frameworks.torch.tensors.interpreters.v1.FixedPrecisionTensor;if(null!=t.id){if("object"!=typeof t.id)throw TypeError(".syft_proto.frameworks.torch.tensors.interpreters.v1.FixedPrecisionTensor.id: object expected");r.id=$root.syft_proto.types.syft.v1.Id.fromObject(t.id)}if(null!=t.field&&(r.field=String(t.field)),null!=t.dtype&&(r.dtype=String(t.dtype)),null!=t.base&&(r.base=0|t.base),null!=t.kappa&&(r.kappa=0|t.kappa),null!=t.precision_fractional&&(r.precision_fractional=0|t.precision_fractional),t.tags){if(!Array.isArray(t.tags))throw TypeError(".syft_proto.frameworks.torch.tensors.interpreters.v1.FixedPrecisionTensor.tags: array expected");r.tags=[];for(var o=0;o<t.tags.length;++o)r.tags[o]=String(t.tags[o])}if(null!=t.description&&(r.description=String(t.description)),null!=t.child){if("object"!=typeof t.child)throw TypeError(".syft_proto.frameworks.torch.tensors.interpreters.v1.FixedPrecisionTensor.child: object expected");r.child=$root.syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.fromObject(t.child)}return r},FixedPrecisionTensor.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.tags=[]),r.defaults&&(o.id=null,o.field="",o.dtype="",o.base=0,o.kappa=0,o.precision_fractional=0,o.description="",o.child=null),null!=t.id&&t.hasOwnProperty("id")&&(o.id=$root.syft_proto.types.syft.v1.Id.toObject(t.id,r)),null!=t.field&&t.hasOwnProperty("field")&&(o.field=t.field),null!=t.dtype&&t.hasOwnProperty("dtype")&&(o.dtype=t.dtype),null!=t.base&&t.hasOwnProperty("base")&&(o.base=t.base),null!=t.kappa&&t.hasOwnProperty("kappa")&&(o.kappa=t.kappa),null!=t.precision_fractional&&t.hasOwnProperty("precision_fractional")&&(o.precision_fractional=t.precision_fractional),t.tags&&t.tags.length){o.tags=[];for(var i=0;i<t.tags.length;++i)o.tags[i]=t.tags[i]}return null!=t.description&&t.hasOwnProperty("description")&&(o.description=t.description),null!=t.child&&t.hasOwnProperty("child")&&(o.child=$root.syft_proto.frameworks.torch.tensors.interpreters.v1.AdditiveSharingTensor.toObject(t.child,r)),o},FixedPrecisionTensor.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},FixedPrecisionTensor}(),t}(),r),o),i}(),frameworks),syft_proto.messaging=((messaging={}).v1=function(){var t={};return t.String=function(){function String(t){if(this.tags=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return String.prototype.child="",String.prototype.tags=$util.emptyArray,String.prototype.description="",String.create=function create(t){return new String(t)},String.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.child&&t.hasOwnProperty("child")&&r.uint32(10).string(t.child),null!=t.tags&&t.tags.length)for(var o=0;o<t.tags.length;++o)r.uint32(18).string(t.tags[o]);return null!=t.description&&t.hasOwnProperty("description")&&r.uint32(26).string(t.description),r},String.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},String.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.String;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.child=t.string();break;case 2:i.tags&&i.tags.length||(i.tags=[]),i.tags.push(t.string());break;case 3:i.description=t.string();break;default:t.skipType(7&a)}}return i},String.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},String.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.child&&t.hasOwnProperty("child")&&!$util.isString(t.child))return"child: string expected";if(null!=t.tags&&t.hasOwnProperty("tags")){if(!Array.isArray(t.tags))return"tags: array expected";for(var r=0;r<t.tags.length;++r)if(!$util.isString(t.tags[r]))return"tags: string[] expected"}return null!=t.description&&t.hasOwnProperty("description")&&!$util.isString(t.description)?"description: string expected":null},String.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.String)return t;var r=new $root.syft_proto.messaging.v1.String;if(null!=t.child&&(r.child=String(t.child)),t.tags){if(!Array.isArray(t.tags))throw TypeError(".syft_proto.messaging.v1.String.tags: array expected");r.tags=[];for(var o=0;o<t.tags.length;++o)r.tags[o]=String(t.tags[o])}return null!=t.description&&(r.description=String(t.description)),r},String.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.tags=[]),r.defaults&&(o.child="",o.description=""),null!=t.child&&t.hasOwnProperty("child")&&(o.child=t.child),t.tags&&t.tags.length){o.tags=[];for(var i=0;i<t.tags.length;++i)o.tags[i]=t.tags[i]}return null!=t.description&&t.hasOwnProperty("description")&&(o.description=t.description),o},String.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},String}(),t.SyftMessage=function(){function SyftMessage(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return SyftMessage.prototype.contents_empty_msg=null,SyftMessage.prototype.contents_delete_msg=null,SyftMessage.prototype.contents_get_shape_msg=null,SyftMessage.prototype.contents_is_none_msg=null,SyftMessage.prototype.contents_object_msg=null,SyftMessage.prototype.contents_object_request_msg=null,SyftMessage.prototype.contents_tensor_cmd_msg=null,SyftMessage.prototype.contents_plan_cmd_msg=null,SyftMessage.prototype.contents_worker_cmd_msg=null,SyftMessage.prototype.contents_search_msg=null,Object.defineProperty(SyftMessage.prototype,"contents",{get:$util.oneOfGetter(t=["contents_empty_msg","contents_delete_msg","contents_get_shape_msg","contents_is_none_msg","contents_object_msg","contents_object_request_msg","contents_tensor_cmd_msg","contents_plan_cmd_msg","contents_worker_cmd_msg","contents_search_msg"]),set:$util.oneOfSetter(t)}),SyftMessage.create=function create(t){return new SyftMessage(t)},SyftMessage.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.contents_empty_msg&&t.hasOwnProperty("contents_empty_msg")&&$root.google.protobuf.Empty.encode(t.contents_empty_msg,r.uint32(10).fork()).ldelim(),null!=t.contents_delete_msg&&t.hasOwnProperty("contents_delete_msg")&&$root.syft_proto.messaging.v1.ForceObjectDeleteMessage.encode(t.contents_delete_msg,r.uint32(18).fork()).ldelim(),null!=t.contents_get_shape_msg&&t.hasOwnProperty("contents_get_shape_msg")&&$root.syft_proto.messaging.v1.GetShapeMessage.encode(t.contents_get_shape_msg,r.uint32(26).fork()).ldelim(),null!=t.contents_is_none_msg&&t.hasOwnProperty("contents_is_none_msg")&&$root.syft_proto.messaging.v1.IsNoneMessage.encode(t.contents_is_none_msg,r.uint32(34).fork()).ldelim(),null!=t.contents_object_msg&&t.hasOwnProperty("contents_object_msg")&&$root.syft_proto.messaging.v1.ObjectMessage.encode(t.contents_object_msg,r.uint32(42).fork()).ldelim(),null!=t.contents_object_request_msg&&t.hasOwnProperty("contents_object_request_msg")&&$root.syft_proto.messaging.v1.ObjectRequestMessage.encode(t.contents_object_request_msg,r.uint32(50).fork()).ldelim(),null!=t.contents_tensor_cmd_msg&&t.hasOwnProperty("contents_tensor_cmd_msg")&&$root.syft_proto.messaging.v1.TensorCommandMessage.encode(t.contents_tensor_cmd_msg,r.uint32(58).fork()).ldelim(),null!=t.contents_plan_cmd_msg&&t.hasOwnProperty("contents_plan_cmd_msg")&&$root.syft_proto.messaging.v1.PlanCommandMessage.encode(t.contents_plan_cmd_msg,r.uint32(66).fork()).ldelim(),null!=t.contents_worker_cmd_msg&&t.hasOwnProperty("contents_worker_cmd_msg")&&$root.syft_proto.messaging.v1.WorkerCommandMessage.encode(t.contents_worker_cmd_msg,r.uint32(74).fork()).ldelim(),null!=t.contents_search_msg&&t.hasOwnProperty("contents_search_msg")&&$root.syft_proto.messaging.v1.SearchMessage.encode(t.contents_search_msg,r.uint32(82).fork()).ldelim(),r},SyftMessage.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},SyftMessage.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.SyftMessage;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.contents_empty_msg=$root.google.protobuf.Empty.decode(t,t.uint32());break;case 2:i.contents_delete_msg=$root.syft_proto.messaging.v1.ForceObjectDeleteMessage.decode(t,t.uint32());break;case 3:i.contents_get_shape_msg=$root.syft_proto.messaging.v1.GetShapeMessage.decode(t,t.uint32());break;case 4:i.contents_is_none_msg=$root.syft_proto.messaging.v1.IsNoneMessage.decode(t,t.uint32());break;case 5:i.contents_object_msg=$root.syft_proto.messaging.v1.ObjectMessage.decode(t,t.uint32());break;case 6:i.contents_object_request_msg=$root.syft_proto.messaging.v1.ObjectRequestMessage.decode(t,t.uint32());break;case 7:i.contents_tensor_cmd_msg=$root.syft_proto.messaging.v1.TensorCommandMessage.decode(t,t.uint32());break;case 8:i.contents_plan_cmd_msg=$root.syft_proto.messaging.v1.PlanCommandMessage.decode(t,t.uint32());break;case 9:i.contents_worker_cmd_msg=$root.syft_proto.messaging.v1.WorkerCommandMessage.decode(t,t.uint32());break;case 10:i.contents_search_msg=$root.syft_proto.messaging.v1.SearchMessage.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},SyftMessage.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},SyftMessage.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.contents_empty_msg&&t.hasOwnProperty("contents_empty_msg")&&(r.contents=1,o=$root.google.protobuf.Empty.verify(t.contents_empty_msg)))return"contents_empty_msg."+o;if(null!=t.contents_delete_msg&&t.hasOwnProperty("contents_delete_msg")){if(1===r.contents)return"contents: multiple values";if(r.contents=1,o=$root.syft_proto.messaging.v1.ForceObjectDeleteMessage.verify(t.contents_delete_msg))return"contents_delete_msg."+o}if(null!=t.contents_get_shape_msg&&t.hasOwnProperty("contents_get_shape_msg")){if(1===r.contents)return"contents: multiple values";if(r.contents=1,o=$root.syft_proto.messaging.v1.GetShapeMessage.verify(t.contents_get_shape_msg))return"contents_get_shape_msg."+o}if(null!=t.contents_is_none_msg&&t.hasOwnProperty("contents_is_none_msg")){if(1===r.contents)return"contents: multiple values";if(r.contents=1,o=$root.syft_proto.messaging.v1.IsNoneMessage.verify(t.contents_is_none_msg))return"contents_is_none_msg."+o}if(null!=t.contents_object_msg&&t.hasOwnProperty("contents_object_msg")){if(1===r.contents)return"contents: multiple values";if(r.contents=1,o=$root.syft_proto.messaging.v1.ObjectMessage.verify(t.contents_object_msg))return"contents_object_msg."+o}if(null!=t.contents_object_request_msg&&t.hasOwnProperty("contents_object_request_msg")){if(1===r.contents)return"contents: multiple values";if(r.contents=1,o=$root.syft_proto.messaging.v1.ObjectRequestMessage.verify(t.contents_object_request_msg))return"contents_object_request_msg."+o}if(null!=t.contents_tensor_cmd_msg&&t.hasOwnProperty("contents_tensor_cmd_msg")){if(1===r.contents)return"contents: multiple values";if(r.contents=1,o=$root.syft_proto.messaging.v1.TensorCommandMessage.verify(t.contents_tensor_cmd_msg))return"contents_tensor_cmd_msg."+o}if(null!=t.contents_plan_cmd_msg&&t.hasOwnProperty("contents_plan_cmd_msg")){if(1===r.contents)return"contents: multiple values";if(r.contents=1,o=$root.syft_proto.messaging.v1.PlanCommandMessage.verify(t.contents_plan_cmd_msg))return"contents_plan_cmd_msg."+o}if(null!=t.contents_worker_cmd_msg&&t.hasOwnProperty("contents_worker_cmd_msg")){if(1===r.contents)return"contents: multiple values";if(r.contents=1,o=$root.syft_proto.messaging.v1.WorkerCommandMessage.verify(t.contents_worker_cmd_msg))return"contents_worker_cmd_msg."+o}if(null!=t.contents_search_msg&&t.hasOwnProperty("contents_search_msg")){if(1===r.contents)return"contents: multiple values";var o;if(r.contents=1,o=$root.syft_proto.messaging.v1.SearchMessage.verify(t.contents_search_msg))return"contents_search_msg."+o}return null},SyftMessage.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.SyftMessage)return t;var r=new $root.syft_proto.messaging.v1.SyftMessage;if(null!=t.contents_empty_msg){if("object"!=typeof t.contents_empty_msg)throw TypeError(".syft_proto.messaging.v1.SyftMessage.contents_empty_msg: object expected");r.contents_empty_msg=$root.google.protobuf.Empty.fromObject(t.contents_empty_msg)}if(null!=t.contents_delete_msg){if("object"!=typeof t.contents_delete_msg)throw TypeError(".syft_proto.messaging.v1.SyftMessage.contents_delete_msg: object expected");r.contents_delete_msg=$root.syft_proto.messaging.v1.ForceObjectDeleteMessage.fromObject(t.contents_delete_msg)}if(null!=t.contents_get_shape_msg){if("object"!=typeof t.contents_get_shape_msg)throw TypeError(".syft_proto.messaging.v1.SyftMessage.contents_get_shape_msg: object expected");r.contents_get_shape_msg=$root.syft_proto.messaging.v1.GetShapeMessage.fromObject(t.contents_get_shape_msg)}if(null!=t.contents_is_none_msg){if("object"!=typeof t.contents_is_none_msg)throw TypeError(".syft_proto.messaging.v1.SyftMessage.contents_is_none_msg: object expected");r.contents_is_none_msg=$root.syft_proto.messaging.v1.IsNoneMessage.fromObject(t.contents_is_none_msg)}if(null!=t.contents_object_msg){if("object"!=typeof t.contents_object_msg)throw TypeError(".syft_proto.messaging.v1.SyftMessage.contents_object_msg: object expected");r.contents_object_msg=$root.syft_proto.messaging.v1.ObjectMessage.fromObject(t.contents_object_msg)}if(null!=t.contents_object_request_msg){if("object"!=typeof t.contents_object_request_msg)throw TypeError(".syft_proto.messaging.v1.SyftMessage.contents_object_request_msg: object expected");r.contents_object_request_msg=$root.syft_proto.messaging.v1.ObjectRequestMessage.fromObject(t.contents_object_request_msg)}if(null!=t.contents_tensor_cmd_msg){if("object"!=typeof t.contents_tensor_cmd_msg)throw TypeError(".syft_proto.messaging.v1.SyftMessage.contents_tensor_cmd_msg: object expected");r.contents_tensor_cmd_msg=$root.syft_proto.messaging.v1.TensorCommandMessage.fromObject(t.contents_tensor_cmd_msg)}if(null!=t.contents_plan_cmd_msg){if("object"!=typeof t.contents_plan_cmd_msg)throw TypeError(".syft_proto.messaging.v1.SyftMessage.contents_plan_cmd_msg: object expected");r.contents_plan_cmd_msg=$root.syft_proto.messaging.v1.PlanCommandMessage.fromObject(t.contents_plan_cmd_msg)}if(null!=t.contents_worker_cmd_msg){if("object"!=typeof t.contents_worker_cmd_msg)throw TypeError(".syft_proto.messaging.v1.SyftMessage.contents_worker_cmd_msg: object expected");r.contents_worker_cmd_msg=$root.syft_proto.messaging.v1.WorkerCommandMessage.fromObject(t.contents_worker_cmd_msg)}if(null!=t.contents_search_msg){if("object"!=typeof t.contents_search_msg)throw TypeError(".syft_proto.messaging.v1.SyftMessage.contents_search_msg: object expected");r.contents_search_msg=$root.syft_proto.messaging.v1.SearchMessage.fromObject(t.contents_search_msg)}return r},SyftMessage.toObject=function toObject(t,r){r||(r={});var o={};return null!=t.contents_empty_msg&&t.hasOwnProperty("contents_empty_msg")&&(o.contents_empty_msg=$root.google.protobuf.Empty.toObject(t.contents_empty_msg,r),r.oneofs&&(o.contents="contents_empty_msg")),null!=t.contents_delete_msg&&t.hasOwnProperty("contents_delete_msg")&&(o.contents_delete_msg=$root.syft_proto.messaging.v1.ForceObjectDeleteMessage.toObject(t.contents_delete_msg,r),r.oneofs&&(o.contents="contents_delete_msg")),null!=t.contents_get_shape_msg&&t.hasOwnProperty("contents_get_shape_msg")&&(o.contents_get_shape_msg=$root.syft_proto.messaging.v1.GetShapeMessage.toObject(t.contents_get_shape_msg,r),r.oneofs&&(o.contents="contents_get_shape_msg")),null!=t.contents_is_none_msg&&t.hasOwnProperty("contents_is_none_msg")&&(o.contents_is_none_msg=$root.syft_proto.messaging.v1.IsNoneMessage.toObject(t.contents_is_none_msg,r),r.oneofs&&(o.contents="contents_is_none_msg")),null!=t.contents_object_msg&&t.hasOwnProperty("contents_object_msg")&&(o.contents_object_msg=$root.syft_proto.messaging.v1.ObjectMessage.toObject(t.contents_object_msg,r),r.oneofs&&(o.contents="contents_object_msg")),null!=t.contents_object_request_msg&&t.hasOwnProperty("contents_object_request_msg")&&(o.contents_object_request_msg=$root.syft_proto.messaging.v1.ObjectRequestMessage.toObject(t.contents_object_request_msg,r),r.oneofs&&(o.contents="contents_object_request_msg")),null!=t.contents_tensor_cmd_msg&&t.hasOwnProperty("contents_tensor_cmd_msg")&&(o.contents_tensor_cmd_msg=$root.syft_proto.messaging.v1.TensorCommandMessage.toObject(t.contents_tensor_cmd_msg,r),r.oneofs&&(o.contents="contents_tensor_cmd_msg")),null!=t.contents_plan_cmd_msg&&t.hasOwnProperty("contents_plan_cmd_msg")&&(o.contents_plan_cmd_msg=$root.syft_proto.messaging.v1.PlanCommandMessage.toObject(t.contents_plan_cmd_msg,r),r.oneofs&&(o.contents="contents_plan_cmd_msg")),null!=t.contents_worker_cmd_msg&&t.hasOwnProperty("contents_worker_cmd_msg")&&(o.contents_worker_cmd_msg=$root.syft_proto.messaging.v1.WorkerCommandMessage.toObject(t.contents_worker_cmd_msg,r),r.oneofs&&(o.contents="contents_worker_cmd_msg")),null!=t.contents_search_msg&&t.hasOwnProperty("contents_search_msg")&&(o.contents_search_msg=$root.syft_proto.messaging.v1.SearchMessage.toObject(t.contents_search_msg,r),r.oneofs&&(o.contents="contents_search_msg")),o},SyftMessage.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},SyftMessage}(),t.IsNoneMessage=function(){function IsNoneMessage(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return IsNoneMessage.prototype.object_id=null,IsNoneMessage.create=function create(t){return new IsNoneMessage(t)},IsNoneMessage.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.object_id&&t.hasOwnProperty("object_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id,r.uint32(10).fork()).ldelim(),r},IsNoneMessage.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},IsNoneMessage.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.IsNoneMessage;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.object_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},IsNoneMessage.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},IsNoneMessage.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.object_id&&t.hasOwnProperty("object_id")){var r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id);if(r)return"object_id."+r}return null},IsNoneMessage.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.IsNoneMessage)return t;var r=new $root.syft_proto.messaging.v1.IsNoneMessage;if(null!=t.object_id){if("object"!=typeof t.object_id)throw TypeError(".syft_proto.messaging.v1.IsNoneMessage.object_id: object expected");r.object_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id)}return r},IsNoneMessage.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.object_id=null),null!=t.object_id&&t.hasOwnProperty("object_id")&&(o.object_id=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id,r)),o},IsNoneMessage.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},IsNoneMessage}(),t.ObjectMessage=function(){function ObjectMessage(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return ObjectMessage.prototype.tensor=null,ObjectMessage.create=function create(t){return new ObjectMessage(t)},ObjectMessage.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.tensor&&t.hasOwnProperty("tensor")&&$root.syft_proto.types.torch.v1.TorchTensor.encode(t.tensor,r.uint32(10).fork()).ldelim(),r},ObjectMessage.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},ObjectMessage.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.ObjectMessage;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.tensor=$root.syft_proto.types.torch.v1.TorchTensor.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},ObjectMessage.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},ObjectMessage.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.tensor&&t.hasOwnProperty("tensor")){var r=$root.syft_proto.types.torch.v1.TorchTensor.verify(t.tensor);if(r)return"tensor."+r}return null},ObjectMessage.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.ObjectMessage)return t;var r=new $root.syft_proto.messaging.v1.ObjectMessage;if(null!=t.tensor){if("object"!=typeof t.tensor)throw TypeError(".syft_proto.messaging.v1.ObjectMessage.tensor: object expected");r.tensor=$root.syft_proto.types.torch.v1.TorchTensor.fromObject(t.tensor)}return r},ObjectMessage.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.tensor=null),null!=t.tensor&&t.hasOwnProperty("tensor")&&(o.tensor=$root.syft_proto.types.torch.v1.TorchTensor.toObject(t.tensor,r)),o},ObjectMessage.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},ObjectMessage}(),t.TensorCommandMessage=function(){function TensorCommandMessage(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}var t;return TensorCommandMessage.prototype.computation=null,TensorCommandMessage.prototype.communication=null,Object.defineProperty(TensorCommandMessage.prototype,"action",{get:$util.oneOfGetter(t=["computation","communication"]),set:$util.oneOfSetter(t)}),TensorCommandMessage.create=function create(t){return new TensorCommandMessage(t)},TensorCommandMessage.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.computation&&t.hasOwnProperty("computation")&&$root.syft_proto.execution.v1.ComputationAction.encode(t.computation,r.uint32(10).fork()).ldelim(),null!=t.communication&&t.hasOwnProperty("communication")&&$root.syft_proto.execution.v1.CommunicationAction.encode(t.communication,r.uint32(18).fork()).ldelim(),r},TensorCommandMessage.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},TensorCommandMessage.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.TensorCommandMessage;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.computation=$root.syft_proto.execution.v1.ComputationAction.decode(t,t.uint32());break;case 2:i.communication=$root.syft_proto.execution.v1.CommunicationAction.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},TensorCommandMessage.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},TensorCommandMessage.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";var r={};if(null!=t.computation&&t.hasOwnProperty("computation")&&(r.action=1,o=$root.syft_proto.execution.v1.ComputationAction.verify(t.computation)))return"computation."+o;if(null!=t.communication&&t.hasOwnProperty("communication")){if(1===r.action)return"action: multiple values";var o;if(r.action=1,o=$root.syft_proto.execution.v1.CommunicationAction.verify(t.communication))return"communication."+o}return null},TensorCommandMessage.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.TensorCommandMessage)return t;var r=new $root.syft_proto.messaging.v1.TensorCommandMessage;if(null!=t.computation){if("object"!=typeof t.computation)throw TypeError(".syft_proto.messaging.v1.TensorCommandMessage.computation: object expected");r.computation=$root.syft_proto.execution.v1.ComputationAction.fromObject(t.computation)}if(null!=t.communication){if("object"!=typeof t.communication)throw TypeError(".syft_proto.messaging.v1.TensorCommandMessage.communication: object expected");r.communication=$root.syft_proto.execution.v1.CommunicationAction.fromObject(t.communication)}return r},TensorCommandMessage.toObject=function toObject(t,r){r||(r={});var o={};return null!=t.computation&&t.hasOwnProperty("computation")&&(o.computation=$root.syft_proto.execution.v1.ComputationAction.toObject(t.computation,r),r.oneofs&&(o.action="computation")),null!=t.communication&&t.hasOwnProperty("communication")&&(o.communication=$root.syft_proto.execution.v1.CommunicationAction.toObject(t.communication,r),r.oneofs&&(o.action="communication")),o},TensorCommandMessage.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},TensorCommandMessage}(),t.ForceObjectDeleteMessage=function(){function ForceObjectDeleteMessage(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return ForceObjectDeleteMessage.prototype.object_id=null,ForceObjectDeleteMessage.create=function create(t){return new ForceObjectDeleteMessage(t)},ForceObjectDeleteMessage.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.object_id&&t.hasOwnProperty("object_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id,r.uint32(10).fork()).ldelim(),r},ForceObjectDeleteMessage.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},ForceObjectDeleteMessage.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.ForceObjectDeleteMessage;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.object_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},ForceObjectDeleteMessage.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},ForceObjectDeleteMessage.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.object_id&&t.hasOwnProperty("object_id")){var r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id);if(r)return"object_id."+r}return null},ForceObjectDeleteMessage.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.ForceObjectDeleteMessage)return t;var r=new $root.syft_proto.messaging.v1.ForceObjectDeleteMessage;if(null!=t.object_id){if("object"!=typeof t.object_id)throw TypeError(".syft_proto.messaging.v1.ForceObjectDeleteMessage.object_id: object expected");r.object_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id)}return r},ForceObjectDeleteMessage.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.object_id=null),null!=t.object_id&&t.hasOwnProperty("object_id")&&(o.object_id=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id,r)),o},ForceObjectDeleteMessage.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},ForceObjectDeleteMessage}(),t.GetShapeMessage=function(){function GetShapeMessage(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return GetShapeMessage.prototype.object_id=null,GetShapeMessage.create=function create(t){return new GetShapeMessage(t)},GetShapeMessage.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.object_id&&t.hasOwnProperty("object_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id,r.uint32(10).fork()).ldelim(),r},GetShapeMessage.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},GetShapeMessage.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.GetShapeMessage;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.object_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;default:t.skipType(7&a)}}return i},GetShapeMessage.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},GetShapeMessage.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.object_id&&t.hasOwnProperty("object_id")){var r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id);if(r)return"object_id."+r}return null},GetShapeMessage.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.GetShapeMessage)return t;var r=new $root.syft_proto.messaging.v1.GetShapeMessage;if(null!=t.object_id){if("object"!=typeof t.object_id)throw TypeError(".syft_proto.messaging.v1.GetShapeMessage.object_id: object expected");r.object_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id)}return r},GetShapeMessage.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.object_id=null),null!=t.object_id&&t.hasOwnProperty("object_id")&&(o.object_id=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id,r)),o},GetShapeMessage.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},GetShapeMessage}(),t.ObjectRequestMessage=function(){function ObjectRequestMessage(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return ObjectRequestMessage.prototype.object_id=null,ObjectRequestMessage.prototype.reason="",ObjectRequestMessage.create=function create(t){return new ObjectRequestMessage(t)},ObjectRequestMessage.encode=function encode(t,r){return r||(r=$Writer.create()),null!=t.object_id&&t.hasOwnProperty("object_id")&&$root.syft_proto.types.syft.v1.Id.encode(t.object_id,r.uint32(10).fork()).ldelim(),null!=t.reason&&t.hasOwnProperty("reason")&&r.uint32(18).string(t.reason),r},ObjectRequestMessage.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},ObjectRequestMessage.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.ObjectRequestMessage;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.object_id=$root.syft_proto.types.syft.v1.Id.decode(t,t.uint32());break;case 2:i.reason=t.string();break;default:t.skipType(7&a)}}return i},ObjectRequestMessage.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},ObjectRequestMessage.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.object_id&&t.hasOwnProperty("object_id")){var r=$root.syft_proto.types.syft.v1.Id.verify(t.object_id);if(r)return"object_id."+r}return null!=t.reason&&t.hasOwnProperty("reason")&&!$util.isString(t.reason)?"reason: string expected":null},ObjectRequestMessage.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.ObjectRequestMessage)return t;var r=new $root.syft_proto.messaging.v1.ObjectRequestMessage;if(null!=t.object_id){if("object"!=typeof t.object_id)throw TypeError(".syft_proto.messaging.v1.ObjectRequestMessage.object_id: object expected");r.object_id=$root.syft_proto.types.syft.v1.Id.fromObject(t.object_id)}return null!=t.reason&&(r.reason=String(t.reason)),r},ObjectRequestMessage.toObject=function toObject(t,r){r||(r={});var o={};return r.defaults&&(o.object_id=null,o.reason=""),null!=t.object_id&&t.hasOwnProperty("object_id")&&(o.object_id=$root.syft_proto.types.syft.v1.Id.toObject(t.object_id,r)),null!=t.reason&&t.hasOwnProperty("reason")&&(o.reason=t.reason),o},ObjectRequestMessage.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},ObjectRequestMessage}(),t.PlanCommandMessage=function(){function PlanCommandMessage(t){if(this.args=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return PlanCommandMessage.prototype.command_name="",PlanCommandMessage.prototype.args=$util.emptyArray,PlanCommandMessage.create=function create(t){return new PlanCommandMessage(t)},PlanCommandMessage.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.command_name&&t.hasOwnProperty("command_name")&&r.uint32(10).string(t.command_name),null!=t.args&&t.args.length)for(var o=0;o<t.args.length;++o)$root.syft_proto.types.syft.v1.Arg.encode(t.args[o],r.uint32(18).fork()).ldelim();return r},PlanCommandMessage.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},PlanCommandMessage.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.PlanCommandMessage;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.command_name=t.string();break;case 2:i.args&&i.args.length||(i.args=[]),i.args.push($root.syft_proto.types.syft.v1.Arg.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return i},PlanCommandMessage.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},PlanCommandMessage.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.command_name&&t.hasOwnProperty("command_name")&&!$util.isString(t.command_name))return"command_name: string expected";if(null!=t.args&&t.hasOwnProperty("args")){if(!Array.isArray(t.args))return"args: array expected";for(var r=0;r<t.args.length;++r){var o=$root.syft_proto.types.syft.v1.Arg.verify(t.args[r]);if(o)return"args."+o}}return null},PlanCommandMessage.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.PlanCommandMessage)return t;var r=new $root.syft_proto.messaging.v1.PlanCommandMessage;if(null!=t.command_name&&(r.command_name=String(t.command_name)),t.args){if(!Array.isArray(t.args))throw TypeError(".syft_proto.messaging.v1.PlanCommandMessage.args: array expected");r.args=[];for(var o=0;o<t.args.length;++o){if("object"!=typeof t.args[o])throw TypeError(".syft_proto.messaging.v1.PlanCommandMessage.args: object expected");r.args[o]=$root.syft_proto.types.syft.v1.Arg.fromObject(t.args[o])}}return r},PlanCommandMessage.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.args=[]),r.defaults&&(o.command_name=""),null!=t.command_name&&t.hasOwnProperty("command_name")&&(o.command_name=t.command_name),t.args&&t.args.length){o.args=[];for(var i=0;i<t.args.length;++i)o.args[i]=$root.syft_proto.types.syft.v1.Arg.toObject(t.args[i],r)}return o},PlanCommandMessage.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},PlanCommandMessage}(),t.WorkerCommandMessage=function(){function WorkerCommandMessage(t){if(this.args=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return WorkerCommandMessage.prototype.command_name="",WorkerCommandMessage.prototype.args=$util.emptyArray,WorkerCommandMessage.create=function create(t){return new WorkerCommandMessage(t)},WorkerCommandMessage.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.command_name&&t.hasOwnProperty("command_name")&&r.uint32(10).string(t.command_name),null!=t.args&&t.args.length)for(var o=0;o<t.args.length;++o)$root.syft_proto.types.syft.v1.Arg.encode(t.args[o],r.uint32(18).fork()).ldelim();return r},WorkerCommandMessage.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},WorkerCommandMessage.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.WorkerCommandMessage;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.command_name=t.string();break;case 2:i.args&&i.args.length||(i.args=[]),i.args.push($root.syft_proto.types.syft.v1.Arg.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return i},WorkerCommandMessage.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},WorkerCommandMessage.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.command_name&&t.hasOwnProperty("command_name")&&!$util.isString(t.command_name))return"command_name: string expected";if(null!=t.args&&t.hasOwnProperty("args")){if(!Array.isArray(t.args))return"args: array expected";for(var r=0;r<t.args.length;++r){var o=$root.syft_proto.types.syft.v1.Arg.verify(t.args[r]);if(o)return"args."+o}}return null},WorkerCommandMessage.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.WorkerCommandMessage)return t;var r=new $root.syft_proto.messaging.v1.WorkerCommandMessage;if(null!=t.command_name&&(r.command_name=String(t.command_name)),t.args){if(!Array.isArray(t.args))throw TypeError(".syft_proto.messaging.v1.WorkerCommandMessage.args: array expected");r.args=[];for(var o=0;o<t.args.length;++o){if("object"!=typeof t.args[o])throw TypeError(".syft_proto.messaging.v1.WorkerCommandMessage.args: object expected");r.args[o]=$root.syft_proto.types.syft.v1.Arg.fromObject(t.args[o])}}return r},WorkerCommandMessage.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.args=[]),r.defaults&&(o.command_name=""),null!=t.command_name&&t.hasOwnProperty("command_name")&&(o.command_name=t.command_name),t.args&&t.args.length){o.args=[];for(var i=0;i<t.args.length;++i)o.args[i]=$root.syft_proto.types.syft.v1.Arg.toObject(t.args[i],r)}return o},WorkerCommandMessage.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},WorkerCommandMessage}(),t.SearchMessage=function(){function SearchMessage(t){if(this.query=[],t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return SearchMessage.prototype.query=$util.emptyArray,SearchMessage.create=function create(t){return new SearchMessage(t)},SearchMessage.encode=function encode(t,r){if(r||(r=$Writer.create()),null!=t.query&&t.query.length)for(var o=0;o<t.query.length;++o)$root.syft_proto.types.syft.v1.Id.encode(t.query[o],r.uint32(10).fork()).ldelim();return r},SearchMessage.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},SearchMessage.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.syft_proto.messaging.v1.SearchMessage;t.pos<o;){var a=t.uint32();switch(a>>>3){case 1:i.query&&i.query.length||(i.query=[]),i.query.push($root.syft_proto.types.syft.v1.Id.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return i},SearchMessage.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},SearchMessage.verify=function verify(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.query&&t.hasOwnProperty("query")){if(!Array.isArray(t.query))return"query: array expected";for(var r=0;r<t.query.length;++r){var o=$root.syft_proto.types.syft.v1.Id.verify(t.query[r]);if(o)return"query."+o}}return null},SearchMessage.fromObject=function fromObject(t){if(t instanceof $root.syft_proto.messaging.v1.SearchMessage)return t;var r=new $root.syft_proto.messaging.v1.SearchMessage;if(t.query){if(!Array.isArray(t.query))throw TypeError(".syft_proto.messaging.v1.SearchMessage.query: array expected");r.query=[];for(var o=0;o<t.query.length;++o){if("object"!=typeof t.query[o])throw TypeError(".syft_proto.messaging.v1.SearchMessage.query: object expected");r.query[o]=$root.syft_proto.types.syft.v1.Id.fromObject(t.query[o])}}return r},SearchMessage.toObject=function toObject(t,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.query=[]),t.query&&t.query.length){o.query=[];for(var i=0;i<t.query.length;++i)o.query[i]=$root.syft_proto.types.syft.v1.Id.toObject(t.query[i],r)}return o},SearchMessage.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},SearchMessage}(),t}(),messaging),syft_proto),$root.google=(google={},google.protobuf=function(){var t={};return t.Empty=function(){function Empty(t){if(t)for(var r=Object.keys(t),o=0;o<r.length;++o)null!=t[r[o]]&&(this[r[o]]=t[r[o]])}return Empty.create=function create(t){return new Empty(t)},Empty.encode=function encode(t,r){return r||(r=$Writer.create()),r},Empty.encodeDelimited=function encodeDelimited(t,r){return this.encode(t,r).ldelim()},Empty.decode=function decode(t,r){t instanceof $Reader||(t=$Reader.create(t));for(var o=void 0===r?t.len:t.pos+r,i=new $root.google.protobuf.Empty;t.pos<o;){var a=t.uint32();t.skipType(7&a)}return i},Empty.decodeDelimited=function decodeDelimited(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},Empty.verify=function verify(t){return"object"!=typeof t||null===t?"object expected":null},Empty.fromObject=function fromObject(t){return t instanceof $root.google.protobuf.Empty?t:new $root.google.protobuf.Empty},Empty.toObject=function toObject(){return{}},Empty.prototype.toJSON=function toJSON(){return this.constructor.toObject(this,minimal$1.util.toJSONOptions)},Empty}(),t}(),google);var protobuf=$root;getCjsExportFromNamespace(proto$1);var protobuf$1=protobuf,Protocol=function(){function Protocol(t,r,o,i,a){classCallCheck(this,Protocol),this.id=t,this.tags=r,this.description=o,this.plans=i,this.workersResolved=a}return createClass(Protocol,null,[{key:"unbufferize",value:function unbufferize(t,r){var o=[];return r.plan_assignments&&r.plan_assignments.forEach((function(t){o.push([getPbId(t.worker_id),getPbId(t.plan_id)])})),new Protocol(getPbId(r.id),r.tags,r.description,o,r.workers_resolved)}}]),Protocol}();function _createForOfIteratorHelper(t,r){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=_unsupportedIterableToArray$1(t))||r&&t&&"number"==typeof t.length){o&&(t=o);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,p=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){p=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(p)throw c}}}}function _unsupportedIterableToArray$1(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray$1(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray$1(t,r):void 0}}function _arrayLikeToArray$1(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}var Plan=function(){function Plan(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;classCallCheck(this,Plan),this.id=t,this.name=r,this.role=o,this.tags=i,this.description=a}var t;return createClass(Plan,[{key:"execute",value:(t=asyncToGenerator(regenerator.mark((function _callee(t){var r,o,i,a,c=arguments;return regenerator.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:for(o=c.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=c[a];return l.abrupt("return",(r=this.role).execute.apply(r,[t].concat(i)));case 2:case"end":return l.stop()}}),_callee,this)}))),function execute(r){return t.apply(this,arguments)})}],[{key:"unbufferize",value:function unbufferize$1(t,r){return new Plan(getPbId(r.id),r.name,unbufferize(t,r.role),r.tags,r.description)}}]),Plan}(),PlanInputSpec=function(){function PlanInputSpec(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;classCallCheck(this,PlanInputSpec),this.type=t,this.name=r,this.index=o,this.value=i}return createClass(PlanInputSpec,null,[{key:"resolve",value:function resolve(t,r){var o,i=[],a=_createForOfIteratorHelper(t);try{for(a.s();!(o=a.n()).done;){var c=o.value;c.type===this.TYPE_VALUE?i.push(c.value):null!==c.index?i.push(r[c.type][c.index]):null!==c.name||c.type===this.TYPE_CLIENT_CONFIG_PARAM?i.push(r[c.type][c.name]):i.push(r[c.type])}}catch(t){a.e(t)}finally{a.f()}return i}}]),PlanInputSpec}();defineProperty(PlanInputSpec,"TYPE_DATA","data"),defineProperty(PlanInputSpec,"TYPE_TARGET","target"),defineProperty(PlanInputSpec,"TYPE_BATCH_SIZE","batchSize"),defineProperty(PlanInputSpec,"TYPE_CLIENT_CONFIG_PARAM","clientConfigParam"),defineProperty(PlanInputSpec,"TYPE_VALUE","value"),defineProperty(PlanInputSpec,"TYPE_MODEL_PARAM","modelParam");var PlanOutputSpec=function(){function PlanOutputSpec(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;classCallCheck(this,PlanOutputSpec),this.type=t,this.name=r,this.index=o}return createClass(PlanOutputSpec,null,[{key:"resolve",value:function resolve(t,r){var o,i={},a=0,c=_createForOfIteratorHelper(t);try{for(c.s();!(o=c.n()).done;){var l=o.value;null!==l.index?(void 0===i[l.type]&&(i[l.type]=[]),i[l.type][l.index]=r[a]):null!==l.name?(void 0===i[l.type]&&(i[l.type]={}),i[l.type][l.name]=r[a]):i[l.type]=r[a],a++}}catch(t){c.e(t)}finally{c.f()}return i}}]),PlanOutputSpec}();defineProperty(PlanOutputSpec,"TYPE_LOSS","loss"),defineProperty(PlanOutputSpec,"TYPE_METRIC","metric"),defineProperty(PlanOutputSpec,"TYPE_MODEL_PARAM","modelParam");var ObjectRegistry=function(){function ObjectRegistry(){classCallCheck(this,ObjectRegistry),this.objects={},this.gc={}}return createClass(ObjectRegistry,[{key:"set",value:function set(t,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.objects[t]instanceof tf.Tensor&&(this.objects[t].dispose(),delete this.objects[t]),this.objects[t]=r,this.gc[t]=o}},{key:"setGc",value:function setGc(t,r){this.gc[t]=r}},{key:"get",value:function get(t){return this.objects[t]}},{key:"has",value:function has(t){return Object.hasOwnProperty.call(this.objects,t)}},{key:"clear",value:function clear(){for(var t=0,r=Object.keys(this.objects);t<r.length;t++){var o=r[t];this.gc[o]&&this.objects[o]instanceof tf.Tensor&&this.objects[o].dispose()}this.objects={},this.gc={}}},{key:"load",value:function load(t){for(var r=0,o=Object.keys(t.objects);r<o.length;r++){var i=o[r];this.set(i,t.get(i))}}}]),ObjectRegistry}();function _createForOfIteratorHelper$1(t,r){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=_unsupportedIterableToArray$2(t))||r&&t&&"number"==typeof t.length){o&&(t=o);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,p=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){p=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(p)throw c}}}}function _unsupportedIterableToArray$2(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray$2(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray$2(t,r):void 0}}function _arrayLikeToArray$2(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}var Role=function(){function Role(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;classCallCheck(this,Role),this.id=t,this.actions=r,this.state=o,this.placeholders=i,this.input_placeholder_ids=a,this.output_placeholder_ids=c,this.tags=l,this.description=p}var t;return createClass(Role,[{key:"getInputPlaceholders",value:function getInputPlaceholders(){var t=this;return this.input_placeholder_ids.map((function(r){return t.placeholders[r]}))}},{key:"getOutputPlaceholders",value:function getOutputPlaceholders(){var t=this;return this.output_placeholder_ids.map((function(r){return t.placeholders[r]}))}},{key:"execute",value:(t=asyncToGenerator(regenerator.mark((function _callee(t){var r,o,i,a,c,l,p,u,d,y,_,h,g=this,m=arguments;return regenerator.wrap((function _callee$(b){for(;;)switch(b.prev=b.next){case 0:for((r=new ObjectRegistry).load(t.objects),o=this.getInputPlaceholders(),i=this.getOutputPlaceholders(),a=o.length,c=m.length,l=new Array(c>1?c-1:0),p=1;p<c;p++)l[p-1]=m[p];if(l.length===a){b.next=6;break}throw new NotEnoughArgsError(l.length,a);case 6:l.forEach((function(t,i){r.set(o[i].id,t)})),this.state&&this.state.tensors&&this.state.placeholders.forEach((function(t,o){r.set(t.id,g.state.tensors[o])})),u=_createForOfIteratorHelper$1(this.actions),b.prev=9,u.s();case 11:if((d=u.n()).done){b.next=19;break}return y=d.value,b.next=15,y.execute(r);case 15:(_=b.sent)&&(y.returnIds.length>0?r.set(y.returnIds[0],_,!0):y.returnPlaceholderIds.length>0&&r.set(y.returnPlaceholderIds[0].id,_,!0));case 17:b.next=11;break;case 19:b.next=24;break;case 21:b.prev=21,b.t0=b.catch(9),u.e(b.t0);case 24:return b.prev=24,u.f(),b.finish(24);case 27:return h=[],i.forEach((function(t){h.push(r.get(t.id)),r.setGc(t.id,!1)})),r.clear(),b.abrupt("return",h);case 31:case"end":return b.stop()}}),_callee,this,[[9,21,24,27]])}))),function execute(r){return t.apply(this,arguments)})}],[{key:"unbufferize",value:function unbufferize$1(t,r){var o,i={},a=_createForOfIteratorHelper$1(unbufferize(t,r.placeholders));try{for(a.s();!(o=a.n()).done;){var c=o.value;i[c.id]=c}}catch(t){a.e(t)}finally{a.f()}return new Role(getPbId(r.id),unbufferize(t,r.actions),unbufferize(t,r.state),i,r.input_placeholder_ids.map(getPbId),r.output_placeholder_ids.map(getPbId),r.tags,r.description)}}]),Role}(),State$1=function(){function State(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;classCallCheck(this,State),this.placeholders=t,this.tensors=r}return createClass(State,[{key:"getTfTensors",value:function getTfTensors(){return this.tensors.map((function(t){return t.toTfTensor()}))}},{key:"bufferize",value:function bufferize(t){var r=this.tensors.map((function(r){return protobuf$1.syft_proto.execution.v1.StateTensor.create({torch_tensor:r.bufferize(t)})})),o=this.placeholders.map((function(t){return t.bufferize()}));return protobuf$1.syft_proto.execution.v1.State.create({placeholders:o,tensors:r})}}],[{key:"unbufferize",value:function unbufferize$1(t,r){var o=r.tensors.map((function(r){return unbufferize(t,r[r.tensor])}));return new State(unbufferize(t,r.placeholders),o)}}]),State}();function _createSuper$1(t){var r=_isNativeReflectConstruct$2();return function _createSuperInternal(){var o,i=getPrototypeOf(t);if(r){var a=getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return possibleConstructorReturn(this,o)}}function _isNativeReflectConstruct$2(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Message=function Message(t){classCallCheck(this,Message),t&&(this.contents=t),this.logger=new Logger},ObjectMessage=function(t){inherits(ObjectMessage,t);var r=_createSuper$1(ObjectMessage);function ObjectMessage(t){return classCallCheck(this,ObjectMessage),r.call(this,t)}return createClass(ObjectMessage,null,[{key:"unbufferize",value:function unbufferize$1(t,r){return new ObjectMessage(unbufferize(t,r.tensor))}}]),ObjectMessage}(Message),TorchTensor=function(){function TorchTensor(t,r,o,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;classCallCheck(this,TorchTensor),this.id=t,this.shape=o,this.dtype=i,this.contents=r,this.chain=a,this.gradChain=c,this.tags=l,this.description=p,this._tfTensor=null}var t;return createClass(TorchTensor,[{key:"toTfTensor",value:function toTfTensor(){return this._tfTensor||(this._tfTensor=tf.tensor(this.contents,this.shape,this.dtype)),this._tfTensor}},{key:"bufferize",value:function bufferize(){var t={shape:protobuf$1.syft_proto.types.torch.v1.Size.create({dims:this.shape}),dtype:this.dtype};t["contents_".concat(this.dtype)]=this.contents;var r=protobuf$1.syft_proto.types.torch.v1.TensorData.create(t);return protobuf$1.syft_proto.types.torch.v1.TorchTensor.create({id:pbId(this.id),serializer:protobuf$1.syft_proto.types.torch.v1.TorchTensor.Serializer.SERIALIZER_ALL,contents_data:r,tags:this.tags,description:this.description})}}],[{key:"unbufferize",value:function unbufferize$1(t,r){if(r.serializer!==protobuf$1.syft_proto.types.torch.v1.TorchTensor.Serializer.SERIALIZER_ALL)throw new Error("Tensor serializer ".concat(r.serializer," is not supported in syft.js"));var o=r.contents_data,i=o.dtype,a=o.shape.dims,c=o["contents_".concat(i)];return new TorchTensor(getPbId(r.id),c,a,i,unbufferize(t,r.chain),unbufferize(t,r.grad_chain),r.tags,r.description)}},{key:"fromTfTensor",value:(t=asyncToGenerator(regenerator.mark((function _callee(t){var r,o,i;return regenerator.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return r=t.flatten(),a.next=3,r.array();case 3:return o=a.sent,r.dispose(),(i=new TorchTensor(t.id,o,t.shape,t.dtype))._tfTensor=t,a.abrupt("return",i);case 8:case"end":return a.stop()}}),_callee)}))),function fromTfTensor(r){return t.apply(this,arguments)})}]),TorchTensor}(),TorchParameter=function(){function TorchParameter(t,r,o,i){classCallCheck(this,TorchParameter),this.id=t,this.tensor=r,this.requiresGrad=o,this.grad=i}return createClass(TorchParameter,[{key:"toTfTensor",value:function toTfTensor(){return this.tensor.toTfTensor()}}],[{key:"unbufferize",value:function unbufferize$1(t,r){return new TorchParameter(getPbId(r.id),unbufferize(t,r.tensor),r.requires_grad,unbufferize(t,r.grad))}}]),TorchParameter}(),PlaceholderId=function(){function PlaceholderId(t){classCallCheck(this,PlaceholderId),this.id=t}return createClass(PlaceholderId,[{key:"bufferize",value:function bufferize(){return protobuf$1.syft_proto.execution.v1.PlaceholderId.create({id:pbId(this.id)})}}],[{key:"unbufferize",value:function unbufferize(t,r){return new PlaceholderId(getPbId(r.id))}}]),PlaceholderId}(),Placeholder=function(){function Placeholder(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;classCallCheck(this,Placeholder),this.id=t,this.tags=r,this.description=o,this.expected_shape=i}return createClass(Placeholder,[{key:"bufferize",value:function bufferize(){return protobuf$1.syft_proto.execution.v1.Placeholder.create({id:pbId(this.id),tags:this.tags,description:this.description,expected_shape:protobuf$1.syft_proto.types.syft.v1.Shape.create(this.expected_shape)})}}],[{key:"unbufferize",value:function unbufferize(t,r){var o=null;return r.expected_shape&&Array.isArray(r.expected_shape.dims)&&r.expected_shape.dims.length>0&&(o=r.expected_shape.dims),new Placeholder(getPbId(r.id),r.tags||[],r.description,o)}}]),Placeholder}();function _arrayWithoutHoles(t){if(Array.isArray(t))return arrayLikeToArray(t)}var arrayWithoutHoles=_arrayWithoutHoles;function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var iterableToArray=_iterableToArray;function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var nonIterableSpread=_nonIterableSpread;function _toConsumableArray(t){return arrayWithoutHoles(t)||iterableToArray(t)||unsupportedIterableToArray(t)||nonIterableSpread()}var toConsumableArray=_toConsumableArray,PointerTensor=function PointerTensor(t,r,o,i,a,c){classCallCheck(this,PointerTensor),this.id=t,this.idAtLocation=r,this.locationId=o,this.pointToAttr=i,this.shape=a,this.garbageCollectData=c},ComputationAction=function(){function ComputationAction(t,r,o,i,a,c){classCallCheck(this,ComputationAction),this.command=t,this.target=r,this.args=o,this.kwargs=i,this.returnIds=a,this.returnPlaceholderIds=c}var t;return createClass(ComputationAction,[{key:"execute",value:(t=asyncToGenerator(regenerator.mark((function _callee(t){var r,o,i,a,c,l,p,u,d;return regenerator.wrap((function _callee$(y){for(;;)switch(y.prev=y.next){case 0:if(r=function haveValuesForAllArgs(r){var o=!0;return r.forEach((function(r){(r instanceof PointerTensor&&!t.has(r.idAtLocation)||r instanceof Placeholder&&!t.has(r.id)||r instanceof PlaceholderId&&!t.has(r.id))&&(o=!1)})),o},o=function toTFTensor(t){return t instanceof tf.Tensor?t:t instanceof TorchTensor?t.toTfTensor():t instanceof TorchParameter?t.tensor.toTfTensor():"number"==typeof t?t:null},i=function getTensorByRef(r){var i=null;return r instanceof PlaceholderId||r instanceof Placeholder?i=t.get(r.id):r instanceof PointerTensor&&(i=t.get(r.idAtLocation)),i=o(i)},a=function pullTensorsFromArgs(t){var r=[];return t.forEach((function(t){var a=i(t);a?r.push(o(a)):null!==o(t)?r.push(o(t)):r.push(t)})),r},c=this.args,l=null,!this.target){y.next=10;break}if(l=i(this.target)){y.next=10;break}throw new MissingVariableError;case 10:if(r(c)){y.next=12;break}throw new MissingVariableError;case 12:if(p=a(c),u=this.command.split(".").pop(),!l){y.next=20;break}if(u in l){y.next=19;break}throw new CannotFindCommandError("tensor.".concat(u));case 19:return y.abrupt("return",(d=l)[u].apply(d,toConsumableArray(p)));case 20:if(u in tf){y.next=24;break}throw new CannotFindCommandError(u);case 24:return y.abrupt("return",tf[u].apply(tf,toConsumableArray(p).concat(toConsumableArray(Object.values(this.kwargs)))));case 25:case"end":return y.stop()}}),_callee,this)}))),function execute(r){return t.apply(this,arguments)})}],[{key:"unbufferize",value:function unbufferize$1(t,r){return new ComputationAction(r.command,unbufferize(t,r[r.target]),unbufferize(t,r.args),unbufferize(t,r.kwargs),unbufferize(t,r.return_ids),unbufferize(t,r.return_placeholder_ids))}}]),ComputationAction}(),PB_CLASS_MAP,PB_TO_UNBUFFERIZER,initMappings=function initMappings(){PB_CLASS_MAP=[[Protocol,protobuf$1.syft_proto.execution.v1.Protocol],[Plan,protobuf$1.syft_proto.execution.v1.Plan],[Role,protobuf$1.syft_proto.execution.v1.Role],[State$1,protobuf$1.syft_proto.execution.v1.State],[ComputationAction,protobuf$1.syft_proto.execution.v1.ComputationAction],[Placeholder,protobuf$1.syft_proto.execution.v1.Placeholder],[PlaceholderId,protobuf$1.syft_proto.execution.v1.PlaceholderId],[ObjectMessage,protobuf$1.syft_proto.messaging.v1.ObjectMessage],[TorchTensor,protobuf$1.syft_proto.types.torch.v1.TorchTensor],[TorchParameter,protobuf$1.syft_proto.types.torch.v1.Parameter]],PB_TO_UNBUFFERIZER=PB_CLASS_MAP.reduce((function(t,r){return t[r[1]]=r[0].unbufferize,t}),{})},long_1=Long,wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Long(t,r,o){this.low=0|t,this.high=0|r,this.unsigned=!!o}function isLong(t){return!0===(t&&t.__isLong__)}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0}),Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(t,r){var o,i,a;return r?(a=0<=(t>>>=0)&&t<256)&&(i=UINT_CACHE[t])?i:(o=fromBits(t,(0|t)<0?-1:0,!0),a&&(UINT_CACHE[t]=o),o):(a=-128<=(t|=0)&&t<128)&&(i=INT_CACHE[t])?i:(o=fromBits(t,t<0?-1:0,!1),a&&(INT_CACHE[t]=o),o)}function fromNumber(t,r){if(isNaN(t))return r?UZERO:ZERO;if(r){if(t<0)return UZERO;if(t>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(t<=-TWO_PWR_63_DBL)return MIN_VALUE;if(t+1>=TWO_PWR_63_DBL)return MAX_VALUE}return t<0?fromNumber(-t,r).neg():fromBits(t%TWO_PWR_32_DBL|0,t/TWO_PWR_32_DBL|0,r)}function fromBits(t,r,o){return new Long(t,r,o)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(t,r,o){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return ZERO;if("number"==typeof r?(o=r,r=!1):r=!!r,(o=o||10)<2||36<o)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return fromString(t.substring(1),r,o).neg();for(var a=fromNumber(pow_dbl(o,8)),c=ZERO,l=0;l<t.length;l+=8){var p=Math.min(8,t.length-l),u=parseInt(t.substring(l,l+p),o);if(p<8){var d=fromNumber(pow_dbl(o,p));c=c.mul(d).add(fromNumber(u))}else c=(c=c.mul(a)).add(fromNumber(u))}return c.unsigned=r,c}function fromValue(t,r){return"number"==typeof t?fromNumber(t,r):"string"==typeof t?fromString(t,r):fromBits(t.low,t.high,"boolean"==typeof r?r:t.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function toInt(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function toNumber(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function toString(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var r=fromNumber(t),o=this.div(r),i=o.mul(r).sub(this);return o.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var a=fromNumber(pow_dbl(t,6),this.unsigned),c=this,l="";;){var p=c.div(a),u=(c.sub(p.mul(a)).toInt()>>>0).toString(t);if((c=p).isZero())return u+l;for(;u.length<6;)u="0"+u;l=""+u+l}},LongPrototype.getHighBits=function getHighBits(){return this.high},LongPrototype.getHighBitsUnsigned=function getHighBitsUnsigned(){return this.high>>>0},LongPrototype.getLowBits=function getLowBits(){return this.low},LongPrototype.getLowBitsUnsigned=function getLowBitsUnsigned(){return this.low>>>0},LongPrototype.getNumBitsAbs=function getNumBitsAbs(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&0==(t&1<<r);r--);return 0!=this.high?r+33:r+1},LongPrototype.isZero=function isZero(){return 0===this.high&&0===this.low},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function isNegative(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function isPositive(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function isOdd(){return 1==(1&this.low)},LongPrototype.isEven=function isEven(){return 0==(1&this.low)},LongPrototype.equals=function equals(t){return isLong(t)||(t=fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function notEquals(t){return!this.eq(t)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function lessThan(t){return this.comp(t)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function lessThanOrEqual(t){return this.comp(t)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function greaterThan(t){return this.comp(t)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function greaterThanOrEqual(t){return this.comp(t)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function compare(t){if(isLong(t)||(t=fromValue(t)),this.eq(t))return 0;var r=this.isNegative(),o=t.isNegative();return r&&!o?-1:!r&&o?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function negate(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function add(t){isLong(t)||(t=fromValue(t));var r=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,c=t.high>>>16,l=65535&t.high,p=t.low>>>16,u=0,d=0,y=0,_=0;return y+=(_+=a+(65535&t.low))>>>16,d+=(y+=i+p)>>>16,u+=(d+=o+l)>>>16,u+=r+c,fromBits((y&=65535)<<16|(_&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},LongPrototype.subtract=function subtract(t){return isLong(t)||(t=fromValue(t)),this.add(t.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function multiply(t){if(this.isZero())return ZERO;if(isLong(t)||(t=fromValue(t)),wasm)return fromBits(wasm.mul(this.low,this.high,t.low,t.high),wasm.get_high(),this.unsigned);if(t.isZero())return ZERO;if(this.eq(MIN_VALUE))return t.isOdd()?MIN_VALUE:ZERO;if(t.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(TWO_PWR_24)&&t.lt(TWO_PWR_24))return fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,c=t.high>>>16,l=65535&t.high,p=t.low>>>16,u=65535&t.low,d=0,y=0,_=0,h=0;return _+=(h+=a*u)>>>16,y+=(_+=i*u)>>>16,_&=65535,y+=(_+=a*p)>>>16,d+=(y+=o*u)>>>16,y&=65535,d+=(y+=i*p)>>>16,y&=65535,d+=(y+=a*l)>>>16,d+=r*u+o*p+i*l+a*c,fromBits((_&=65535)<<16|(h&=65535),(d&=65535)<<16|(y&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function divide(t){if(isLong(t)||(t=fromValue(t)),t.isZero())throw Error("division by zero");var r,o,i;if(wasm)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?fromBits((this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,t.low,t.high),wasm.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?UZERO:ZERO;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return UZERO;if(t.gt(this.shru(1)))return UONE;i=UZERO}else{if(this.eq(MIN_VALUE))return t.eq(ONE)||t.eq(NEG_ONE)?MIN_VALUE:t.eq(MIN_VALUE)?ONE:(r=this.shr(1).div(t).shl(1)).eq(ZERO)?t.isNegative()?ONE:NEG_ONE:(o=this.sub(t.mul(r)),i=r.add(o.div(t)));if(t.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=ZERO}for(o=this;o.gte(t);){r=Math.max(1,Math.floor(o.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),c=a<=48?1:pow_dbl(2,a-48),l=fromNumber(r),p=l.mul(t);p.isNegative()||p.gt(o);)p=(l=fromNumber(r-=c,this.unsigned)).mul(t);l.isZero()&&(l=ONE),i=i.add(l),o=o.sub(p)}return i},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function modulo(t){return isLong(t)||(t=fromValue(t)),wasm?fromBits((this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,t.low,t.high),wasm.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function not(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.and=function and(t){return isLong(t)||(t=fromValue(t)),fromBits(this.low&t.low,this.high&t.high,this.unsigned)},LongPrototype.or=function or(t){return isLong(t)||(t=fromValue(t)),fromBits(this.low|t.low,this.high|t.high,this.unsigned)},LongPrototype.xor=function xor(t){return isLong(t)||(t=fromValue(t)),fromBits(this.low^t.low,this.high^t.high,this.unsigned)},LongPrototype.shiftLeft=function shiftLeft(t){return isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):fromBits(0,this.low<<t-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function shiftRight(t){return isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function shiftRightUnsigned(t){if(isLong(t)&&(t=t.toInt()),0===(t&=63))return this;var r=this.high;return t<32?fromBits(this.low>>>t|r<<32-t,r>>>t,this.unsigned):fromBits(32===t?r:r>>>t-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.toSigned=function toSigned(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function toUnsigned(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function toBytes(t){return t?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function toBytesLE(){var t=this.high,r=this.low;return[255&r,r>>>8&255,r>>>16&255,r>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},LongPrototype.toBytesBE=function toBytesBE(){var t=this.high,r=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,r>>>24,r>>>16&255,r>>>8&255,255&r]},Long.fromBytes=function fromBytes(t,r,o){return o?Long.fromBytesLE(t,r):Long.fromBytesBE(t,r)},Long.fromBytesLE=function fromBytesLE(t,r){return new Long(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},Long.fromBytesBE=function fromBytesBE(t,r){return new Long(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)};var unbufferize=function unbufferize(t,r){if(PB_TO_UNBUFFERIZER||initMappings(),null==r||["number","string","boolean"].includes(_typeof_1(r)))return r;var o=r.constructor;if(Array.isArray(r))return r.map((function(r){return unbufferize(t,r)}));if("Object"===o.name){for(var i={},a=0,c=Object.keys(r);a<c.length;a++){var l=c[a];i[l]=unbufferize(t,r[l])}return i}if(o===protobuf$1.syft_proto.types.syft.v1.Id)return getPbId(r);if(o===protobuf$1.syft_proto.types.syft.v1.Arg)return"arg_int"===r.arg&&r[r.arg]instanceof long_1?r[r.arg].toNumber():unbufferize(t,r[r.arg]);if(o===protobuf$1.syft_proto.types.syft.v1.ArgList)return unbufferize(t,r.args);var p=PB_TO_UNBUFFERIZER[o];if(void 0===p)throw new NoDetailerError(o.name);return p(t,r)},unserialize=function unserialize(t,r,o){var i,a="string"==typeof r?base64Decode(r):r instanceof ArrayBuffer?new Uint8Array(r):r;try{i=o.decode(a)}catch(t){throw new ProtobufUnserializeFailedError(o.name,t.message)}return unbufferize(t,i)},serialize=function serialize(t,r){var o=r.bufferize(t),i=o.constructor,a=i.verify(o);if(a)throw new Error(a);var c=i.encode(o).finish();return new Uint8Array(c).buffer},getPbId=function getPbId(t){return t[t.id].toString()},pbId=function pbId(t){return"number"==typeof t?protobuf$1.syft_proto.types.syft.v1.Id.create({id_int:t}):"string"==typeof t?protobuf$1.syft_proto.types.syft.v1.Id.create({id_str:t}):void 0},SyftModel=function(){function SyftModel(t){var r=t.worker,o=t.serializedModelParameters,i=void 0===o?null:o,a=t.modelParameters,c=void 0===a?null:a;if(classCallCheck(this,SyftModel),this.worker=r,i)try{var l=unserialize(r,i,protobuf$1.syft_proto.execution.v1.State);this.params=l.getTfTensors()}catch(t){throw new ModelLoadFailedError(t.message)}c&&(this.params=c)}var t,r,o;return createClass(SyftModel,[{key:"toProtobuf",value:(o=asyncToGenerator(regenerator.mark((function _callee(){var t,r,o,i;return regenerator.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:t=[],r=[],o=0;case 2:if(!(o<this.params.length)){a.next=12;break}return t.push(new Placeholder(o,["#".concat(o),"#state-".concat(o)])),a.t0=r,a.next=7,TorchTensor.fromTfTensor(this.params[o]);case 7:a.t1=a.sent,a.t0.push.call(a.t0,a.t1);case 9:o++,a.next=2;break;case 12:return i=new State$1(t,r),a.abrupt("return",serialize(this.worker,i));case 14:case"end":return a.stop()}}),_callee,this)}))),function toProtobuf(){return o.apply(this,arguments)})},{key:"createSerializedDiff",value:(r=asyncToGenerator(regenerator.mark((function _callee2(t){var r,o,i,a,c,l;return regenerator.wrap((function _callee2$(p){for(;;)switch(p.prev=p.next){case 0:r=[],o=[],i=0;case 2:if(!(i<t.length)){p.next=13;break}return a=this.params[i].sub(t[i]),r.push(new Placeholder(i,["#".concat(i),"#state-".concat(i)])),p.t0=o,p.next=8,TorchTensor.fromTfTensor(a);case 8:p.t1=p.sent,p.t0.push.call(p.t0,p.t1);case 10:i++,p.next=2;break;case 13:return c=new State$1(r,o),l=serialize(this.worker,c),o.forEach((function(t){return t._tfTensor.dispose()})),p.abrupt("return",l);case 17:case"end":return p.stop()}}),_callee2,this)}))),function createSerializedDiff(t){return r.apply(this,arguments)})},{key:"createSerializedDiffFromModel",value:(t=asyncToGenerator(regenerator.mark((function _callee3(t){return regenerator.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.createSerializedDiff(t.params));case 1:case"end":return r.stop()}}),_callee3,this)}))),function createSerializedDiffFromModel(r){return t.apply(this,arguments)})}]),SyftModel}();function _createForOfIteratorHelper$2(t,r){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=_unsupportedIterableToArray$3(t))||r&&t&&"number"==typeof t.length){o&&(t=o);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,p=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){p=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(p)throw c}}}}function _unsupportedIterableToArray$3(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray$3(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray$3(t,r):void 0}}function _arrayLikeToArray$3(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function _createSuper$2(t){var r=_isNativeReflectConstruct$3();return function _createSuperInternal(){var o,i=getPrototypeOf(t);if(r){var a=getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return possibleConstructorReturn(this,o)}}function _isNativeReflectConstruct$3(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Transform=function(){function Transform(){classCallCheck(this,Transform);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];this.options=r}return createClass(Transform,[{key:"apply",value:function apply(){for(var t=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.map((function(r,o){return t.options[o]?t.applyToItem(r,t.options[o]):r}))}},{key:"applyToItem",value:function applyToItem(t){return t}}]),Transform}(),Compose=function(t){inherits(Compose,t);var r=_createSuper$2(Compose);function Compose(t){var o;return classCallCheck(this,Compose),(o=r.call(this)).transforms=t,o}return createClass(Compose,[{key:"apply",value:function apply(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i,a=r,c=_createForOfIteratorHelper$2(this.transforms);try{for(c.s();!(i=c.n()).done;){var l=i.value;a=l.apply.apply(l,toConsumableArray(a))}}catch(t){c.e(t)}finally{c.f()}return a}}]),Compose}(Transform),index=Object.freeze({__proto__:null,Transform:Transform,Compose:Compose});function _toArray(t){return arrayWithHoles(t)||iterableToArray(t)||unsupportedIterableToArray(t)||nonIterableRest()}var toArray=_toArray;function _createSuper$3(t){var r=_isNativeReflectConstruct$4();return function _createSuperInternal(){var o,i=getPrototypeOf(t);if(r){var a=getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return possibleConstructorReturn(this,o)}}function _isNativeReflectConstruct$4(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ToTensor=function(t){inherits(ToTensor,t);var r=_createSuper$3(ToTensor);function ToTensor(){return classCallCheck(this,ToTensor),r.apply(this,arguments)}return createClass(ToTensor,[{key:"applyToItem",value:function applyToItem(t,r){var o=r||{},i=o.shape,a=void 0===i?null:i,c=o.dtype,l=void 0===c?null:c;return tf.tensor(t,a,l)}}]),ToTensor}(Transform),Normalize=function(t){inherits(Normalize,t);var r=_createSuper$3(Normalize);function Normalize(){return classCallCheck(this,Normalize),r.apply(this,arguments)}return createClass(Normalize,[{key:"applyToItem",value:function applyToItem(t,r){var o,i,a,c=r.mean,l=r.std,p=c.length;if(t.rank<=1)o=1,i=t.shape;else{var u=toArray(t.shape);o=u[0],i=u.slice(1)}if(1!==p&&o!==p)throw new TypeError("Number of channels does not match");if(p>1){for(var d=[],y=[],_=0;_<p;_++)d.push(tf.zeros(i).add(c[_])),y.push(tf.zeros(i).add(l[_]));a=t.sub(tf.stack(d)).div(tf.stack(y))}else a=t.sub(c[0]).div(l[0]);return a}}]),Normalize}(Transform),OneHot=function(t){inherits(OneHot,t);var r=_createSuper$3(OneHot);function OneHot(){return classCallCheck(this,OneHot),r.apply(this,arguments)}return createClass(OneHot,[{key:"applyToItem",value:function applyToItem(t,r){var o=r.depth,i=r.squeeze,a=void 0!==i&&i,c=tf.oneHot(t,o);return a?tf.squeeze(c):c}}]),OneHot}(Transform),index$1=Object.freeze({__proto__:null,ToTensor:ToTensor,Normalize:Normalize,OneHot:OneHot}),index$2=Object.freeze({__proto__:null,core:index,tfjs:index$1}),Dataset=function Dataset(){if(classCallCheck(this,Dataset),(this instanceof Dataset?this.constructor:void 0)===Dataset)throw new TypeError("Dataset is abstract, extend it");if(void 0===this.getItem)throw new TypeError("Override getItem method");if(void 0===Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this),"length").get)throw new TypeError("Override length getter");return new Proxy(this,{get:function get(t,r){var o=parseInt(r);return Number.isInteger(o)&&o>=0?t.getItem(r):Reflect.get.apply(Reflect,arguments)}})};function _createForOfIteratorHelper$3(t,r){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=_unsupportedIterableToArray$4(t))||r&&t&&"number"==typeof t.length){o&&(t=o);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,p=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){p=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(p)throw c}}}}function _unsupportedIterableToArray$4(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray$4(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray$4(t,r):void 0}}function _arrayLikeToArray$4(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function _createSuper$4(t){var r=_isNativeReflectConstruct$5();return function _createSuperInternal(){var o,i=getPrototypeOf(t);if(r){var a=getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return possibleConstructorReturn(this,o)}}function _isNativeReflectConstruct$5(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Sampler=function Sampler(t){if(classCallCheck(this,Sampler),(this instanceof Sampler?this.constructor:void 0)===Sampler)throw new TypeError("Sampler is abstract, extend it");if(void 0===this[Symbol.iterator])throw new TypeError("Override iterator method");if(void 0===Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this),"length").get)throw new TypeError("Override length getter");this.dataset=t},SequentialSampler=function(t){inherits(SequentialSampler,t);var r=_createSuper$4(SequentialSampler);function SequentialSampler(t){return classCallCheck(this,SequentialSampler),r.call(this,t)}return createClass(SequentialSampler,[{key:Symbol.iterator,value:regenerator.mark((function value(){var t;return regenerator.wrap((function value$(r){for(;;)switch(r.prev=r.next){case 0:t=0;case 1:if(!(t<this.dataset.length)){r.next=7;break}return r.next=4,t;case 4:t++,r.next=1;break;case 7:case"end":return r.stop()}}),value,this)}))},{key:"length",get:function get(){return this.dataset.length}}]),SequentialSampler}(Sampler),RandomSampler=function(t){inherits(RandomSampler,t);var r=_createSuper$4(RandomSampler);function RandomSampler(t){return classCallCheck(this,RandomSampler),r.call(this,t)}return createClass(RandomSampler,[{key:Symbol.iterator,value:regenerator.mark((function value(){var t,r,o,i;return regenerator.wrap((function value$(a){for(;;)switch(a.prev=a.next){case 0:for(t=toConsumableArray(Array(this.dataset.length).keys()),r=t.length-1;r>0;r--)o=Math.floor(Math.random()*(r+1)),i=[t[o],t[r]],t[r]=i[0],t[o]=i[1];return a.delegateYield(t,"t0",3);case 3:case"end":return a.stop()}}),value,this)}))},{key:"length",get:function get(){return this.dataset.length}}]),RandomSampler}(Sampler),BatchSampler=function(t){inherits(BatchSampler,t);var r=_createSuper$4(BatchSampler);function BatchSampler(t,o,i){var a;return classCallCheck(this,BatchSampler),(a=r.call(this)).sampler=t,a.batchSize=o,a.dropLast=i,a}return createClass(BatchSampler,[{key:Symbol.iterator,value:regenerator.mark((function value(){var t,r,o,i;return regenerator.wrap((function value$(a){for(;;)switch(a.prev=a.next){case 0:t=[],r=_createForOfIteratorHelper$3(this.sampler),a.prev=2,r.s();case 4:if((o=r.n()).done){a.next=13;break}if(i=o.value,t.push(i),t.length!==this.batchSize){a.next=11;break}return a.next=10,t;case 10:t=[];case 11:a.next=4;break;case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(2),r.e(a.t0);case 18:return a.prev=18,r.f(),a.finish(18);case 21:if(!(t.length>0)||this.dropLast){a.next=24;break}return a.next=24,t;case 24:case"end":return a.stop()}}),value,this,[[2,15,18,21]])}))},{key:"length",get:function get(){return Math[this.dropLast?"floor":"ceil"](this.sampler.length/this.batchSize)}}]),BatchSampler}(Sampler);function _createSuper$5(t){var r=_isNativeReflectConstruct$6();return function _createSuperInternal(){var o,i=getPrototypeOf(t);if(r){var a=getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return possibleConstructorReturn(this,o)}}function _isNativeReflectConstruct$6(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var BaseDatasetFetcher=function(){function BaseDatasetFetcher(t,r,o){classCallCheck(this,BaseDatasetFetcher),this.dataset=t,this.collateFn=r,this.dropLast=o}return createClass(BaseDatasetFetcher,[{key:"fetch",value:function fetch(){}}]),BaseDatasetFetcher}(),MapDatasetFetcher=function(t){inherits(MapDatasetFetcher,t);var r=_createSuper$5(MapDatasetFetcher);function MapDatasetFetcher(t,o,i){return classCallCheck(this,MapDatasetFetcher),r.call(this,t,o,i)}return createClass(MapDatasetFetcher,[{key:"fetch",value:function fetch(t){var r,o=this;return r=Array.isArray(t)?t.map((function(t){return o.dataset.getItem(t)})):this.dataset.getItem(t),this.collateFn(r)}}]),MapDatasetFetcher}(BaseDatasetFetcher),tfjs_collate=function tfjs_collate(t){var r=t[0];if(r instanceof tf.Tensor)return tf.stack(t,0);if(Array.isArray(r)){for(var o=[],i=function _loop(r){o.push(tfjs_collate(t.map((function(t){return t[r]}))))},a=0;a<r.length;a++)i(a);return o}if("object"===_typeof_1(t)&&t){for(var c={},l=function _loop2(){var r=u[p];c[r]=tfjs_collate(t.map((function(t){return t[r]})))},p=0,u=Object.keys(r);p<u.length;p++)l();return c}};function _createForOfIteratorHelper$4(t,r){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=_unsupportedIterableToArray$5(t))||r&&t&&"number"==typeof t.length){o&&(t=o);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,p=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){p=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(p)throw c}}}}function _unsupportedIterableToArray$5(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray$5(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray$5(t,r):void 0}}function _arrayLikeToArray$5(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function _createSuper$6(t){var r=_isNativeReflectConstruct$7();return function _createSuperInternal(){var o,i=getPrototypeOf(t);if(r){var a=getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return possibleConstructorReturn(this,o)}}function _isNativeReflectConstruct$7(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var DataLoader=function(){function DataLoader(t){var r=t.dataset,o=t.batchSize,i=void 0===o?1:o,a=t.shuffle,c=void 0===a||a,l=t.dropLast,p=void 0!==l&&l;classCallCheck(this,DataLoader),this.dataset=r,this.batchSize=i,this.shuffle=c,this.dropLast=p,this.shuffle?this.sampler=new RandomSampler(this.dataset):this.sampler=new SequentialSampler(this.dataset),this.batchSampler=new BatchSampler(this.sampler,this.batchSize,this.dropLast),this.collateFn=tfjs_collate}return createClass(DataLoader,[{key:Symbol.iterator,value:regenerator.mark((function value(){var t;return regenerator.wrap((function value$(r){for(;;)switch(r.prev=r.next){case 0:return t=new SimpleDataloaderIterator(this),r.delegateYield(t,"t0",2);case 2:case"end":return r.stop()}}),value,this)}))},{key:"indexSampler",get:function get(){return this.batchSampler}},{key:"length",get:function get(){return this.indexSampler.length}}]),DataLoader}(),BaseDataLoaderIterator=function BaseDataLoaderIterator(t){classCallCheck(this,BaseDataLoaderIterator),this.indexSampler=t.indexSampler,this.collateFn=t.collateFn,this.datasetFetcher=new MapDatasetFetcher(t.dataset,t.collateFn,t.dropLast)},SimpleDataloaderIterator=function(t){inherits(SimpleDataloaderIterator,t);var r=_createSuper$6(SimpleDataloaderIterator);function SimpleDataloaderIterator(t){return classCallCheck(this,SimpleDataloaderIterator),r.call(this,t)}return createClass(SimpleDataloaderIterator,[{key:Symbol.iterator,value:regenerator.mark((function value(){var t,r,o;return regenerator.wrap((function value$(i){for(;;)switch(i.prev=i.next){case 0:t=_createForOfIteratorHelper$4(this.indexSampler),i.prev=1,t.s();case 3:if((r=t.n()).done){i.next=9;break}return o=r.value,i.next=7,this.datasetFetcher.fetch(o);case 7:i.next=3;break;case 9:i.next=14;break;case 11:i.prev=11,i.t0=i.catch(1),t.e(i.t0);case 14:return i.prev=14,t.f(),i.finish(14);case 17:case"end":return i.stop()}}),value,this,[[1,11,14,17]])}))}]),SimpleDataloaderIterator}(BaseDataLoaderIterator),index$3=Object.freeze({__proto__:null,transform:index$2,Dataset:Dataset,DataLoader:DataLoader});function ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,i)}return o}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(o),!0).forEach((function(r){defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}var PlanTrainer=function(){function PlanTrainer(t){var r=t.worker,o=t.plan,i=t.inputs,a=t.outputs,c=t.model,l=t.data,p=t.target,u=t.epochs,d=t.batchSize,y=t.stepsPerEpoch,_=void 0===y?null:y,h=t.clientConfig,g=void 0===h?{}:h,m=t.checkpoint,b=void 0===m?null:m,v=t.events,O=void 0===v?{}:v;if(classCallCheck(this,PlanTrainer),this.worker=r,this.plan=o,this.planInputs=i,this.planOutputs=a,this.originalModel=c,this.data=l,this.target=p,this.epochs=u||1,this.batchSize=l instanceof DataLoader?l.batchSize:d,this.stepsPerEpoch=_,this.clientConfig=g,this.events=O,this.logger=new Logger,this.observer=new EventObserver,this.currentModel=null,this.epoch=0,this.batchIdx=0,this.stopped=!1,O&&"object"===_typeof_1(O))for(var w=0,j=Object.keys(O);w<j.length;w++){var T=j[w];this.on(T,O[T])}b&&this.applyCheckpoint(b)}var t,r;return createClass(PlanTrainer,[{key:"on",value:function on(t,r){[PlanTrainer.EVENT_TRAINING_START,PlanTrainer.EVENT_TRAINING_END,PlanTrainer.EVENT_TRAINING_STOP,PlanTrainer.EVENT_EPOCH_START,PlanTrainer.EVENT_EPOCH_END,PlanTrainer.EVENT_BATCH_START,PlanTrainer.EVENT_BATCH_END].includes(t)&&this.observer.subscribe(t,r.bind(this))}},{key:"start",value:(r=asyncToGenerator(regenerator.mark((function _callee(){var t,r,o,i,a,c,l,p,u,d,y,_,h,g,m,b,v,O,w=arguments;return regenerator.wrap((function _callee$(j){for(;;)switch(j.prev=j.next){case 0:t=w.length>0&&void 0!==w[0]&&w[0],r=0,o=0,i=this.originalModel,this.stopped&&t&&(this.stopped=!1,r=this.epoch,o=this.batchIdx,i=this.currentModel),a=i.params.map((function(t){return t.clone()})),this.observer.broadcast(PlanTrainer.EVENT_TRAINING_START,{}),c=r;case 8:if(!(c<this.epochs)){j.next=61;break}if(this.epoch=c,this.batchIdx=o,o=0,this.observer.broadcast(PlanTrainer.EVENT_EPOCH_START,{epoch:c}),!this._isStopped()){j.next=15;break}return j.abrupt("return");case 15:l=void 0;case 16:if(void 0===(l=this._nextBatch())){j.next=57;break}if(this.observer.broadcast(PlanTrainer.EVENT_BATCH_START,{epoch:c,batch:this.batchIdx}),!this._isStopped()){j.next=20;break}return j.abrupt("return");case 20:return(u={})[PlanInputSpec.TYPE_BATCH_SIZE]=this.batchSize,u[PlanInputSpec.TYPE_MODEL_PARAM]=a,u[PlanInputSpec.TYPE_CLIENT_CONFIG_PARAM]=this.clientConfig,this.data instanceof DataLoader?u[PlanInputSpec.TYPE_DATA]=l:(u[PlanInputSpec.TYPE_DATA]=l[0],u[PlanInputSpec.TYPE_TARGET]=l[1]),d=PlanInputSpec.resolve(this.planInputs,u),j.next=28,(p=this.plan).execute.apply(p,[this.worker].concat(toConsumableArray(d)));case 28:if(y=j.sent,_=PlanOutputSpec.resolve(this.planOutputs,y),Object.hasOwnProperty.call(_,PlanOutputSpec.TYPE_MODEL_PARAM))for(h=_[PlanOutputSpec.TYPE_MODEL_PARAM],g=0;g<h.length;g++)a[g].dispose(),a[g]=h[g];if(this.currentModel=new SyftModel({worker:this.worker,modelParameters:a}),m={epoch:c,batch:this.batchIdx},!Object.hasOwnProperty.call(_,PlanOutputSpec.TYPE_LOSS)){j.next=37;break}return j.next=36,_[PlanOutputSpec.TYPE_LOSS].array();case 36:m.loss=j.sent;case 37:if(!Object.hasOwnProperty.call(_,PlanOutputSpec.TYPE_METRIC)){j.next=48;break}m.metrics={},b=0,v=Object.keys(_[PlanOutputSpec.TYPE_METRIC]);case 40:if(!(b<v.length)){j.next=48;break}return O=v[b],j.next=44,_[PlanOutputSpec.TYPE_METRIC][O].array();case 44:m.metrics[O]=j.sent;case 45:b++,j.next=40;break;case 48:return l.map((function(t){return t.dispose()})),this.observer.broadcast(PlanTrainer.EVENT_BATCH_END,m),j.next=52,tf.nextFrame();case 52:if(!("number"==typeof this.stepsPerEpoch&&this.batchIdx>=this.stepsPerEpoch)){j.next=54;break}return j.abrupt("break",57);case 54:this.batchIdx++,j.next=16;break;case 57:this.observer.broadcast(PlanTrainer.EVENT_EPOCH_END,{epoch:c});case 58:c++,j.next=8;break;case 61:this.observer.broadcast(PlanTrainer.EVENT_TRAINING_END,{});case 62:case"end":return j.stop()}}),_callee,this)}))),function start(){return r.apply(this,arguments)})},{key:"_isStopped",value:function _isStopped(){return!!this.stopped&&(this.observer.broadcast(PlanTrainer.EVENT_TRAINING_STOP,{}),!0)}},{key:"_nextBatch",value:function _nextBatch(){if(this.data instanceof DataLoader){if(this.dataIterator||(this.dataIterator=this.data[Symbol.iterator]()),this.batchIdx>=this.data.length)return;return this.dataIterator.next().value}var t=Math.floor(this.data.shape[0]/this.batchSize);if(!(this.batchIdx>=t))return[tf.slice(this.data,this.batchIdx*this.batchSize,this.batchSize),tf.slice(this.target,this.batchIdx*this.batchSize,this.batchSize)]}},{key:"stop",value:function stop(){var t=this;return new Promise((function(r){t.observer.subscribe(PlanTrainer.EVENT_TRAINING_STOP,(function(){r(t.createCheckpoint())}),1),t.stopped=!0}))}},{key:"resume",value:(t=asyncToGenerator(regenerator.mark((function _callee2(){return regenerator.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(!this.stopped){t.next=3;break}return t.next=3,this.start(!0);case 3:case"end":return t.stop()}}),_callee2,this)}))),function resume(){return t.apply(this,arguments)})},{key:"createCheckpoint",value:function createCheckpoint(){return new PlanTrainerCheckpoint({epochs:this.epochs,stepsPerEpoch:this.stepsPerEpoch,batchSize:this.batchSize,clientConfig:this.clientConfig,originalModel:this.originalModel,epoch:this.epoch,batch:this.batchIdx,currentModel:this.currentModel})}},{key:"applyCheckpoint",value:function applyCheckpoint(t){this.epochs=t.epochs,this.epoch=t.epoch,this.stepsPerEpoch=t.stepsPerEpoch,this.batchIdx=t.batch,this.batchSize=t.batchSize,this.currentModel=t.currentModel,this.clientConfig=t.clientConfig,this.stopped=!0}}]),PlanTrainer}();defineProperty(PlanTrainer,"EVENT_TRAINING_START","start"),defineProperty(PlanTrainer,"EVENT_TRAINING_END","end"),defineProperty(PlanTrainer,"EVENT_TRAINING_STOP","stop"),defineProperty(PlanTrainer,"EVENT_EPOCH_START","epochStart"),defineProperty(PlanTrainer,"EVENT_EPOCH_END","epochEnd"),defineProperty(PlanTrainer,"EVENT_BATCH_START","batchStart"),defineProperty(PlanTrainer,"EVENT_BATCH_END","batchEnd");var PlanTrainerCheckpoint=function(){function PlanTrainerCheckpoint(t){var r=t.epochs,o=t.stepsPerEpoch,i=t.batchSize,a=t.clientConfig,c=t.epoch,l=t.batch,p=t.currentModel;classCallCheck(this,PlanTrainerCheckpoint),this.epochs=r,this.stepsPerEpoch=o,this.batchSize=i,this.clientConfig=a,this.epoch=c,this.batch=l,this.currentModel=p}var t;return createClass(PlanTrainerCheckpoint,[{key:"toJSON",value:(t=asyncToGenerator(regenerator.mark((function _callee3(){return regenerator.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.epochs,t.t1=this.stepsPerEpoch,t.t2=this.batchSize,t.t3=this.clientConfig||{},t.t4=this.epoch,t.t5=this.batch,t.t6=base64Encode,t.next=9,this.currentModel.toProtobuf();case 9:return t.t7=t.sent,t.t8=(0,t.t6)(t.t7),t.abrupt("return",{epochs:t.t0,stepsPerEpoch:t.t1,batchSize:t.t2,clientConfig:t.t3,epoch:t.t4,batch:t.t5,currentModelBase64:t.t8});case 12:case"end":return t.stop()}}),_callee3,this)}))),function toJSON(){return t.apply(this,arguments)})}],[{key:"fromJSON",value:function fromJSON(t,r){var o=new SyftModel({worker:t,serializedModelParameters:base64Decode(r.currentModelBase64)});return new PlanTrainerCheckpoint(_objectSpread(_objectSpread({},r),{},{currentModel:o}))}}]),PlanTrainerCheckpoint}();function ownKeys$1(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,i)}return o}function _objectSpread$1(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?ownKeys$1(Object(o),!0).forEach((function(r){defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys$1(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}var Job=function(){function Job(t){var r=t.worker,o=t.modelName,i=t.modelVersion,a=t.authToken,c=t.gridClient;classCallCheck(this,Job),this.worker=r,this.modelName=o,this.modelVersion=i,this.authToken=a,this.grid=c,this.logger=new Logger,this.observer=new EventObserver,this.worker_id=null,this.requires_speed_test=!1,this.model=null,this.plans={},this.protocols={},this.cycleParams={},this.clientConfig={}}var t,r,o,i;return createClass(Job,[{key:"on",value:function on(t,r){["accepted","rejected","error"].includes(t)&&this.observer.subscribe(t,r.bind(this))}},{key:"initCycle",value:(i=asyncToGenerator(regenerator.mark((function _callee(t){var r,o,i,a,c,l,p,u,d,y,_;return regenerator.wrap((function _callee$(h){for(;;)switch(h.prev=h.next){case 0:return this.logger.log("Cycle initialization with params: ".concat(JSON.stringify(t))),this.cycleParams=t,this.clientConfig=t.client_config,h.next=5,this.grid.getModel(this.worker_id,t.request_key,t.model_id);case 5:r=h.sent,this.model=new SyftModel({worker:this.worker,serializedModelParameters:r}),o=0,i=Object.keys(t.plans);case 8:if(!(o<i.length)){h.next=24;break}return a=i[o],c=t.plans[a],h.next=13,this.grid.getPlan(this.worker_id,t.request_key,c);case 13:l=h.sent,h.prev=14,this.plans[a]=unserialize(this.worker,l,protobuf$1.syft_proto.execution.v1.Plan),h.next=21;break;case 18:throw h.prev=18,h.t0=h.catch(14),new PlanLoadFailedError(a,h.t0.message);case 21:o++,h.next=8;break;case 24:p=0,u=Object.keys(t.protocols);case 25:if(!(p<u.length)){h.next=35;break}return d=u[p],y=t.protocols[d],h.next=30,this.grid.getProtocol(this.worker_id,t.request_key,y);case 30:_=h.sent,this.protocols[d]=unserialize(this.worker,_,protobuf$1.syft_proto.execution.v1.Protocol);case 32:p++,h.next=25;break;case 35:case"end":return h.stop()}}),_callee,this,[[14,18]])}))),function initCycle(t){return i.apply(this,arguments)})},{key:"start",value:(o=asyncToGenerator(regenerator.mark((function _callee2(){var t,r,o,i,a,c;return regenerator.wrap((function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,this.grid.authenticate(this.modelName,this.modelVersion,this.authToken);case 3:if(r=l.sent,this.worker_id=r.worker_id,this.requires_speed_test=r.requires_speed_test||!1,o=0,i=0,a=0,!this.requires_speed_test){l.next=14;break}return l.next=10,this.grid.getConnectionSpeed(this.worker_id);case 10:c=l.sent,o=c.ping,i=c.download,a=c.upload;case 14:return l.next=16,this.grid.requestCycle(this.worker_id,this.modelName,this.modelVersion,o,i,a);case 16:if((t=l.sent).status!==CYCLE_STATUS_ACCEPTED){l.next=21;break}return this.logger.log("Accepted into cycle with params: ".concat(JSON.stringify(t,null,2))),l.next=21,this.initCycle(t);case 21:if([CYCLE_STATUS_ACCEPTED,CYCLE_STATUS_REJECTED].includes(t.status)){l.next=23;break}throw new GridUnknownCycleStatusError(t.status);case 23:l.next=29;break;case 25:return l.prev=25,l.t0=l.catch(0),this.observer.broadcast("error",l.t0),l.abrupt("return");case 29:l.t1=t.status,l.next=l.t1===CYCLE_STATUS_ACCEPTED?32:l.t1===CYCLE_STATUS_REJECTED?34:37;break;case 32:return this.observer.broadcast("accepted",{model:this.model,clientConfig:this.clientConfig}),l.abrupt("break",37);case 34:return this.logger.log("Rejected from cycle with timeout: ".concat(t.timeout)),this.observer.broadcast("rejected",{timeout:t.timeout}),l.abrupt("break",37);case 37:case"end":return l.stop()}}),_callee2,this,[[0,25]])}))),function start(){return o.apply(this,arguments)})},{key:"request",value:(r=asyncToGenerator(regenerator.mark((function _callee3(){return regenerator.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.start());case 1:case"end":return t.stop()}}),_callee3,this)}))),function request(){return r.apply(this,arguments)})},{key:"report",value:(t=asyncToGenerator(regenerator.mark((function _callee4(t){return regenerator.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.grid.submitReport(this.worker_id,this.cycleParams.request_key,base64Encode(t));case 2:case"end":return r.stop()}}),_callee4,this)}))),function report(r){return t.apply(this,arguments)})},{key:"train",value:function train(t,r){var o=_objectSpread$1({clientConfig:this.clientConfig,batchSize:this.clientConfig.batch_size,epochs:this.clientConfig.max_epochs||1,stepsPerEpoch:this.clientConfig.max_updates||null},r),i=new PlanTrainer(_objectSpread$1({worker:this.worker,plan:this.plans[t],model:this.model},o));return setTimeout((function(){i.start(void 0!==r.checkpoint)}),0),i}}]),Job}(),Syft=function(){function Syft(t){var r=t.url,o=t.verbose,i=t.peerConfig;classCallCheck(this,Syft),this.logger=new Logger("syft.js",o),this.verbose=o,this.gridClient=new GridAPIClient({url:r,allowInsecureUrl:o}),this.objects=new ObjectRegistry,this.observer=new EventObserver,this.peerConfig=i}return createClass(Syft,[{key:"newJob",value:function newJob(t){var r=t.modelName,o=t.modelVersion,i=t.authToken;return new Job({worker:this,modelName:r,modelVersion:o,authToken:i,gridClient:this.gridClient})}}]),Syft}();exports.CYCLE_STATUS_ACCEPTED=CYCLE_STATUS_ACCEPTED,exports.CYCLE_STATUS_REJECTED=CYCLE_STATUS_REJECTED,exports.GET_PROTOCOL=GET_PROTOCOL,exports.PlanInputSpec=PlanInputSpec,exports.PlanOutputSpec=PlanOutputSpec,exports.PlanTrainerCheckpoint=PlanTrainerCheckpoint,exports.SOCKET_PING=SOCKET_PING,exports.SOCKET_STATUS=SOCKET_STATUS,exports.Syft=Syft,exports.WEBRTC_DATACHANNEL_BUFFER_TIMEOUT=WEBRTC_DATACHANNEL_BUFFER_TIMEOUT,exports.WEBRTC_DATACHANNEL_CHUNK_SIZE=WEBRTC_DATACHANNEL_CHUNK_SIZE,exports.WEBRTC_DATACHANNEL_MAX_BUFFER=WEBRTC_DATACHANNEL_MAX_BUFFER,exports.WEBRTC_DATACHANNEL_MAX_BUFFER_TIMEOUTS=WEBRTC_DATACHANNEL_MAX_BUFFER_TIMEOUTS,exports.WEBRTC_INTERNAL_MESSAGE=WEBRTC_INTERNAL_MESSAGE,exports.WEBRTC_JOIN_ROOM=WEBRTC_JOIN_ROOM,exports.WEBRTC_PEER_CONFIG=WEBRTC_PEER_CONFIG,exports.WEBRTC_PEER_LEFT=WEBRTC_PEER_LEFT,exports.WEBRTC_PEER_OPTIONS=WEBRTC_PEER_OPTIONS,exports.data=index$3,exports.default=Syft,Object.defineProperty(exports,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map
